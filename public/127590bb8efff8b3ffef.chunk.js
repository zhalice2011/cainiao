(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1027:function(e,n,t){var a=t(1028),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1028:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._2GEXB:not(:last-child) {\n    margin-bottom: 10px;\n}\n\n._1ltVW {\n    padding: 0 10px;\n    flex-wrap: nowrap;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n._1ltVW span { display: inline-block; }\n\n._1ltVW .Uj9YU, ._1ltVW ._1sSEr {\n        margin-right: 12px;\n    }\n\n._1ltVW ._3mbXq {\n        margin-right: 8px;\n    }\n\n._1ltVW ._1sSEr, ._1ltVW ._3mbXq {\n        line-height: 32px;\n        flex-shrink: 0;\n        max-width: 140px;\n    }\n\n._1ltVW ._1sSEr {\n        font-weight: 600;\n    }\n","",{version:3,sources:["ValidationRule.scss"],names:[],mappings:"AAAA;IACI,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,iBAAiB;IACjB,mBAAmB;IACnB,gBAAgB;AAgBpB;;AAfI,eAAO,qBAAqB,EAAE;;AAC9B;QACI,kBAAkB;IACtB;;AACA;QACI,iBAAiB;IACrB;;AACA;QACI,iBAAiB;QACjB,cAAc;QACd,gBAAgB;IACpB;;AACA;QACI,gBAAgB;IACpB",file:"ValidationRule.scss",sourcesContent:[".rule:not(:last-child) {\n    margin-bottom: 10px;\n}\n\n.ruleDesc {\n    padding: 0 10px;\n    flex-wrap: nowrap;\n    white-space: nowrap;\n    overflow: hidden;\n    span { display: inline-block; }\n    .type, .val {\n        margin-right: 12px;\n    }\n    .label {\n        margin-right: 8px;\n    }\n    .val, .label {\n        line-height: 32px;\n        flex-shrink: 0;\n        max-width: 140px;\n    }\n    .val {\n        font-weight: 600;\n    }\n}\n"]}]),n.locals={rule:"_2GEXB",ruleDesc:"_1ltVW",type:"Uj9YU",val:"_1sSEr",label:"_3mbXq"}},1029:function(e,n,t){var a=t(1030),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1030:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,".kfxwi {\n    margin-left: 10px;\n    font-weight: 400;\n}\n._2lKxG .kfxwi {\n    display: none;\n}","",{version:3,sources:["ValidationRuleTypeSelect.scss"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,gBAAgB;AACpB;AACA;IACI,aAAa;AACjB",file:"ValidationRuleTypeSelect.scss",sourcesContent:[".optionTip {\n    margin-left: 10px;\n    font-weight: 400;\n}\n.ruleSelect .optionTip {\n    display: none;\n}"]}]),n.locals={optionTip:"kfxwi",ruleSelect:"_2lKxG"}},1031:function(e,n,t){var a=t(1032),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1032:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,".wArLb {\n    max-height: 300px;\n}\n._1mIm6:first-child {\n    margin-bottom: 20px;\n}\n._1mIm6 ._2ygzv {\n        line-height: 32px;\n        min-width: 100px;\n    }\n._1mIm6 ._3zdeF { min-width: 10px; }\n._1mIm6 .cpPMl { min-width: 100px; }\n._1mIm6 ._1FUQM {\n        line-height: 32px;\n        padding: 0 6px;\n    }\n._3j_Yh {\n    padding-right: 54px;\n    height: 32px;\n}","",{version:3,sources:["ValidationRuleEditor.scss"],names:[],mappings:"AAAA;IACI,iBAAiB;AACrB;AACA;IACI,mBAAmB;AACvB;AAEI;QACI,iBAAiB;QACjB,gBAAgB;IACpB;AACA,kBAAS,eAAe,EAAE;AAC1B,iBAAU,gBAAgB,EAAE;AAC5B;QACI,iBAAiB;QACjB,cAAc;IAClB;AAEJ;IACI,mBAAmB;IACnB,YAAY;AAChB",file:"ValidationRuleEditor.scss",sourcesContent:[".conds {\n    max-height: 300px;\n}\n.row:first-child {\n    margin-bottom: 20px;\n}\n.row {\n    .label {\n        line-height: 32px;\n        min-width: 100px;\n    }\n    .space { min-width: 10px; }\n    .min100 { min-width: 100px; }\n    .separator {\n        line-height: 32px;\n        padding: 0 6px;\n    }\n}\n.condHeader {\n    padding-right: 54px;\n    height: 32px;\n}"]}]),n.locals={conds:"wArLb",row:"_1mIm6",label:"_2ygzv",space:"_3zdeF",min100:"cpPMl",separator:"_1FUQM",condHeader:"_3j_Yh"}},1033:function(e,n,t){var a=t(1034),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1034:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,".KB_vu {\n    height: 10em;\n    width: 100%;\n    overflow: auto\n}\n.KB_vu._2GW2m {\n        height: 100%;\n    }\n.KB_vu ._1L4U_ {\n        margin-right: 1em;\n    }\n.KB_vu._3nT6N {\n        flex-direction: column;\n        min-height: 0;\n    }\n.KB_vu._3nT6N ._1L4U_ {\n            margin-bottom: 1em;\n            margin-right: 0;\n        }\n","",{version:3,sources:["EmptyContent.scss"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,WAAW;IACX;AAkBJ;AAhBI;QACI,YAAY;IAChB;AAEA;QACI,iBAAiB;IACrB;AAEA;QACI,sBAAsB;QACtB,aAAa;IAKjB;AAJI;YACI,kBAAkB;YAClB,eAAe;QACnB",file:"EmptyContent.scss",sourcesContent:[".container {\n    height: 10em;\n    width: 100%;\n    overflow: auto;\n\n    &.fullHeight {\n        height: 100%;\n    }\n\n    .iconBox {\n        margin-right: 1em;\n    }\n\n    &.column {\n        flex-direction: column;\n        min-height: 0;\n        .iconBox {\n            margin-bottom: 1em;\n            margin-right: 0;\n        }\n    }\n}\n"]}]),n.locals={container:"KB_vu",fullHeight:"_2GW2m",iconBox:"_1L4U_",column:"_3nT6N"}},1035:function(e,n,t){var a=t(1036),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1036:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"\n    .VERsj._2Ovx4, .VERsj:hover {\n        background: var(--color-grey-100);\n    }\n.VERsj._2Ovx4 {\n        color: var(--color-primary-400);\n    }\n","",{version:3,sources:["TableNameList.scss"],names:[],mappings:";IACI;QACI,iCAAiC;IACrC;AACA;QACI,+BAA+B;IACnC",file:"TableNameList.scss",sourcesContent:[".item {\n    &.active, &:hover {\n        background: var(--color-grey-100);\n    }\n    &.active {\n        color: var(--color-primary-400);\n    }\n}\n"]}]),n.locals={item:"VERsj",active:"_2Ovx4"}},1049:function(e,n,t){var a=t(1050),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1050:function(e,n,t){(e.exports=t(25)(!0)).push([e.i,'.gd-preview-table {\n        position: relative\n    }\n    .gd-preview-table.maxHeight {\n            height: 100%;\n            overflow: hidden;\n        }\n    .gd-preview-table .padder-curtain{\n            display: none;\n        }\n    .gd-preview-table.hasHeader .padder-curtain {\n                display: block;\n                position: absolute;\n                height: 39px;\n                width: 60px;\n                top: 0;\n                left: 0;\n            }\n    .gd-preview-table table {\n            border-spacing: 0;\n            padding: 0;\n            border-collapse: separate;\n            border: 0;\n            font-size: 12px;\n            margin-bottom: 0;\n            min-width: 100%;\n        }\n    .gd-preview-table th {\n            line-height: 16px;\n            text-align: left;\n            font-weight: 600;\n            vertical-align: top;\n            position: relative;\n            padding: 0;\n            white-space: nowrap;\n            box-sizing: content-box;\n            box-sizing: initial;\n        }\n    .gd-preview-table th .thInner {\n                position: relative;\n                padding: 6px 45px 10px 12px;\n                transition: width .1s ease-in-out;\n                box-sizing: border-box;\n                white-space: pre\n            }\n    .gd-preview-table th .thInner.large {\n                    padding: 6px 12px 10px 12px;\n                }\n    .gd-preview-table th .titleWrapper {\n                margin: 6px 0 1px 0;\n                transition: all .1s ease-in-out;\n                min-width: 50px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                transform: translate(0px, 0);\n                line-height: 16px;\n            }\n    .gd-preview-table tbody {\n            transition: opacity .5s ease-in-out;\n            opacity: 1;\n        }\n    .gd-preview-table .row-response, .gd-preview-table .row-response:hover {\n        }\n    .gd-preview-table tr td {\n                font-weight: normal;\n                line-height: 16px;\n                vertical-align: middle;\n                text-align: left;\n                padding: 10px;\n                white-space: nowrap;\n                position: relative\n            }\n    .gd-preview-table tr td:empty:before {\n                    content: "\\200b";\n                }\n    .gd-preview-table tr td.first {\n                    cursor: pointer;\n                }\n    .gd-preview-table tr td .tdInner {\n                    max-width: 300px;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    white-space: pre;\n                    line-height: 16px\n                }\n    .gd-preview-table tr td .tdInner:empty:before {\n                        content: "\\200b";\n                    }\n    .gd-preview-table .dataTableOuterWrapper {\n            position: relative;\n            margin-left: 60px;\n            margin-top: 0;\n            overflow: auto;\n        }\n    .gd-preview-table.maxHeight .dataTableOuterWrapper {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                right: 0;\n                left: 60px;\n                margin-left: 0;\n            }\n    .gd-preview-table.maxWidth .dataTableOuterWrapper table {\n                    width: 100%;\n                }\n    .gd-preview-table.maxWidth .dataTableOuterWrapper.auto-td-width td .tdInner {\n                            max-width: none;\n                            max-width: initial;\n                        }\n    .gd-preview-table.maxWidth .pinnedHeaderWrapper th {\n                    max-width: none;\n                }\n    .gd-preview-table .dataTableWrapper {\n        }\n    .gd-preview-table td.rowLabel {\n            width: 25px;\n            text-align: right;\n            padding-bottom: 10px;\n        }\n    .gd-preview-table .pinnedTable {\n            transition: opacity .3s ease-in-out;\n            opacity: 1;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n    .gd-preview-table .pinnedTable table {\n                width: 61px;\n            }\n    .gd-preview-table .pinnedTable table tr td.rowLabel {\n                        padding-left: 5px;\n                        padding-right: 5px;\n                        line-height: 16px;\n                    }\n    .gd-preview-table .padder {\n            padding-bottom: 14px !important;\n        }\n    .gd-preview-table .tableHeader {\n            position: absolute;\n            top: 0;\n            left: 60px;\n            overflow: hidden;\n        }\n    .gd-preview-table .pinnedHeaderWrapper {\n            display: none;\n        }\n    .gd-preview-table .loadingSpinner {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            left: 0;\n            display: none\n        }\n    .gd-preview-table .loadingSpinner.active {\n                display: block;\n            }\n',"",{version:3,sources:["PreviewTable.scss"],names:[],mappings:"AACI;QACI;IA0MJ;IAxMI;YACI,YAAY;YACZ,gBAAgB;QACpB;IAEA;YACI,aAAa;QACjB;IAGI;gBACI,cAAc;gBACd,kBAAkB;gBAClB,YAAY;gBACZ,WAAW;gBACX,MAAM;gBACN,OAAO;YACX;IAGJ;YACI,iBAAiB;YACjB,UAAU;YACV,yBAAyB;YACzB,SAAS;YACT,eAAe;YACf,gBAAgB;YAChB,eAAe;QACnB;IAEA;YACI,iBAAiB;YACjB,gBAAgB;YAChB,gBAAgB;YAChB,mBAAmB;YACnB,kBAAkB;YAClB,UAAU;YACV,mBAAmB;YACnB,uBAAmB;YAAnB,mBAAmB;QAuBvB;IArBI;gBACI,kBAAkB;gBAClB,2BAA2B;gBAC3B,iCAAiC;gBACjC,sBAAsB;gBACtB;YAKJ;IAHI;oBACI,2BAA2B;gBAC/B;IAGJ;gBACI,mBAAmB;gBACnB,+BAA+B;gBAC/B,eAAe;gBACf,gBAAgB;gBAChB,uBAAuB;gBACvB,4BAA4B;gBAC5B,iBAAiB;YACrB;IAGJ;YACI,mCAAmC;YACnC,UAAU;QACd;IAEA;QAEA;IAII;gBACI,mBAAmB;gBACnB,iBAAiB;gBACjB,sBAAsB;gBACtB,gBAAgB;gBAChB,aAAa;gBACb,mBAAmB;gBACnB;YAqBJ;IAnBI;oBACI,gBAAgB;gBACpB;IAEA;oBACI,eAAe;gBACnB;IAEA;oBACI,gBAAgB;oBAChB,gBAAgB;oBAChB,uBAAuB;oBACvB,gBAAgB;oBAChB;gBAKJ;IAHI;wBACI,gBAAgB;oBACpB;IAKZ;YACI,kBAAkB;YAClB,iBAAiB;YACjB,aAAa;YACb,cAAc;QAClB;IAGI;gBACI,kBAAkB;gBAClB,MAAM;gBACN,SAAS;gBACT,QAAQ;gBACR,UAAU;gBACV,cAAc;YAClB;IAKI;oBACI,WAAW;gBACf;IAIQ;4BACI,eAAkB;4BAAlB,kBAAkB;wBACtB;IAMR;oBACI,eAAe;gBACnB;IAIR;QACA;IAEA;YACI,WAAW;YACX,iBAAiB;YACjB,oBAAoB;QACxB;IAEA;YACI,mCAAmC;YACnC,UAAU;YACV,kBAAkB;YAClB,MAAM;YACN,OAAO;QAYX;IAVI;gBACI,WAAW;YAQf;IANQ;wBACI,iBAAiB;wBACjB,kBAAkB;wBAClB,iBAAiB;oBACrB;IAKZ;YACI,+BAA+B;QACnC;IAEA;YACI,kBAAkB;YAClB,MAAM;YACN,UAAU;YACV,gBAAgB;QACpB;IAEA;YACI,aAAa;QACjB;IAEA;YACI,kBAAkB;YAClB,MAAM;YACN,SAAS;YACT,QAAQ;YACR,OAAO;YACP;QAKJ;IAHI;gBACI,cAAc;YAClB",file:"PreviewTable.scss",sourcesContent:[':global{\n    .gd-preview-table {\n        position: relative;\n\n        &.maxHeight {\n            height: 100%;\n            overflow: hidden;\n        }\n\n        .padder-curtain{\n            display: none;\n        }\n\n        &.hasHeader {\n            .padder-curtain {\n                display: block;\n                position: absolute;\n                height: 39px;\n                width: 60px;\n                top: 0;\n                left: 0;\n            }\n        }\n\n        table {\n            border-spacing: 0;\n            padding: 0;\n            border-collapse: separate;\n            border: 0;\n            font-size: 12px;\n            margin-bottom: 0;\n            min-width: 100%;\n        }\n\n        th {\n            line-height: 16px;\n            text-align: left;\n            font-weight: 600;\n            vertical-align: top;\n            position: relative;\n            padding: 0;\n            white-space: nowrap;\n            box-sizing: initial;\n\n            .thInner {\n                position: relative;\n                padding: 6px 45px 10px 12px;\n                transition: width .1s ease-in-out;\n                box-sizing: border-box;\n                white-space: pre;\n\n                &.large {\n                    padding: 6px 12px 10px 12px;\n                }\n            }\n\n            .titleWrapper {\n                margin: 6px 0 1px 0;\n                transition: all .1s ease-in-out;\n                min-width: 50px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                transform: translate(0px, 0);\n                line-height: 16px;\n            }\n        }\n\n        tbody {\n            transition: opacity .5s ease-in-out;\n            opacity: 1;\n        }\n\n        .row-response,\n        .row-response:hover {\n        }\n\n        tr {\n\n            td {\n                font-weight: normal;\n                line-height: 16px;\n                vertical-align: middle;\n                text-align: left;\n                padding: 10px;\n                white-space: nowrap;\n                position: relative;\n\n                &:empty:before {\n                    content: "\\200b";\n                }\n\n                &.first {\n                    cursor: pointer;\n                }\n\n                .tdInner {\n                    max-width: 300px;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    white-space: pre;\n                    line-height: 16px;\n\n                    &:empty:before {\n                        content: "\\200b";\n                    }\n                }\n            }\n        }\n\n        .dataTableOuterWrapper {\n            position: relative;\n            margin-left: 60px;\n            margin-top: 0;\n            overflow: auto;\n        }\n\n        &.maxHeight {\n            .dataTableOuterWrapper {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                right: 0;\n                left: 60px;\n                margin-left: 0;\n            }\n        }\n\n        &.maxWidth {\n            .dataTableOuterWrapper {\n                table {\n                    width: 100%;\n                }\n\n                &:global(.auto-td-width) {\n                    td {\n                        .tdInner {\n                            max-width: initial;\n                        }\n                    }\n                }\n            }\n\n            .pinnedHeaderWrapper {\n                th {\n                    max-width: none;\n                }\n            }\n        }\n\n        .dataTableWrapper {\n        }\n\n        td.rowLabel {\n            width: 25px;\n            text-align: right;\n            padding-bottom: 10px;\n        }\n\n        .pinnedTable {\n            transition: opacity .3s ease-in-out;\n            opacity: 1;\n            position: absolute;\n            top: 0;\n            left: 0;\n\n            table {\n                width: 61px;\n                tr {\n                    td.rowLabel {\n                        padding-left: 5px;\n                        padding-right: 5px;\n                        line-height: 16px;\n                    }\n                }\n            }\n        }\n\n        .padder {\n            padding-bottom: 14px !important;\n        }\n\n        .tableHeader {\n            position: absolute;\n            top: 0;\n            left: 60px;\n            overflow: hidden;\n        }\n\n        .pinnedHeaderWrapper {\n            display: none;\n        }\n\n        .loadingSpinner {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            left: 0;\n            display: none;\n\n            &.active {\n                display: block;\n            }\n        }\n    }\n}\n']}])},1051:function(e,n,t){var a=t(1052),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1052:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._2Nq8c {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n}\n\n    ._2Nq8c ._1li_z {\n        flex: 1;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        overflow: hidden;\n    }\n\n    ._2Nq8c ._1li_z ._1MjQJ:hover {\n            text-decoration: underline;\n            cursor: pointer;\n        }\n\n    ._2Nq8c ._2NzFn {\n        margin-left: 6px;\n        cursor: pointer;\n    }\n._5R9C9 {\n    height: 100%;\n}\n\n.DJaNc {\n    margin: 10px 0;\n    text-align: center;\n}\n\n._1RtfN {\n    width: 90px;\n}\n\n._1RtfN i { margin-right: 6px; }\n","",{version:3,sources:["DsPreviewTable.scss"],names:[],mappings:"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,8BAA8B;IAC9B,mBAAmB;AAmBvB;;IAjBI;QACI,OAAO;QACP,aAAa;QACb,mBAAmB;QACnB,8BAA8B;QAC9B,mBAAmB;QACnB,gBAAgB;IAKpB;;IAJI;YACI,0BAA0B;YAC1B,eAAe;QACnB;;IAGJ;QACI,gBAAgB;QAChB,eAAe;IACnB;AAEJ;IACI,YAAY;AAChB;;AAEA;IACI,cAAc;IACd,kBAAkB;AACtB;;AAEA;IACI,WAAW;AAEf;;AADI,YAAI,iBAAiB,EAAE",file:"DsPreviewTable.scss",sourcesContent:[".columnNameWrapper {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n    .columnName {\n        flex: 1;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        overflow: hidden;\n        .sortAction:hover {\n            text-decoration: underline;\n            cursor: pointer;\n        }\n    }\n\n    .columnOptionBtn {\n        margin-left: 6px;\n        cursor: pointer;\n    }\n}\n.previewTableWrapper {\n    height: 100%;\n}\n\n.paginationWrapper {\n    margin: 10px 0;\n    text-align: center;\n}\n\n.menu-item {\n    width: 90px;\n    i { margin-right: 6px; }\n}\n"]}]),n.locals={columnNameWrapper:"_2Nq8c",columnName:"_1li_z",sortAction:"_1MjQJ",columnOptionBtn:"_2NzFn",previewTableWrapper:"_5R9C9",paginationWrapper:"DJaNc","menu-item":"_1RtfN"}},1149:function(e,n,t){var a=t(1150),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1150:function(e,n,t){n=e.exports=t(25)(!0);var a=t(254)(t(1151));n.push([e.i,"._1-TEl {\n    position: absolute;\n    white-space: nowrap;\n    border-radius: 2px;\n    border: 1px solid transparent;\n}\n\n    ._1-TEl ._2Zn-z {\n        visibility: hidden;\n    }\n\n._1-TEl._1ZTcq {\n        border: 1px solid var(--color-primary-400);\n        box-shadow: 0 2px 10px var(--color-primary-400)\n    }\n\n._1-TEl._1ZTcq:hover {\n            box-shadow: 0 2px 10px var(--color-primary-400);\n        }\n\n._1-TEl._1ZTcq .shadow-bottom-ins {\n                box-shadow: none\n            }\n\n._1-TEl._3_N8C > div {\n        pointer-events: none;\n    }\n\n._1-TEl:hover {\n        box-shadow:0px 2px 10px 2px rgba(74,144,226,0.21),0px 0px 3px 0px rgba(74,144,226,0.5);\n    }\n\n._1-TEl:hover .shadow-bottom-ins {\n                box-shadow: none\n            }\n\n._1-TEl .shadow-bottom-ins {\n            box-shadow: 1px 1px 3px 1px #E3E7F3;\n        }\n\n._1-TEl .shadow-bottom-ins .task-sprite {\n                background-image: url("+a+");\n            }\n\n\n","",{version:3,sources:["Node.scss"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,6BAA6B;AAuCjC;;IArCI;QACI,kBAAkB;IACtB;;AAEA;QACI,0CAA0C;QAC1C;IASJ;;AARI;YACI,+CAA+C;QACnD;;AAEI;gBACI;YACJ;;AAGR;QACI,oBAAoB;IACxB;;AACA;QACI,sFAAsF;IAM1F;;AAJQ;gBACI;YACJ;;AAKJ;YACI,mCAAmC;QAKvC;;AAHI;gBACI,+CAAmE;YACvE",file:"Node.scss",sourcesContent:[".node {\n    position: absolute;\n    white-space: nowrap;\n    border-radius: 2px;\n    border: 1px solid transparent;\n\n    .operation {\n        visibility: hidden;\n    }\n\n    &.selected {\n        border: 1px solid var(--color-primary-400);\n        box-shadow: 0 2px 10px var(--color-primary-400);\n        &:hover {\n            box-shadow: 0 2px 10px var(--color-primary-400);\n        }\n        :global {\n            .shadow-bottom-ins {\n                box-shadow: none\n            }\n        }\n    }\n    &.prevent > div {\n        pointer-events: none;\n    }\n    &:hover {\n        box-shadow:0px 2px 10px 2px rgba(74,144,226,0.21),0px 0px 3px 0px rgba(74,144,226,0.5);\n        :global {\n            .shadow-bottom-ins {\n                box-shadow: none\n            }\n        }\n    }\n\n    :global {\n        .shadow-bottom-ins {\n            box-shadow: 1px 1px 3px 1px #E3E7F3;\n\n            .task-sprite {\n                background-image: url('../../../assets/img/workflow-node-dark.png');\n            }\n        }\n    }\n}\n\n\n"]}]),n.locals={node:"_1-TEl",operation:"_2Zn-z",selected:"_1ZTcq",prevent:"_3_N8C"}},1151:function(e,n,t){e.exports=t.p+"images/workflow-node-dark.png?ebceeef9c769acc26fef236e8908423f"},1152:function(e,n,t){var a=t(1153),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1153:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._2hwbM {\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n","",{version:3,sources:["BatchOperationButton.scss"],names:[],mappings:"AAAA;IACI,yBAAiB;OAAjB,sBAAiB;QAAjB,qBAAiB;YAAjB,iBAAiB;AACrB",file:"BatchOperationButton.scss",sourcesContent:[".container {\n    user-select: none;\n}\n"]}]),n.locals={container:"_2hwbM"}},1154:function(e,n,t){var a=t(1155),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1155:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._39DPA {\n    height: 100%;\n    -webkit-backface-visibility: hidden;\n            backface-visibility: hidden;\n    transform-style: preserve-3d;\n    perspective: 1000;\n}\n    ._39DPA svg {\n        overflow: visible;\n        overflow: initial;\n    }\n    ._39DPA svg, ._39DPA g, ._39DPA circle, ._39DPA img, ._39DPA div {\n        -webkit-user-drag: none;\n    }\n    ._39DPA ._3KRJL .path {\n                pointer-events: none;\n            }\n    ._39DPA ._3KRJL .drag-handle {\n                pointer-events: none;\n            }\n    ._39DPA ._3KRJL div {\n                -webkit-user-drag: none;\n            }\n\n._39DPA._26MCU {\n        -webkit-font-smoothing: subpixel-antialiased;\n    }\n\n._39DPA textarea {\n        resize: none;\n    }\n\n._39DPA .simulate {\n            pointer-events: none;\n        }\n\n._2bicr {\n    display: none;\n    border: 1px solid var(--color-grey-400);\n    background-color: rgba(var(--color-primary-500R), 0.06);\n    left: 0;\n    top: 0;\n    position: absolute;\n}\n\n/* 连线 */\n\n._1caMy .endpoint {\n            stroke: #D5D9E0;\n            fill: #D5D9E0\n        }\n\n._1caMy .endpoint:hover {\n                stroke: #57a4ff;\n                fill: #fff;\n            }\n\n._1caMy .edge {\n            stroke: #D2DAE6;\n            stroke-width: 2px;\n            fill: none;\n        }\n\n._1caMy .arrow {\n            stroke: #C8CED9;\n            fill: #C8CED9;\n        }\n\n._1caMy .path {\n            cursor: pointer\n        }\n\n._1caMy .path:hover .arrow {\n                    fill: var(--color-primary-400);\n                }\n\n._1caMy .path:hover .edge {\n                    stroke-width: 3px;\n                    stroke: var(--color-primary-400);\n                }\n\n._1caMy .edge-ghost {\n            stroke: var(--color-grey-50);\n            stroke-width: 20px;\n            fill: none;\n            stroke-opacity: 0;\n        }\n\n/* 模拟连线 */\n\n._1caMy .simulate .edge {\n                stroke: #D2DAE6;\n                stroke-width: 2px;\n                fill: none\n            }\n\n._1caMy .simulate .edge.dash {\n                    stroke-dasharray: 5px;\n                }\n\n._1caMy .simulate .arrow {\n                stroke: #8CA0B3;\n                fill: #8CA0B3;\n            }\n\n/* 端点 */\n\n._1caMy .output-point {\n            background: #fff;\n            border: 1px solid #D5D9E0;\n            z-index: 1\n        }\n\n._1caMy .output-point:hover {\n                border: 1px solid var(--color-primary-400);\n            }\n\n._1caMy .output-point::after {\n                content: '';\n                position: absolute;\n                top: -10px;\n                right: -10px;\n                bottom: -10px;\n                left: -5px;\n            }\n\n._1caMy .input-point {\n            background: #fff;\n            border: 1px solid #D5D9E0;\n            z-index: 1\n        }\n\n._1caMy .input-point:hover {\n                background: #fff;\n                border: 1px solid var(--color-primary-400);\n            }\n\n._1caMy .input-point::after {\n                content: '';\n                position: absolute;\n                top: -5px;\n                right: -5px;\n                bottom: -5px;\n                left: -5px;\n            }\n\n/* 连线 */\n\n._3Ioil {\n        @-webkit-keyframes _2G6Lp {\n            0% {\n                stroke-dashoffset: 100%;\n            }\n            to {\n                stroke-dashoffset: 0%;\n            }\n        }\n    }\n\n@-webkit-keyframes _2G6Lp {\n            0% {\n                stroke-dashoffset: 100%;\n            }\n            to {\n                stroke-dashoffset: 0%;\n            }\n        }\n\n@keyframes _2G6Lp {\n            0% {\n                stroke-dashoffset: 100%;\n            }\n            to {\n                stroke-dashoffset: 0%;\n            }\n        }\n\n._3Ioil .endpoint {\n            stroke: #D5D9E0;\n            fill: #D5D9E0\n        }\n\n._3Ioil .endpoint:hover {\n                stroke: #57a4ff;\n                fill: #fff;\n            }\n\n._3Ioil .edge {\n            stroke: #D2DAE6;\n            stroke-width: 2px;\n            fill: none;\n            -webkit-animation: line_success 2s;\n                    animation: line_success 2s;\n        }\n\n._3Ioil .arrow {\n            stroke: #D2DAE6;\n            fill: #D2DAE6;\n        }\n\n._3Ioil .path {\n            cursor: pointer\n        }\n\n._3Ioil .path:hover .arrow {\n                    fill: var(--color-primary-400);\n                }\n\n._3Ioil .path:hover .edge {\n                    stroke-width: 3px;\n                    stroke: var(--color-primary-400);\n                }\n\n._3Ioil .edge-ghost {\n            stroke: var(--color-grey-50);\n            stroke-width: 20px;\n            fill: none;\n            stroke-opacity: 0;\n        }\n\n/* 模拟连线 */\n\n._3Ioil .simulate .edge {\n                stroke: #D2DAE6;\n                stroke-width: 2px;\n                fill: none\n            }\n\n._3Ioil .simulate .edge.dash {\n                    stroke-dasharray: 5px;\n                    stroke: var(--color-primary-400);\n                }\n\n._3Ioil .simulate .arrow {\n                stroke: #8CA0B3;\n                fill: #8CA0B3;\n            }\n\n/* 端点 */\n\n._3Ioil .output-point {\n            background: #D5D9E0;\n            border: 1px solid #D5D9E0;\n            z-index: 1\n        }\n\n._3Ioil .output-point:hover {\n                border: 1px solid var(--color-primary-400);\n            }\n\n._3Ioil .output-point::after {\n                content: '';\n                position: absolute;\n                top: -10px;\n                right: -10px;\n                bottom: -10px;\n                left: -5px;\n            }\n\n._3Ioil .input-point {\n            background: #D5D9E0;\n            border: 1px solid #D5D9E0;\n            z-index: 1\n        }\n\n._3Ioil .input-point:hover {\n                background: #fff;\n                border: 1px solid var(--color-primary-400);\n            }\n\n._3Ioil .input-point::after {\n                content: '';\n                position: absolute;\n                top: -5px;\n                right: -5px;\n                bottom: -5px;\n                left: -5px;\n            }\n","",{version:3,sources:["DAGGallery.scss"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,mCAA2B;YAA3B,2BAA2B;IAC3B,4BAA4B;IAC5B,iBAAiB;AA+BrB;IA9BI;QACI,iBAAiB;QAAjB,iBAAiB;IACrB;IACA;QACI,uBAAuB;IAC3B;IAGQ;gBACI,oBAAoB;YACxB;IACA;gBACI,oBAAoB;YACxB;IACA;gBACI,uBAAuB;YAC3B;;AAGR;QACI,4CAA4C;IAChD;;AACA;QACI,YAAY;IAChB;;AAEI;YACI,oBAAoB;QACxB;;AAIR;IACI,aAAa;IACb,uCAAuC;IACvC,uDAAuD;IACvD,OAAO;IACP,MAAM;IACN,kBAAkB;AACtB;;AAGI,OAAO;;AAEH;YACI,eAAe;YACf;QAKJ;;AAJI;gBACI,eAAe;gBACf,UAAU;YACd;;AAEJ;YACI,eAAe;YACf,iBAAiB;YACjB,UAAU;QACd;;AACA;YACI,eAAe;YACf,aAAa;QACjB;;AAEA;YACI;QAUJ;;AARQ;oBACI,8BAA8B;gBAClC;;AACA;oBACI,iBAAiB;oBACjB,gCAAgC;gBACpC;;AAGR;YACI,4BAA4B;YAC5B,kBAAkB;YAClB,UAAU;YACV,iBAAiB;QACrB;;AAEJ,SAAS;;AAGD;gBACI,eAAe;gBACf,iBAAiB;gBACjB;YAIJ;;AAHI;oBACI,qBAAqB;gBACzB;;AAEJ;gBACI,eAAe;gBACf,aAAa;YACjB;;AAGR,OAAO;;AAEH;YACI,gBAAgB;YAChB,yBAAyB;YACzB;QAYJ;;AAXI;gBACI,0CAA0C;YAC9C;;AACA;gBACI,WAAW;gBACX,kBAAkB;gBAClB,UAAU;gBACV,YAAY;gBACZ,aAAa;gBACb,UAAU;YACd;;AAGJ;YACI,gBAAgB;YAChB,yBAAyB;YACzB;QAaJ;;AAZI;gBACI,gBAAgB;gBAChB,0CAA0C;YAC9C;;AACA;gBACI,WAAW;gBACX,kBAAkB;gBAClB,SAAS;gBACT,WAAW;gBACX,YAAY;gBACZ,UAAU;YACd;;AAMR,OAAO;;AACP;QACI;YACI;gBACI,uBAAuB;YAC3B;YACA;gBACI,qBAAqB;YACzB;QACJ;IA8CJ;;AA7CI;YACI;gBACI,uBAAuB;YAC3B;YACA;gBACI,qBAAqB;YACzB;QACJ;;AAPA;YACI;gBACI,uBAAuB;YAC3B;YACA;gBACI,qBAAqB;YACzB;QACJ;;AACA;YACI,eAAe;YACf;QAKJ;;AAJI;gBACI,eAAe;gBACf,UAAU;YACd;;AAEJ;YACI,eAAe;YACf,iBAAiB;YACjB,UAAU;YACV,kCAA0B;oBAA1B,0BAA0B;QAC9B;;AACA;YACI,eAAe;YACf,aAAa;QACjB;;AAEA;YACI;QAUJ;;AARQ;oBACI,8BAA8B;gBAClC;;AACA;oBACI,iBAAiB;oBACjB,gCAAgC;gBACpC;;AAGR;YACI,4BAA4B;YAC5B,kBAAkB;YAClB,UAAU;YACV,iBAAiB;QACrB;;AAGJ,SAAS;;AAGD;gBACI,eAAe;gBACf,iBAAiB;gBACjB;YAKJ;;AAJI;oBACI,qBAAqB;oBACrB,gCAAgC;gBACpC;;AAEJ;gBACI,eAAe;gBACf,aAAa;YACjB;;AAIR,OAAO;;AAEH;YACI,mBAAmB;YACnB,yBAAyB;YACzB;QAYJ;;AAXI;gBACI,0CAA0C;YAC9C;;AACA;gBACI,WAAW;gBACX,kBAAkB;gBAClB,UAAU;gBACV,YAAY;gBACZ,aAAa;gBACb,UAAU;YACd;;AAGJ;YACI,mBAAmB;YACnB,yBAAyB;YACzB;QAaJ;;AAZI;gBACI,gBAAgB;gBAChB,0CAA0C;YAC9C;;AACA;gBACI,WAAW;gBACX,kBAAkB;gBAClB,SAAS;gBACT,WAAW;gBACX,YAAY;gBACZ,UAAU;YACd",file:"DAGGallery.scss",sourcesContent:[".dagContainer {\n    height: 100%;\n    backface-visibility: hidden;\n    transform-style: preserve-3d;\n    perspective: 1000;\n    svg {\n        overflow: initial;\n    }\n    svg, g, circle, img, div {\n        -webkit-user-drag: none;\n    }\n    .disabledHover {\n        :global {\n            .path {\n                pointer-events: none;\n            }\n            .drag-handle {\n                pointer-events: none;\n            }\n            div {\n                -webkit-user-drag: none;\n            }\n        }\n    }\n    &.small {\n        -webkit-font-smoothing: subpixel-antialiased;\n    }\n    textarea {\n        resize: none;\n    }\n    :global {\n        .simulate {\n            pointer-events: none;\n        }\n    }\n}\n\n.frameSelectionBox {\n    display: none;\n    border: 1px solid var(--color-grey-400);\n    background-color: rgba(var(--color-primary-500R), 0.06);\n    left: 0;\n    top: 0;\n    position: absolute;\n}\n\n.workflow {\n    /* 连线 */\n    :global {\n        .endpoint {\n            stroke: #D5D9E0;\n            fill: #D5D9E0;\n            &:hover {\n                stroke: #57a4ff;\n                fill: #fff;\n            }\n        }\n        .edge {\n            stroke: #D2DAE6;\n            stroke-width: 2px;\n            fill: none;\n        }\n        .arrow {\n            stroke: #C8CED9;\n            fill: #C8CED9;\n        }\n\n        .path {\n            cursor: pointer;\n            &:hover {\n                .arrow {\n                    fill: var(--color-primary-400);\n                }\n                .edge {\n                    stroke-width: 3px;\n                    stroke: var(--color-primary-400);\n                }\n            }\n        }\n        .edge-ghost {\n            stroke: var(--color-grey-50);\n            stroke-width: 20px;\n            fill: none;\n            stroke-opacity: 0;\n        }\n    }\n    /* 模拟连线 */\n    :global {\n        .simulate {\n            .edge {\n                stroke: #D2DAE6;\n                stroke-width: 2px;\n                fill: none;\n                &.dash {\n                    stroke-dasharray: 5px;\n                }\n            }\n            .arrow {\n                stroke: #8CA0B3;\n                fill: #8CA0B3;\n            }\n        }\n    }\n    /* 端点 */\n    :global{\n        .output-point {\n            background: #fff;\n            border: 1px solid #D5D9E0;\n            z-index: 1;\n            &:hover {\n                border: 1px solid var(--color-primary-400);\n            }\n            &::after {\n                content: '';\n                position: absolute;\n                top: -10px;\n                right: -10px;\n                bottom: -10px;\n                left: -5px;\n            }\n        }\n\n        .input-point {\n            background: #fff;\n            border: 1px solid #D5D9E0;\n            z-index: 1;\n            &:hover {\n                background: #fff;\n                border: 1px solid var(--color-primary-400);\n            }\n            &::after {\n                content: '';\n                position: absolute;\n                top: -5px;\n                right: -5px;\n                bottom: -5px;\n                left: -5px;\n            }\n        }\n    }\n}\n\n.dataflow {\n    /* 连线 */\n    :global {\n        @-webkit-keyframes line_success {\n            0% {\n                stroke-dashoffset: 100%;\n            }\n            to {\n                stroke-dashoffset: 0%;\n            }\n        }\n        @keyframes line_success {\n            0% {\n                stroke-dashoffset: 100%;\n            }\n            to {\n                stroke-dashoffset: 0%;\n            }\n        }\n        .endpoint {\n            stroke: #D5D9E0;\n            fill: #D5D9E0;\n            &:hover {\n                stroke: #57a4ff;\n                fill: #fff;\n            }\n        }\n        .edge {\n            stroke: #D2DAE6;\n            stroke-width: 2px;\n            fill: none;\n            animation: line_success 2s;\n        }\n        .arrow {\n            stroke: #D2DAE6;\n            fill: #D2DAE6;\n        }\n\n        .path {\n            cursor: pointer;\n            &:hover {\n                .arrow {\n                    fill: var(--color-primary-400);\n                }\n                .edge {\n                    stroke-width: 3px;\n                    stroke: var(--color-primary-400);\n                }\n            }\n        }\n        .edge-ghost {\n            stroke: var(--color-grey-50);\n            stroke-width: 20px;\n            fill: none;\n            stroke-opacity: 0;\n        }\n    }\n\n    /* 模拟连线 */\n    :global {\n        .simulate {\n            .edge {\n                stroke: #D2DAE6;\n                stroke-width: 2px;\n                fill: none;\n                &.dash {\n                    stroke-dasharray: 5px;\n                    stroke: var(--color-primary-400);\n                }\n            }\n            .arrow {\n                stroke: #8CA0B3;\n                fill: #8CA0B3;\n            }\n        }\n    }\n\n    /* 端点 */\n    :global{\n        .output-point {\n            background: #D5D9E0;\n            border: 1px solid #D5D9E0;\n            z-index: 1;\n            &:hover {\n                border: 1px solid var(--color-primary-400);\n            }\n            &::after {\n                content: '';\n                position: absolute;\n                top: -10px;\n                right: -10px;\n                bottom: -10px;\n                left: -5px;\n            }\n        }\n\n        .input-point {\n            background: #D5D9E0;\n            border: 1px solid #D5D9E0;\n            z-index: 1;\n            &:hover {\n                background: #fff;\n                border: 1px solid var(--color-primary-400);\n            }\n            &::after {\n                content: '';\n                position: absolute;\n                top: -5px;\n                right: -5px;\n                bottom: -5px;\n                left: -5px;\n            }\n        }\n    }\n}\n"]}]),n.locals={dagContainer:"_39DPA",disabledHover:"_3KRJL",small:"_26MCU",frameSelectionBox:"_2bicr",workflow:"_1caMy",dataflow:"_3Ioil",line_success:"_2G6Lp"}},1156:function(e,n,t){var a=t(1157),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1157:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"\n._19T59 {\n    -webkit-user-drag: none;\n}\n    ._19T59 svg {\n        overflow: visible;\n        overflow: initial;\n    }\n    ._19T59 svg, ._19T59 g, ._19T59 circle, ._19T59 img, ._19T59 div {\n        -webkit-user-drag: none;\n    }\n    ._19T59 ._3qt8e .path {\n                pointer-events: none;\n            }\n    ._19T59 ._3qt8e .drag-handle {\n                pointer-events: none;\n            }\n    ._19T59 ._3qt8e div {\n                -webkit-user-drag: none;\n            }\n    ._19T59 .simulate {\n            pointer-events: none;\n        }\n","",{version:3,sources:["DAGPlayground.scss"],names:[],mappings:";AACA;IACI,uBAAuB;AAyB3B;IAxBI;QACI,iBAAiB;QAAjB,iBAAiB;IACrB;IACA;QACI,uBAAuB;IAC3B;IAGQ;gBACI,oBAAoB;YACxB;IACA;gBACI,oBAAoB;YACxB;IACA;gBACI,uBAAuB;YAC3B;IAIJ;YACI,oBAAoB;QACxB",file:"DAGPlayground.scss",sourcesContent:["\n.container {\n    -webkit-user-drag: none;\n    svg {\n        overflow: initial;\n    }\n    svg, g, circle, img, div {\n        -webkit-user-drag: none;\n    }\n    .disabledHover {\n        :global {\n            .path {\n                pointer-events: none;\n            }\n            .drag-handle {\n                pointer-events: none;\n            }\n            div {\n                -webkit-user-drag: none;\n            }\n        }\n    }\n    :global {\n        .simulate {\n            pointer-events: none;\n        }\n    }\n}\n"]}]),n.locals={container:"_19T59",disabledHover:"_3qt8e"}},1158:function(e,n,t){var a=t(1159),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1159:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,".ryxWO {\n    width: 326px;\n\n}\n    .ryxWO ._2oyrq {\n        height: 40px;\n        padding: 0 20px;\n    }\n    .ryxWO ._3fbYI {\n        height: 280px\n    }\n    .ryxWO ._3fbYI.F420a {\n            height: auto;\n        }\n    .ryxWO ._3bswK {\n        height: 40px;\n    }\n    .ryxWO ._23cWs {\n        height: 56px;\n        padding: 8px 16px 0 16px;\n        border-bottom: 1px solid var(--color-grey-300);\n    }\n    .ryxWO ._23cWs ._1ehNp {\n            background-color: var(--table-header-bg);\n            padding: 4px 6px;\n            margin-left: 6px;\n            margin-right: 8px;\n            border-radius: 3px;\n        }\n    .ryxWO ._23cWs ._2p2jr {\n            padding-left: 24px;\n            font-size: 11px;\n            margin-top: 4px;\n        }\n    .ryxWO ._23cWs .S6TRw {\n            width: 1px;\n            height: 14px;\n            background-color: var(--color-grey-400);\n            margin: 0 6px;\n        }\n    .ryxWO ._23cWs:hover {\n            background-color: rgba(var(--color-primary-500R), 0.06);\n        }\n    .ryxWO ._23cWs:nth-last-child(1) {\n            border: none;\n        }\n","",{version:3,sources:["InstanceListPop.scss"],names:[],mappings:"AAAA;IACI,YAAY;;AA4ChB;IA3CI;QACI,YAAY;QACZ,eAAe;IACnB;IACA;QACI;IAIJ;IAHI;YACI,YAAY;QAChB;IAEJ;QACI,YAAY;IAChB;IACA;QACI,YAAY;QACZ,wBAAwB;QACxB,8CAA8C;IAyBlD;IAxBI;YACI,wCAAwC;YACxC,gBAAgB;YAChB,gBAAgB;YAChB,iBAAiB;YACjB,kBAAkB;QACtB;IACA;YACI,kBAAkB;YAClB,eAAe;YACf,eAAe;QACnB;IACA;YACI,UAAU;YACV,YAAY;YACZ,uCAAuC;YACvC,aAAa;QACjB;IACA;YACI,uDAAuD;QAC3D;IACA;YACI,YAAY;QAChB",file:"InstanceListPop.scss",sourcesContent:[".container {\n    width: 326px;\n    .header {\n        height: 40px;\n        padding: 0 20px;\n    }\n    .body {\n        height: 280px;\n        &.auto {\n            height: auto;\n        }\n    }\n    .footer {\n        height: 40px;\n    }\n    .item {\n        height: 56px;\n        padding: 8px 16px 0 16px;\n        border-bottom: 1px solid var(--color-grey-300);\n        .tag {\n            background-color: var(--table-header-bg);\n            padding: 4px 6px;\n            margin-left: 6px;\n            margin-right: 8px;\n            border-radius: 3px;\n        }\n        .time {\n            padding-left: 24px;\n            font-size: 11px;\n            margin-top: 4px;\n        }\n        .divider {\n            width: 1px;\n            height: 14px;\n            background-color: var(--color-grey-400);\n            margin: 0 6px;\n        }\n        &:hover {\n            background-color: rgba(var(--color-primary-500R), 0.06);\n        }\n        &:nth-last-child(1) {\n            border: none;\n        }\n    }\n\n}\n"]}]),n.locals={container:"ryxWO",header:"_2oyrq",body:"_3fbYI",auto:"F420a",footer:"_3bswK",item:"_23cWs",tag:"_1ehNp",time:"_2p2jr",divider:"S6TRw"}},1160:function(e,n,t){var a=t(1161),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1161:function(e,n,t){(e.exports=t(25)(!0)).push([e.i,".loading-spinner-modal .loading-spinner-body {\n            position: relative;\n            border-radius: 10px;\n        }\n\n        .loading-spinner-modal .cancel-loading-btn {\n            background: transparent;\n            border: none;\n            outline:none;\n        }\n","",{version:3,sources:["LoadingSpinner.scss"],names:[],mappings:"AAGQ;YACI,kBAAkB;YAClB,mBAAmB;QACvB;;QAEA;YACI,uBAAuB;YACvB,YAAY;YACZ,YAAY;QAChB",file:"LoadingSpinner.scss",sourcesContent:[":global {\n    .loading-spinner-modal {\n\n        .loading-spinner-body {\n            position: relative;\n            border-radius: 10px;\n        }\n\n        .cancel-loading-btn {\n            background: transparent;\n            border: none;\n            outline:none;\n        }\n    }\n\n}\n"]}])},1172:function(e,n,t){var a=t(1173),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1173:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._3ZyVV {\n    position: relative;\n\n    width: 100%;\n    height: 290px;\n    max-height: 530px;\n    border-radius: 4px;\n\n    overflow-y: auto;\n}\n    ._3ZyVV ._2sKZ3 .zsbkc ._2kF6Q {\n                margin-right: 4px;\n            }\n    ._3ZyVV ._2sKZ3 .zsbkc span {\n                cursor: pointer;\n                margin-right: 6px;\n            }\n    ._3ZyVV ._2sKZ3 .BsiP3 {\n            margin-top: 10px;\n        }\n    ._3ZyVV ._3dT9q {\n        position: absolute;\n        left: 12px;\n    }\n    ._3ZyVV ._3dT9q ._2kF6Q {\n            margin-right: 4px;\n        }\n    ._3ZyVV ._9B1tL {\n        display: none;\n    }\n    ._3ZyVV ._3agL0 {\n        position: absolute;\n        top: -9px;\n    }\n\n._2oreM ._2kF6Q {\n        font-size: 45px;\n    }\n\n._2oreM ._2XQo6 {\n        margin-top: 12px;\n        margin-bottom: 12px;\n\n        font-size:14px;\n        color:rgba(97,114,130,1);\n        line-height:16px;\n    }\n\n._2oreM .iDPNy {\n        margin-bottom: 20px;\n        font-size:12px;\n        color:rgba(140,160,179,1);\n    }\n","",{version:3,sources:["ProcessFileUpload.scss"],names:[],mappings:"AAAA;IACI,kBAAkB;;IAElB,WAAW;IACX,aAAa;IACb,iBAAiB;IACjB,kBAAkB;;IAElB,gBAAgB;AA6BpB;IA1BY;gBACI,iBAAiB;YACrB;IACA;gBACI,eAAe;gBACf,iBAAiB;YACrB;IAEJ;YACI,gBAAgB;QACpB;IAEJ;QACI,kBAAkB;QAClB,UAAU;IAId;IAHI;YACI,iBAAiB;QACrB;IAEJ;QACI,aAAa;IACjB;IACA;QACI,kBAAkB;QAClB,SAAS;IACb;;AAIA;QACI,eAAe;IACnB;;AAEA;QACI,gBAAgB;QAChB,mBAAmB;;QAEnB,cAAc;QACd,wBAAwB;QACxB,gBAAgB;IACpB;;AAEA;QACI,mBAAmB;QACnB,cAAc;QACd,yBAAyB;IAC7B",file:"ProcessFileUpload.scss",sourcesContent:[".container {\n    position: relative;\n\n    width: 100%;\n    height: 290px;\n    max-height: 530px;\n    border-radius: 4px;\n\n    overflow-y: auto;\n    .content {\n        .upload {\n            .icon {\n                margin-right: 4px;\n            }\n            span {\n                cursor: pointer;\n                margin-right: 6px;\n            }\n        }\n        .hint {\n            margin-top: 10px;\n        }\n    }\n    .file {\n        position: absolute;\n        left: 12px;\n        .icon {\n            margin-right: 4px;\n        }\n    }\n    .input {\n        display: none;\n    }\n    .progress {\n        position: absolute;\n        top: -9px;\n    }\n}\n\n.read {\n    .icon {\n        font-size: 45px;\n    }\n\n    .name {\n        margin-top: 12px;\n        margin-bottom: 12px;\n\n        font-size:14px;\n        color:rgba(97,114,130,1);\n        line-height:16px;\n    }\n\n    .size {\n        margin-bottom: 20px;\n        font-size:12px;\n        color:rgba(140,160,179,1);\n    }\n}\n"]}]),n.locals={container:"_3ZyVV",content:"_2sKZ3",upload:"zsbkc",icon:"_2kF6Q",hint:"BsiP3",file:"_3dT9q",input:"_9B1tL",progress:"_3agL0",read:"_2oreM",name:"_2XQo6",size:"iDPNy"}},1174:function(e,n,t){var a=t(1175),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1175:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"\n\n._10qX3 {\n    height:63px;\n    padding: 0 20px;\n}\n\n    ._10qX3 ._2vStX {\n        margin-left: 19px;\n        margin-right: 9px;\n    }\n\n._3d8Vj {\n    padding: 14px 16px 16px 16px;;\n}\n\n.dBnSW {\n    padding: 14px;\n}\n\n\n._30eld {\n    table-layout: fixed;\n    overflow-y: auto;\n    width: 100%;\n}\n\n\n._30eld ._3CdhR {\n        margin: 9px 0;\n    }\n\n\n._30eld thead td {\n        padding: 14px 18px;\n    }\n\n\n._30eld tbody tr:last-child td{\n        padding-bottom: 18px;\n    }\n\n\n._30eld tbody tr td:last-child{\n        padding-right: 20px;\n    }\n\n\n._30eld tbody tr td {\n        padding-bottom: 18px;\n        vertical-align: middle;\n        text-align: center;\n        padding-left: 20px;\n    }\n\n\n._30eld:last-child tbody tr:last-child td{\n        padding-bottom: 0;\n    }\n\n._15qfS {\n    margin-right: 10px;\n    vertical-align: middle;\n    font-size: 22px;\n}\n\n.uAgOi {\n    display: inline-block;\n    vertical-align: middle;\n\n    height: 26px;\n    width: 22px;\n    margin-right: 10px;\n\n    background-size: 240%;\n}\n\n._1dLPT {\n    float: left;\n}\n\n._1dLPT .etl-output_dataset {\n            background-position: -28px -3px;\n        }\n","",{version:3,sources:["ImportProcessModal.scss"],names:[],mappings:";;AAEA;IACI,WAAW;IACX,eAAe;AAMnB;;IAJI;QACI,iBAAiB;QACjB,iBAAiB;IACrB;;AAGJ;IACI,4BAA4B;AAChC;;AAEA;IACI,aAAa;AACjB;;;AAGA;IACI,mBAAmB;IACnB,gBAAgB;IAChB,WAAW;AAyBf;;;AAxBI;QACI,aAAa;IACjB;;;AAEA;QACI,kBAAkB;IACtB;;;AAEA;QACI,oBAAoB;IACxB;;;AACA;QACI,mBAAmB;IACvB;;;AACA;QACI,oBAAoB;QACpB,sBAAsB;QACtB,kBAAkB;QAClB,kBAAkB;IACtB;;;AAEA;QACI,iBAAiB;IACrB;;AAGJ;IACI,kBAAkB;IAClB,sBAAsB;IACtB,eAAe;AACnB;;AAEA;IACI,qBAAqB;IACrB,sBAAsB;;IAEtB,YAAY;IACZ,WAAW;IACX,kBAAkB;;IAElB,qBAAqB;AACzB;;AAEA;IACI,WAAW;AAMf;;AAJQ;YACI,+BAA+B;QACnC",file:"ImportProcessModal.scss",sourcesContent:["\n\n.file {\n    height:63px;\n    padding: 0 20px;\n\n    .icon {\n        margin-left: 19px;\n        margin-right: 9px;\n    }\n}\n\n.footer {\n    padding: 14px 16px 16px 16px;;\n}\n\n.import {\n    padding: 14px;\n}\n\n\n.list {\n    table-layout: fixed;\n    overflow-y: auto;\n    width: 100%;\n    .item {\n        margin: 9px 0;\n    }\n\n    thead td {\n        padding: 14px 18px;\n    }\n\n    tbody tr:last-child td{\n        padding-bottom: 18px;\n    }\n    tbody tr td:last-child{\n        padding-right: 20px;\n    }\n    tbody tr td {\n        padding-bottom: 18px;\n        vertical-align: middle;\n        text-align: center;\n        padding-left: 20px;\n    }\n\n    &:last-child tbody tr:last-child td{\n        padding-bottom: 0;\n    }\n}\n\n.saveNodeIcon {\n    margin-right: 10px;\n    vertical-align: middle;\n    font-size: 22px;\n}\n\n.selectIcon {\n    display: inline-block;\n    vertical-align: middle;\n\n    height: 26px;\n    width: 22px;\n    margin-right: 10px;\n\n    background-size: 240%;\n}\n\n.selectItem {\n    float: left;\n    :global {\n        .etl-output_dataset {\n            background-position: -28px -3px;\n        }\n    }\n}\n"]}]),n.locals={file:"_10qX3",icon:"_2vStX",footer:"_3d8Vj",import:"dBnSW",list:"_30eld",item:"_3CdhR",saveNodeIcon:"_15qfS",selectIcon:"uAgOi",selectItem:"_1dLPT"}},1230:function(e,n,t){var a=t(1231),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1231:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._1E2IR .ant-select-selection--multiple .ant-select-selection__choice {\n            background-color: #e3f2ff;\n            color: #4a90e2;\n        }\n\n","",{version:3,sources:["EmailInput.scss"],names:[],mappings:"AAEQ;YACI,yBAAyB;YACzB,cAAc;QAClB",file:"EmailInput.scss",sourcesContent:[".select {\n    :global {\n        .ant-select-selection--multiple .ant-select-selection__choice {\n            background-color: #e3f2ff;\n            color: #4a90e2;\n        }\n    }\n}\n\n"]}]),n.locals={select:"_1E2IR"}},1232:function(e,n,t){var a=t(1233),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1233:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,".Umi82 {\n    border-radius:1px\n}\n.Umi82:hover {\n        border: 1px solid var(--color-primary-400);\n        box-shadow:0px 4px 10px 2px rgba(74,144,226,0.21),0px 1px 3px 0px rgba(74,144,226,0.5);\n    }\n","",{version:3,sources:["OperationIcon.scss"],names:[],mappings:"AAAA;IACI;AAKJ;AAJI;QACI,0CAA0C;QAC1C,sFAAsF;IAC1F",file:"OperationIcon.scss",sourcesContent:[".operationIcon {\n    border-radius:1px;\n    &:hover {\n        border: 1px solid var(--color-primary-400);\n        box-shadow:0px 4px 10px 2px rgba(74,144,226,0.21),0px 1px 3px 0px rgba(74,144,226,0.5);\n    }\n}\n"]}]),n.locals={operationIcon:"Umi82"}},1234:function(e,n,t){var a=t(1235),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1235:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._1fWbn {\n    border: 1px solid var(--color-grey-200);\n    overflow-y: hidden;\n}\n    ._1fWbn ._1_THc {\n        background: var(--color-grey-200);\n        min-width: -webkit-max-content;\n        min-width: -moz-max-content;\n        min-width: max-content;\n        height: 32px;\n        line-height: 32px\n    }\n    ._1fWbn ._1_THc > div {\n            flex: 1;\n            padding-left: 10px;\n            min-width: 150px;\n        }\n    ._1fWbn ._3-YEl {\n        min-width: -webkit-max-content;\n        min-width: -moz-max-content;\n        min-width: max-content;\n    }\n    ._1fWbn ._3-YEl ._33ypx {\n            flex: 1;\n            padding-left: 10px;\n            min-width: 150px;\n        }\n","",{version:3,sources:["DPTable.scss"],names:[],mappings:"AAAA;IACI,uCAAuC;IACvC,kBAAkB;AAoBtB;IAnBI;QACI,iCAAiC;QACjC,8BAAsB;QAAtB,2BAAsB;QAAtB,sBAAsB;QACtB,YAAY;QACZ;IAMJ;IALI;YACI,OAAO;YACP,kBAAkB;YAClB,gBAAgB;QACpB;IAEJ;QACI,8BAAsB;QAAtB,2BAAsB;QAAtB,sBAAsB;IAM1B;IALI;YACI,OAAO;YACP,kBAAkB;YAClB,gBAAgB;QACpB",file:"DPTable.scss",sourcesContent:[".container {\n    border: 1px solid var(--color-grey-200);\n    overflow-y: hidden;\n    .header {\n        background: var(--color-grey-200);\n        min-width: max-content;\n        height: 32px;\n        line-height: 32px;\n        & > div {\n            flex: 1;\n            padding-left: 10px;\n            min-width: 150px;\n        }\n    }\n    .td {\n        min-width: max-content;\n        .column {\n            flex: 1;\n            padding-left: 10px;\n            min-width: 150px;\n        }\n    }\n}\n"]}]),n.locals={container:"_1fWbn",header:"_1_THc",td:"_3-YEl",column:"_33ypx"}},1236:function(e,n,t){var a=t(1237),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},1237:function(e,n,t){n=e.exports=t(25)(!0);var a=t(254)(t(1238));n.push([e.i,".task-sprite {\n        background-image: url("+a+");\n        background-size: 36px 468px;\n        width: 36px;\n        height: 36px\n    }\n    .task-sprite.SUB_PROCESS.DATAFLOW { background-position: 0 0; }\n    .task-sprite.SQL { background-position: 0 -36px; }\n    .task-sprite.SUB_PROCESS { background-position: 0 -72px; }\n    .task-sprite.DEPENDENT { background-position: 0 -108px; }\n    .task-sprite.PYTHON { background-position: 0 -180px; }\n    .task-sprite.SHELL { background-position: 0 -216px; }\n    .task-sprite.DATASET { background-position: 0 -252px; }\n    .task-sprite.SPARK { background-position: 0 -288px; }\n    .task-sprite.SFTP { background-position: 0 -324px; }\n    .task-sprite.HTTP { background-position: 0 -360px; }\n    .task-sprite.VALIDATION { background-position: 0 -396px; }\n    .task-sprite.SCD { background-position: 0 -432px; }\n    .task-sprite.small {\n        background-size: 22px 286px;\n        width: 22px;\n        height: 22px\n    }\n    .task-sprite.small.SUB_PROCESS.DATAFLOW { background-position: 0 0; }\n    .task-sprite.small.SQL { background-position: 0 -22px; }\n    .task-sprite.small.SUB_PROCESS { background-position: 0 -44px; }\n    .task-sprite.small.DEPENDENT { background-position: 0 -66px; }\n    .task-sprite.small.PYTHON { background-position: 0 -110px; }\n    .task-sprite.small.SHELL { background-position: 0 -132px; }\n    .task-sprite.small.DATASET { background-position: 0 -154px; }\n    .task-sprite.small.SPARK { background-position: 0 -176px; }\n    .task-sprite.small.SFTP { background-position: 0 -198px; }\n    .task-sprite.small.HTTP { background-position: 0 -220px; }\n    .task-sprite.small.VALIDATION { background-position: 0 -242px; }\n    .task-sprite.small.SCD { background-position: 0 -264px; }\n\n._3t12R {\n    box-shadow:0px 3px 6px 0px rgba(0,0,0,0.06)\n}\n","",{version:3,sources:["Tasks.scss"],names:[],mappings:"AACI;QACI,+CAA2D;QAC3D,2BAA2B;QAC3B,WAAW;QACX;IAcJ;IAZI,oCAAyB,wBAAwB,EAAE;IACnD,mBAAQ,4BAA4B,EAAE;IACtC,2BAAgB,4BAA4B,EAAE;IAC9C,yBAAc,6BAA6B,EAAE;IAC7C,sBAAW,6BAA6B,EAAE;IAC1C,qBAAU,6BAA6B,EAAE;IACzC,uBAAY,6BAA6B,EAAE;IAC3C,qBAAU,6BAA6B,EAAE;IACzC,oBAAS,6BAA6B,EAAE;IACxC,oBAAS,6BAA6B,EAAE;IACxC,0BAAe,6BAA6B,EAAE;IAC9C,mBAAQ,6BAA6B,EAAE;IAG3C;QACI,2BAA2B;QAC3B,WAAW;QACX;IAcJ;IAZI,0CAAyB,wBAAwB,EAAE;IACnD,yBAAQ,4BAA4B,EAAE;IACtC,iCAAgB,4BAA4B,EAAE;IAC9C,+BAAc,4BAA4B,EAAE;IAC5C,4BAAW,6BAA6B,EAAE;IAC1C,2BAAU,6BAA6B,EAAE;IACzC,6BAAY,6BAA6B,EAAE;IAC3C,2BAAU,6BAA6B,EAAE;IACzC,0BAAS,6BAA6B,EAAE;IACxC,0BAAS,6BAA6B,EAAE;IACxC,gCAAe,6BAA6B,EAAE;IAC9C,yBAAQ,6BAA6B,EAAE;;AAI/C;IACI;AACJ",file:"Tasks.scss",sourcesContent:[":global {\n    .task-sprite {\n        background-image: url('../../assets/img/workflow-node.png');\n        background-size: 36px 468px;\n        width: 36px;\n        height: 36px;\n\n        &.SUB_PROCESS.DATAFLOW { background-position: 0 0; }\n        &.SQL { background-position: 0 -36px; }\n        &.SUB_PROCESS { background-position: 0 -72px; }\n        &.DEPENDENT { background-position: 0 -108px; }\n        &.PYTHON { background-position: 0 -180px; }\n        &.SHELL { background-position: 0 -216px; }\n        &.DATASET { background-position: 0 -252px; }\n        &.SPARK { background-position: 0 -288px; }\n        &.SFTP { background-position: 0 -324px; }\n        &.HTTP { background-position: 0 -360px; }\n        &.VALIDATION { background-position: 0 -396px; }\n        &.SCD { background-position: 0 -432px; }\n    }\n\n    .task-sprite.small {\n        background-size: 22px 286px;\n        width: 22px;\n        height: 22px;\n\n        &.SUB_PROCESS.DATAFLOW { background-position: 0 0; }\n        &.SQL { background-position: 0 -22px; }\n        &.SUB_PROCESS { background-position: 0 -44px; }\n        &.DEPENDENT { background-position: 0 -66px; }\n        &.PYTHON { background-position: 0 -110px; }\n        &.SHELL { background-position: 0 -132px; }\n        &.DATASET { background-position: 0 -154px; }\n        &.SPARK { background-position: 0 -176px; }\n        &.SFTP { background-position: 0 -198px; }\n        &.HTTP { background-position: 0 -220px; }\n        &.VALIDATION { background-position: 0 -242px; }\n        &.SCD { background-position: 0 -264px; }\n    }\n}\n\n.container {\n    box-shadow:0px 3px 6px 0px rgba(0,0,0,0.06)\n}\n"]}]),n.locals={container:"_3t12R"}},1238:function(e,n,t){e.exports=t.p+"images/workflow-node.png?6142f067af7f787dcbab4a7e06579fb4"},1255:function(e,n,t){"use strict";t.r(n);t(67),t(158),t(489),t(65),t(494),t(52),t(237),t(244),t(157),t(68),t(69),t(66),t(53);var a=t(7),r=t.n(a),o=t(0),i=t.n(o),c=t(1),l=t.n(c),s=t(470),u=t(729),d=(t(102),t(156),t(160),t(8)),p=t.n(d),m=t(54),f=t.n(m),A=t(80),g=t.n(A),b=t(478),E=t.n(b),O=t(37);function y(e){var n=e.tabs,t=e.activeId,a=e.clickItem,r=e.deleteItem,o=e.isInstance,c=function(e){return e.isDataFlow?"dataflowmini":e.isTaskFlowInstance?"instance_workflow":o?"instance_workflow":"workflowmini"};return i.a.createElement("div",{className:"row-flex-center scroll-x",style:{height:36,backgroundColor:"var(--color-grey-300)",overflowY:"hidden"}},n.map((function(e,o){return i.a.createElement("div",{key:e.id,className:p()("row-flex-center cursor-pointer br-2 flex1"),onClick:function(){t!==e.id&&(a(e.id),!e.isDataFlow&&window.location.pathname.includes("/definition")&&(O.b.emit(O.a.REFRESH_ETL),O.b.emit(O.a.REFRESH_TASKS)))},style:{height:36,width:"max-content",minWidth:66,maxWidth:230}},i.a.createElement("div",{className:p()("row-flex-center",{"gd-bgColor-grey0":t===e.id}),style:{padding:"0 15px",width:"100%",height:36}},i.a.createElement(g.a,{name:c(e),className:p()("font-l",{"gd-color-primary":t===e.id})}),i.a.createElement(f.a,{className:"flex1",ellipsis:!0,style:{margin:"0 10px"}},e.name),i.a.createElement(g.a,{name:"tabclose",className:"font-m",onClick:function(n){return r(n,e.id)}})),o<n.length-1&&t!==e.id&&n[o+1].id!==t&&i.a.createElement(E.a,{type:"vertical",className:"no-shrink",style:{height:20,margin:"0",backgroundColor:"var(--color-grey-400)"}}))})))}y.propTypes={tabs:l.a.array,activeId:l.a.oneOfType([l.a.string,l.a.number]),clickItem:l.a.func,deleteItem:l.a.func,isInstance:l.a.bool};var C,h,v,I=y,N=(t(511),t(490),t(82),t(162),t(818),t(507),t(497),t(471)),T=t.n(N),x=t(469),B=t.n(x),j=t(56),w=t.n(j),S=(t(476),t(480),t(498),t(101),t(177),t(479),t(159)),D=t.n(S),_=t(169),k=t.n(_),P=t(518),L=t.n(P),R=(t(241),t(72));!function(e){e.PLAIN_TEXT="text/plain",e.SQL="text/sql",e.JAVASCRIPT="text/javascript",e.PYTHON="python",e.SHELL="shell",e.JSON="application/json"}(C||(C={})),function(e){e.STRING="STRING",e.DEBOUNCE_STRING="DEBOUNCE_STRING",e.NUMBER="NUMBER",e.BOOLEAN="BOOLEAN",e.BOOLEAN_SWITCH="BOOLEAN_SWITCH",e.TEXT="TEXT",e.TEXT_CODE="TEXT_CODE",e.MAP="MAP",e.LIST="LIST",e.LIST_BEAN="LIST_BEAN",e.MODEL="MODEL",e.RADIO_GROUP="RADIO_GROUP",e.CHECKBOX_GROUP="CHECKBOX_GROUP",e.VALUE_CHOOSER="VALUE_CHOOSER",e.MULTIPLE_VALUE_CHOOSER="MULTI_VALUE_CHOOSER",e.INPUT_STREAM="INPUT_STREAM",e.FORMULA_EDITOR="FORMULA_EDITOR",e.APPEND_ROW_SCHEMA="APPEND_ROW_SCHEMA",e.PREVIEW_INPUTS="PREVIEW_INPUTS",e.LIST_SELECTOR="LIST_SELECTOR",e.DIVIDER="DIVIDER",e.HEADER="HEADER",e.ROW_GROUP="ROW_GROUP",e.FIELD_SELECTOR="FIELD_SELECTOR",e.MULTI_FIELD_SELECTOR="MULTI_FIELD_SELECTOR",e.GROUP_VALUE_CHOOSER="GROUP_VALUE_CHOOSER",e.HIDDEN="HIDDEN",e.FIELD_SYNC="FIELD_SYNC",e.CHECKBOX_FIELD_SELECTOR="CHECKBOX_FIELD_SELECTOR",e.ASYNC_TABLES="ASYNC_TABLES",e.ASYNC_TABLE_COLUMNS="ASYNC_TABLE_COLUMNS"}(h||(h={})),function(e){e.CONVENTIONAL="CONVENTIONAL",e.NODE_CONFIG="NODE_CONFIG",e.RUN_OPTION="RUN_OPTION"}(v||(v={}));var M=t(167);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){return function(n){return e+"."+n}};function V(e){return{name:e,depTaskId:"",depTaskName:"",depTaskOutputLane:""}}function W(e,n){var t=n||{params:{}},a=[];return e.forEach((function(e){e.model&&"ROW_GROUP"===e.model.modelType&&(a=a.concat(e.model.configDefinitions))})),e.concat(a).forEach((function(e){void 0!==e.defaultValue&&e.fieldName&&k()(t,e.fieldName,e.defaultValue)})),t}var G,H="params.stageConfig.configValue";function Q(e,n,t){var a=function(e){return B.a.pipe(B.a.filter(B.a.propEq("type",h.FIELD_SYNC)),B.a.filter((function(e){return e.fieldName&&e.from&&e.syncFunc})))(e)}(e);return 0!==a.length?Object(M.getNewState)(n,(function(e){a.forEach((function(n){var a=n.fieldName,r=n.from,o=n.syncFunc;if(n.withFields){if(!t)return;var i=(t||[]).map((function(e){return e.columns}));k()(e,a,o(D()(e,r)).map((function(e,n){return{name:e,fields:i[n]||[]}})))}else k()(e,a,o(D()(e,r)))}))})):n}!function(e){e.DATASOURCE="DATASOURCE",e.DATASET="DATASET",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e.TYPEMAP="TYPEMAP",e.STATIC_INPUTS="STATIC_INPUTS",e.VARIABLE_INPUTS="VARIABLE_INPUTS",e.STATIC_OUTPUTS="STATIC_OUTPUTS",e.VARIABLE_OUTPUTS="VARIABLE_OUTPUTS",e.RESOURCE_SELECTOR="RESOURCE_SELECTOR",e.RESOURCE_SELECTOR_MULTI_VALUE="RESOURCE_SELECTOR_MULTI_VALUE",e.ETL="ETL",e.ETL_INPUTS="ETL_INPUTS",e.ETL_OUTPUTS="ETL_OUTPUTS",e.PROCESS_SELECTOR="PROCESS_SELECTOR",e.PROCESS_PARAMS="PROCESS_PARAMS",e.DEPENDENT="DEPENDENT",e.FOLDER_SELECTOR="FOLDER_SELECTOR",e.OUTPUT_SELECTOR="OUTPUT_SELECTOR",e.DATASOURCE_SELECTOR="DATASOURCE_SELECTOR",e.FTP_OPERATION_SELECTOR="FTP_OPERATION_SELECTOR",e.FTP_FILL_SUFFIX="FTP_FILL_SUFFIX",e.VALIDATION_RULES="VALIDATION_RULES",e.TABLE_NAME_SQL="TABLE_NAME_SQL",e.TABLE_SELECTOR="TABLE_SELECTOR"}(G||(G={}));var J,z=t(149);!function(e){e.MYSQL="MYSQL",e.POSTGRESQL="POSTGRESQL",e.HIVE="HIVE",e.SPARK="SPARK",e.CLICKHOUSE="CLICKHOUSE",e.ORACLE="ORACLE",e.SQLSERVER="SQLSERVER",e.DB2="DB2",e.GUANDATA="GUANDATA",e.HANA="HANA",e.VERTICA="VERTICA",e.TERADATA="TERADATA",e.FTP="FTP",e.IMPALA="IMPALA"}(J||(J={}));var q=[{value:J.SPARK,label:"SPARK",datasource:z.c.SPARK},{value:J.MYSQL,label:"MYSQL"},{value:J.POSTGRESQL,label:"POSTGRESQL"},{value:J.HIVE,label:"HIVE"},{value:J.CLICKHOUSE,label:"CLICKHOUSE"},{value:J.ORACLE,label:"ORACLE"},{value:J.SQLSERVER,label:"SQLSERVER"},{value:J.DB2,label:"DB2"},{value:J.HANA,label:"HANA"},{value:J.TERADATA,label:"TERADATA"},{value:J.VERTICA,label:"VERTICA"},{value:J.GUANDATA,label:"GUANDATA"},{value:J.FTP,label:"FTP",datasource:z.c.FTP},{value:J.IMPALA,label:"IMPALA"}];var K,X=J;!function(e){e.FTP="ftp",e.SFTP="sftp"}(K||(K={}));var Z,$=[{fieldName:"params.sqlType",label:"SQL类型",type:h.MODEL,model:{labels:["获取数据","插入数据","处理数据","非查询"],values:[2,3,4,1],modelType:h.VALUE_CHOOSER},defaultValue:2},{fieldName:"params.InsertParameters.mode",label:"模式",dependsOnMap:{"params.sqlType":[3]},type:h.MODEL,model:{labels:["插入数据","插入更新数据","高级"],values:[1,2,0],modelType:h.RADIO_GROUP},defaultValue:1},{fieldName:"params.inputMappings",label:"输入",dependsOnMap:{"params.sqlType":[3]},required:!0,hideOperator:!0,type:G.VARIABLE_INPUTS,defaultValue:[{name:"input1"}]},{fieldName:"params.inputMappings",label:"输入",dependsOnMap:{"params.sqlType":[4]},required:!0,type:G.VARIABLE_INPUTS,defaultValue:[{name:"input1"}]},{fieldName:"params.type",label:"数据源",dependsOnMap:{"params.sqlType":[1,2]},type:G.DATASOURCE,defaultValue:X.MYSQL,required:!0,model:{relatedRequiredFieldName:"params.datasource"}},{fieldName:"params.type",label:"数据源",dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[1,0]},type:G.DATASOURCE,defaultValue:X.MYSQL,required:!0,model:{relatedRequiredFieldName:"params.datasource"}},{fieldName:"params.type",label:"数据源",dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[2]},type:G.DATASOURCE,defaultValue:X.MYSQL,required:!0,model:{relatedRequiredFieldName:"params.datasource",notSupportDb:[X.CLICKHOUSE]}},{fieldName:"params.datasource",label:"数据源",dependsOnMap:{"params.sqlType":[1,2,3]},type:h.HIDDEN,required:!0},{fieldName:"params.InsertParameters.targetTable",label:"目标表",type:h.MODEL,model:{modelType:G.TABLE_SELECTOR,supportInput:!0,dataSourceIdFieldName:"params.datasource"},required:!0,dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[1]}},{fieldName:"params.InsertParameters.targetTable",label:"目标表",type:h.MODEL,model:{modelType:G.TABLE_SELECTOR,dataSourceIdFieldName:"params.datasource"},required:!0,dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[2]}},{fieldName:"params.createNotExistTable",label:"",type:h.HIDDEN,text:"目标表如果不存在则新建",defaultValue:!0},{fieldName:"params.InsertParameters.enableMultiThread",label:"多线程插入",description:'如果插入的数据量过大, 启用"多线程插入"可以提升插入数据的性能',dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[1,0]},type:h.BOOLEAN,defaultValue:!1},{fieldName:"params.localParams",label:"局部参数",type:G.TYPEMAP,dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[0]},defaultValue:[]},{fieldName:"params.localParams",label:"局部参数",type:G.TYPEMAP,dependsOnMap:{"params.sqlType":[2,4,1]},defaultValue:[]},{fieldName:"fake.fetchTableColumns",name:"获取目标表的列信息",type:h.MODEL,model:{modelType:h.ASYNC_TABLE_COLUMNS,dataSourceIdFieldName:"params.datasource",tableNameFieldName:"params.InsertParameters.targetTable",targetNamespaceFieldName:"tableColumnsModel"},dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[2]}},{fieldName:"params.InsertParameters.primaryKeys",label:"去重主键",dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[2]},required:!0,type:h.MODEL,model:{modelType:h.MULTIPLE_VALUE_CHOOSER,from:{ns:"inside",fieldName:"tableColumnsModel"}},description:"如果与目标表中匹配成功，将执行更新数据； 否则将执行插入数据",defaultValue:[]},{fieldName:"params.sql",label:"sql语句",type:h.MODEL,required:!0,model:{type:h.TEXT_CODE,modelType:G.TABLE_NAME_SQL,supperAutoGenerateSql:!1,dataSourceIdFieldName:"params.datasource",dataSourceTypeFieldName:"params.type"},dependsOnMap:{"params.sqlType":[1]},defaultValue:""},{fieldName:"params.sql",label:"sql语句",type:h.MODEL,required:!0,model:{modelType:G.TABLE_NAME_SQL,supperAutoGenerateSql:!0,dataSourceIdFieldName:"params.datasource",dataSourceTypeFieldName:"params.type"},dependsOnMap:{"params.sqlType":[2]},defaultValue:""},{fieldName:"params.sql",label:"sql语句",type:h.MODEL,required:!0,model:{modelType:G.TABLE_NAME_SQL,type:h.TEXT_CODE,supperAutoGenerateSql:!0,insertSql:"INSERT INTO table (column_name_list) VALUES (column_value_list)",dataSourceIdFieldName:"params.datasource",dataSourceTypeFieldName:"params.type"},dependsOnMap:{"params.sqlType":[3],"params.InsertParameters.mode":[0]},defaultValue:""},{fieldName:"params.sql",label:"sql语句",mode:C.SQL,type:h.TEXT_CODE,required:!0,dependsOnMap:{"params.sqlType":[4]},defaultValue:""},{fieldName:"params.preStatements",label:"前置sql",mode:C.SQL,dependsOnMap:{"params.sqlType":[1,2,3]},type:h.MODEL,model:{configDefinition:{mode:C.SQL,type:h.TEXT},initValue:"",modelType:h.LIST},defaultValue:[]},{fieldName:"params.postStatements",label:"后置sql",mode:C.SQL,dependsOnMap:{"params.sqlType":[1,2,3]},type:h.MODEL,model:{configDefinition:{mode:C.SQL,type:h.TEXT},initValue:"",modelType:h.LIST},defaultValue:[]},{fieldName:"params.outputs",aliasFieldName:"params.outputAliasMap",label:"输出",dependsOnMap:{"params.sqlType":[2,4]},type:G.STATIC_OUTPUTS,defaultValue:["output"]},{fieldName:"params.logMoreInfoType",label:"数据打印到日志",dependsOnMap:{"params.sqlType":[2,4]},type:h.MODEL,model:{labels:[""],values:["RESULT"],modelType:h.CHECKBOX_GROUP},defaultValue:""},{fieldName:"params.runTimeParams",label:"动态变量",description:"默认将输出数据的第一行值赋给变量",dependsOnMap:{"params.sqlType":[2,4]},type:h.MODEL,model:{modelType:h.LIST_BEAN,hideHeader:!0,configDefinitions:[{fieldName:"prop",label:"prop",type:h.STRING,placeholder:"prop(必填)"},{fieldName:"column",label:"列",type:h.STRING,placeholder:"请输入列"}]},defaultValue:[]}],ee=[{fieldName:"params.localParams",label:"局部参数",type:G.TYPEMAP,defaultValue:[]},{fieldName:"params.rawScript",label:"脚本",mode:C.SHELL,required:!0,type:h.TEXT_CODE,defaultValue:""},{fieldName:"params.resourceList",label:"资源文件",type:G.RESOURCE_SELECTOR_MULTI_VALUE,defaultValue:[]}],ne=[{fieldName:"params.inputMappings",label:"输入",required:!1,type:G.VARIABLE_INPUTS,defaultValue:[]},{fieldName:"params.localParams",label:"局部参数",type:G.TYPEMAP,defaultValue:[]},{fieldName:"params.rawScript",label:"脚本",description:"如果在脚本中需要使用输入/输出数据，请添加相应的输入/输出参数",mode:C.PYTHON,required:!0,type:h.TEXT_CODE,defaultValue:""},{fieldName:"params.resourceList",label:"资源文件",type:G.RESOURCE_SELECTOR_MULTI_VALUE,defaultValue:[]},{fieldName:"params.outputs",aliasFieldName:"params.outputAliasMap",label:"输出",required:!1,type:G.VARIABLE_OUTPUTS,defaultValue:[]}],te=[{fieldName:"params.programType",label:"任务类型",type:h.MODEL,model:{labels:["Java","Python"],values:["JAVA","PYTHON"],modelType:h.RADIO_GROUP},required:!0,defaultValue:"JAVA"},{fieldName:"params.mainClass",label:"程序主类",description:"请填写主函数的Class",placeholder:"eg: org.apache.spark.examples.SparkPi",dependsOnMap:{"params.programType":["JAVA"]},type:h.STRING,required:!0,defaultValue:[]},{fieldName:"params.mainJar",label:"主程序包",required:!0,type:G.RESOURCE_SELECTOR},{fieldName:"params.resourceList",label:"资源程序包",type:G.RESOURCE_SELECTOR_MULTI_VALUE,defaultValue:[]},{fieldName:"params.mainArgs",description:"请填写传入程序包的参数",label:"程序包参数",placeholder:"eg: app_arg1 app_arg2",type:h.STRING,defaultValue:""},{fieldName:"params.deployMode",label:"部署方式",type:h.MODEL,model:{labels:["cluster","client","local"],values:["cluster","client","local"],modelType:h.RADIO_GROUP},required:!0,defaultValue:"cluster"},{label:"Driver",type:h.MODEL,model:{configDefinitions:[{fieldName:"params.driverCores",label:"内核数",type:h.NUMBER,defaultValue:1,style:{width:100}},{fieldName:"params.driverMemory",label:"内存",type:h.STRING,defaultValue:"512M",style:{width:100}}],modelType:h.ROW_GROUP}},{label:"Executor",type:h.MODEL,model:{configDefinitions:[{fieldName:"params.numExecutors",label:"数量",type:h.NUMBER,defaultValue:2,style:{width:100}},{fieldName:"params.executorCores",label:"内核数",type:h.NUMBER,defaultValue:2,style:{width:100}},{fieldName:"params.executorMemory",label:"内存",type:h.STRING,defaultValue:"2G",style:{width:100}}],modelType:h.ROW_GROUP}},{fieldName:"params.others",label:"其他参数",description:"请填写传入spark命令的其他参数",placeholder:"eg: --master <master-url>",type:h.STRING},{fieldName:"params.localParams",type:h.HIDDEN,defaultValue:[]}],ae=[{fieldName:"params.operationType",label:"操作类型",type:h.MODEL,model:{labels:["从数据集获取数据","注册数据集","更新数据集"],values:["FETCH_DATA","SAVE_DATA","UPDATE_DATA"],modelType:h.VALUE_CHOOSER},defaultValue:"FETCH_DATA"},{fieldName:"params.dataset.id",label:"数据集",dependsOnMap:{"params.operationType":["FETCH_DATA"]},type:G.DATASET,required:!0},{fieldName:"params.outputs",aliasFieldName:"params.outputAliasMap",label:"输出",dependsOnMap:{"params.operationType":["FETCH_DATA"]},type:G.STATIC_OUTPUTS,defaultValue:["output"]},{fieldName:"params.runTimeParams",label:"动态变量",description:"默认将输出数据的第一行值赋给变量",dependsOnMap:{"params.operationType":["FETCH_DATA"]},type:h.MODEL,model:{modelType:h.LIST_BEAN,hideHeader:!0,configDefinitions:[{fieldName:"prop",label:"prop",type:h.STRING,placeholder:"prop(必填)"},{fieldName:"column",label:"列",type:h.STRING,placeholder:"请输入列"}]},defaultValue:[]},{fieldName:"params.inputMappings",label:"输入",dependsOnMap:{"params.operationType":["SAVE_DATA"]},required:!0,type:G.STATIC_INPUTS,defaultValue:[{name:"input"}]},{fieldName:"params.dataset.primaryKeys",label:"去重主键",description:"若要对数据集进行增量更新或未来有设置增量更新的可能，请设置合适的去重主键",dependsOnMap:{"params.operationType":["SAVE_DATA"]},type:h.MODEL,model:{configDefinition:{type:h.STRING,placeholder:"请输入列"},modelType:h.LIST},defaultValue:[]},{fieldName:"params.dataset.name",label:" 数据集名称",placeholder:"请输入数据集名称",mode:C.PLAIN_TEXT,required:!0,type:h.STRING,defaultValue:"",isDebounce:!0,dependsOnMap:{"params.operationType":["SAVE_DATA"]}},{fieldName:"params.dirId",label:"保存至",dependsOnMap:{"params.operationType":["SAVE_DATA"]},type:G.FOLDER_SELECTOR,defaultValue:""},{fieldName:"params.inputMappings",label:"输入",dependsOnMap:{"params.operationType":["UPDATE_DATA"]},required:!0,type:G.STATIC_INPUTS,defaultValue:[{name:"input"}]},{fieldName:"params.dataset.id",label:"数据集",dependsOnMap:{"params.operationType":["UPDATE_DATA"]},type:G.DATASET,required:!0},{fieldName:"params.mode",label:"模式",dependsOnMap:{"params.operationType":["UPDATE_DATA"]},type:h.MODEL,model:{labels:["覆盖旧数据","添加新数据"],values:["OVERWRITE","MERGE"],descriptions:["当前输入的数据将替换数据集中的原有数据，所有历史数据将会被清空","当前输入的数据将追加到数据集中原有数据里，若设置了主键，会根据主键进行去重"],modelType:h.RADIO_GROUP},required:!0,defaultValue:"MERGE"}],re=[{fieldName:"params.etl",label:"数据流",type:G.ETL,required:!0},{fieldName:"params.inputMappings",label:"输入",dependsOnMap:{"params.configured":[!0]},required:!0,type:G.ETL_INPUTS,defaultValue:[]},{fieldName:"params.configured",type:h.HIDDEN,defaultValue:!1},{fieldName:"params.processType",type:h.HIDDEN,defaultValue:"DATAFLOW"},{fieldName:"params.outputs",aliasFieldName:"params.outputAliasMap",label:"输出",dependsOnMap:{"params.configured":[!0]},type:G.ETL_OUTPUTS,defaultValue:[]},{fieldName:"params.processDefinitionId",from:"params.etl.id",syncFunc:function(e){return e},type:h.FIELD_SYNC},{fieldName:"params.runTimeParams",label:"动态变量",dependsOnMap:{"params.configured":[!0]},description:"默认将输出数据的第一行值赋给变量",type:h.MODEL,model:{modelType:h.LIST_BEAN,hideHeader:!0,configDefinitions:[{fieldName:"prop",label:"prop",type:h.STRING,placeholder:"prop(必填)"},{fieldName:"outputOrigin",label:"列",type:G.OUTPUT_SELECTOR,placeholder:"请选择输出"},{fieldName:"column",label:"列",type:h.STRING,placeholder:"请输入列"}]},defaultValue:[]}],oe=[{fieldName:"params.processDefinitionId",label:"子工作流",placeholder:"选择",type:G.PROCESS_SELECTOR,required:!0},{fieldName:"params.localParamsWithDefault",label:"参数设置",type:G.PROCESS_PARAMS}],ie=[{fieldName:"dependence",label:"依赖",type:G.DEPENDENT}],ce=[{fieldName:"params.sftpType",label:"操作类型",type:h.MODEL,model:{labels:["文件读取","文件输出"],values:["FILE_DOWNLOAD","FILE_UPLOAD"],modelType:h.VALUE_CHOOSER},defaultValue:"FILE_DOWNLOAD"},{fieldName:"params.inputMappings",label:"输入",dependsOnMap:{"params.sftpType":["FILE_UPLOAD"]},required:!0,type:G.STATIC_INPUTS,defaultValue:[{name:"input"}]},{fieldName:"params.dataSourceId",label:"数据源",required:!0,type:G.DATASOURCE_SELECTOR,defaultValue:""},{fieldName:"params.fileType",label:"文件类型",type:h.MODEL,defaultValue:"CSV",required:!0,dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"]},model:{labels:["CSV","Excel"],values:["CSV","EXCEL"],modelType:h.VALUE_CHOOSER}},{fieldName:"params.fileName",label:"文件名称",description:"请填写文件名称的正则表达式，将依次获取匹配该表达式的所有文件进行union操作",placeholder:"eg: filename_.*.csv",required:!0,type:h.STRING,defaultValue:"",dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"],"params.fileType":["CSV"]}},{fieldName:"params.fileName",label:"文件名称",description:"请填写文件名称的正则表达式，将依次获取匹配该表达式的所有文件进行union操作, 对于Excel类型的文件默认读取第一个Sheet",placeholder:"eg: filename.*.xlsx",required:!0,type:h.STRING,defaultValue:"",dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"],"params.fileType":["EXCEL"]}},{fieldName:"params.columnIsInclude",label:"包含列头行",type:h.BOOLEAN,defaultValue:!0,dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"]}},{fieldName:"params.columnNames",label:"",placeholder:"请输入列，并使用半角符号(,)分隔",defaultValue:"",required:!0,mode:C.PLAIN_TEXT,type:h.TEXT,dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"],"params.columnIsInclude":[!1]}},{fieldName:"params.encoding",label:"文件编码",type:h.MODEL,model:{labels:["UTF-8","GB18030","UTF-16"],values:["UTF-8","GB18030","UTF-16"],modelType:h.VALUE_CHOOSER},defaultValue:"UTF-8",dependsOnMap:{"params.fileType":["CSV"]}},{fieldName:"params.encoding",label:"文件编码",type:h.MODEL,model:{labels:["UTF-8","GB18030","UTF-16"],values:["UTF-8","GB18030","UTF-16"],modelType:h.VALUE_CHOOSER},defaultValue:"UTF-8",dependsOnMap:{"params.sftpType":["FILE_UPLOAD"]}},{fieldName:"params.separator",label:"分隔符",description:"请填写文件中进行数据解析的分隔符",type:h.MODEL,model:{labels:["逗号(,)","制表符(\\t)","分号(;)","管道符(|)","空格( )","自定义"],values:["COMMA","TAB","SEMICOLON","PIPE","SPACE","CUSTOM"],modelType:h.VALUE_CHOOSER},dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"],"params.fileType":["CSV"]},defaultValue:"COMMA"},{fieldName:"params.customSeparator",label:"",dependsOnMap:{"params.separator":["CUSTOM"]},type:h.STRING,defaultValue:""},{fieldName:"params.schemaIsEnable",label:"字段设置",description:"如果未找到指定文件，当前节点依然运行成功，并采用以下设置的字段进行数据传输",type:h.BOOLEAN,text:"启用",defaultValue:!1,dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"]}},{fieldName:"params.schema",label:" ",placeholder:"请输入列， 并使用半角逗号(,)分隔",mode:C.PLAIN_TEXT,type:h.TEXT,dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"],"params.schemaIsEnable":[!0]}},{fieldName:"params.outputs",aliasFieldName:"params.outputAliasMap",label:"输出",type:G.STATIC_OUTPUTS,defaultValue:["output"],dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"]}},{fieldName:"params.fileName",label:"文件名称",placeholder:"eg：/folder/file_name",required:!0,type:h.STRING,defaultValue:"",dependsOnMap:{"params.sftpType":["FILE_UPLOAD"]}},{fieldName:"params.suffixFormat",label:"名称后缀",type:G.FTP_FILL_SUFFIX,defaultValue:"",dependsOnMap:{"params.sftpType":["FILE_UPLOAD"]}},{fieldName:"params.fileOperateIsEnable",label:"文件操作",description:"如果找到指定文件，将根据读取结果执行不同文件操作",type:h.BOOLEAN,text:"启用",defaultValue:!1,dependsOnMap:{"params.sftpType":["FILE_DOWNLOAD"]}},{fieldName:"params.operateInfoParameters",label:"  ",type:G.FTP_OPERATION_SELECTOR,dependsOnMap:{"params.fileOperateIsEnable":[!0],"params.sftpType":["FILE_DOWNLOAD"]},defaultValue:{finishInfo:{location:"",type:0},interruptInfo:{location:"",type:0}}}],le=[{fieldName:"params.httpMethod",label:"请求类型",type:h.MODEL,model:{labels:["GET","POST","HEAD","PUT","DELETE"],values:["GET","POST","HEAD","PUT","DELETE"],modelType:h.VALUE_CHOOSER},defaultValue:"GET"},{fieldName:"params.url",label:"请求地址",required:!0,placeholder:"请求URL",type:h.STRING},{fieldName:"params.httpParams",label:"请求参数",type:h.MODEL,model:{modelType:h.LIST_BEAN,configDefinitions:[{fieldName:"httpParametersType",label:"类型",type:h.MODEL,model:{labels:["PARAMETER","BODY","HEADERS"],values:["PARAMETER","BODY","HEADERS"],modelType:h.VALUE_CHOOSER},defaultValue:"PARAMETER"},{fieldName:"prop",label:"Key",type:h.STRING},{fieldName:"value",label:"Value",type:h.STRING}]},defaultValue:[]},{fieldName:"params.HttpCheckCondition",label:"校验条件",description:"满足所设条件后该节点将运行成功",type:h.MODEL,model:{labels:["响应码200","自定义响应码","包含内容","不包含内容"],values:["STATUS_CODE_DEFAULT","STATUS_CODE_CUSTOM","BODY_CONTAINS","BODY_NOT_CONTAINS"],modelType:h.VALUE_CHOOSER},defaultValue:"STATUS_CODE_DEFAULT"},{fieldName:"params.condition",label:" ",placeholder:"自定义响应码",required:!0,type:h.STRING,dependsOnMap:{"params.HttpCheckCondition":["STATUS_CODE_CUSTOM"]}},{fieldName:"params.condition",label:" ",placeholder:"自定义内容",required:!0,type:h.STRING,dependsOnMap:{"params.HttpCheckCondition":["BODY_CONTAINS","BODY_NOT_CONTAINS"]}}],se=[{fieldName:"params.scdType",label:"操作类型",type:h.MODEL,model:{labels:["初始化拉链表","拉链表增量更新"],values:[0,1],modelType:h.RADIO_GROUP},defaultValue:0},{fieldName:"params.inputMappings",label:"输入",required:!0,type:G.STATIC_INPUTS,defaultValue:[{name:"源数据"}]},{fieldName:"params.type",label:"数据源",type:G.DATASOURCE,defaultValue:X.MYSQL,required:!0,model:{relatedRequiredFieldName:"params.datasource",notSupportDb:[X.CLICKHOUSE]}},{fieldName:"params.datasource",label:"数据源",type:h.HIDDEN,required:!0},{fieldName:"fake.asyncTables",name:"异步获取表信息",type:h.MODEL,model:{dataSourceIdFieldName:"params.datasource",targetNamespaceFieldName:"tablesModel",modelType:h.ASYNC_TABLES}},{fieldName:"params.tableName",label:"目标表",type:h.MODEL,placeholder:"请输入目标表名",required:!0,description:"如选择的目标表中存在数据，将在清空数据后进行拉链表初始化",dependsOnMap:{"params.scdType":[0]},model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tablesModel"}}},{fieldName:"params.tableName",label:"目标表",type:h.MODEL,model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tablesModel"}},placeholder:"请输入目标表名",required:!0,dependsOnMap:{"params.scdType":[1]}},{fieldName:"params.upsertDate",label:"更新关注时间",type:h.MODEL,model:{labels:["运行时间前一日","运行时间当日"],values:[-1,0],modelType:h.RADIO_GROUP},dependsOnMap:{"params.scdType":[1]},defaultValue:-1},{fieldName:"fake.asyncTableColumns",name:"获取目标表的列信息",type:h.MODEL,model:{modelType:h.ASYNC_TABLE_COLUMNS,dataSourceIdFieldName:"params.datasource",tableNameFieldName:"params.tableName",targetNamespaceFieldName:"tableColumnsModel"}},{fieldName:"fake.header",name:"拉链表的字段选择header",type:h.HEADER,value:["源数据","历史拉链表（目标表）"]},{fieldName:"params.groupFields",label:"分组字段",type:h.MODEL,model:{modelType:h.LIST_BEAN,hideHeader:!0,configDefinitions:[{fieldName:"upsertData",label:"源数据",type:h.STRING,placeholder:"请输入列",required:!0},{fieldName:"historyScdData",label:"历史拉链表（目标表）",type:h.MODEL,model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tableColumnsModel"}},placeholder:"请选择列",required:!0}]},required:!0,defaultValue:[{}]},{fieldName:"params.dateField",label:"日期",type:h.MODEL,model:{modelType:h.ROW_GROUP,configDefinitions:[{fieldName:"params.dateField.hasOperateTime",label:"",name:"原表是否有时间戳",type:h.MODEL,model:{labels:["有时间戳","无时间戳"],values:["y","n"],modelType:h.VALUE_CHOOSER},defaultValue:"y",style:{width:100}},{fieldName:"params.dateField.columnName",label:"",name:"操作时间字段(必填)",type:h.STRING,style:{width:"calc(50% - 147px)",marginRight:10,marginLeft:10},placeholder:"请输入列",required:!0,dependsOnMap:{"params.dateField.hasOperateTime":["y"]}},{fieldName:"params.dateField.columnName",label:"",name:"使用运行时间",type:h.STRING,style:{width:"calc(50% - 147px)",marginRight:10,marginLeft:10},placeholder:"使用运行时间",dependsOnMap:{"params.dateField.hasOperateTime":["n"]},model:{disabledOnMap:{"params.dateField.hasOperateTime":["n"]},clearOnDisabled:!0}},{fieldName:"params.dateField.startDate",label:"",type:h.MODEL,model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tableColumnsModel"}},style:{flex:"1",marginLeft:0},placeholder:"请选择列（起始日期）",required:!0},{fieldName:"params.dateField.endDate",label:"",style:{flex:"1",marginLeft:10},type:h.MODEL,model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tableColumnsModel"}},placeholder:"请选择列（终止日期）",required:!0}]},required:!0,defaultValue:{}},{fieldName:"params.stateFields",label:"状态字段",type:h.MODEL,model:{modelType:h.LIST_BEAN,hideHeader:!0,configDefinitions:[{fieldName:"upsertData",label:"",type:h.STRING,placeholder:"请输入列",required:!0},{fieldName:"historyScdData",label:"",type:h.MODEL,model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tableColumnsModel"}},placeholder:"请选择列",required:!0}]},required:!0,defaultValue:[{}]},{fieldName:"params.customFields",label:"自定义列",type:h.MODEL,model:{configDefinitions:[{fieldName:"key",label:"历史拉链表(目标表)",type:h.MODEL,placeholder:"请选择列",required:!0,model:{modelType:h.VALUE_CHOOSER,from:{ns:"inside",fieldName:"tableColumnsModel"}}},{fieldName:"value",label:"Value",type:h.STRING,placeholder:"请输入",required:!0}],modelType:h.LIST_BEAN}},{fieldName:"params.updateCycleType",label:"更新周期",dependsOnMap:{"params.scdType":[1]},type:h.HIDDEN,model:{labels:["日","周","月","年"],values:[0,1,2,3],modelType:h.RADIO_GROUP},defaultValue:0}],ue=[{fieldName:"params.inputMappings",label:"输入",required:!0,type:G.STATIC_INPUTS,defaultValue:[{name:"input"}]},{fieldName:"params.rules",label:"校验规则",type:h.MODEL,required:!0,model:{modelType:G.VALIDATION_RULES},defaultValue:[]},{fieldName:"params.failedStrategy",label:"校验异常",description:["异常告警: 校验规则不符合发送告警通知","异常失败: 校验规则不符合视为运行失败"],type:h.MODEL,model:{labels:["异常告警","异常失败"],values:["WARN","FAILED"],modelType:h.CHECKBOX_GROUP},defaultValue:"FAILED"}],de=t(486);function pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pe(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fe=function(){return[{fieldName:"name",label:"节点名称",placeholder:"请输入名称",desc:"",mode:C.PLAIN_TEXT,required:!0,type:h.STRING,defaultValue:"",panelType:v.CONVENTIONAL,model:{maxLength:100}},{fieldName:"runFlag",label:"运行标志",mode:C.PLAIN_TEXT,required:!0,type:h.MODEL,model:{labels:["正常","禁止执行"],values:["NORMAL","FORBIDDEN"],modelType:h.RADIO_GROUP},defaultValue:"NORMAL",panelType:v.RUN_OPTION},{fieldName:"desc",label:"描述",placeholder:"请输入描述",mode:C.PLAIN_TEXT,type:h.TEXT,panelType:v.CONVENTIONAL},{fieldName:"taskInstancePriority",label:"任务优先级",mode:C.PLAIN_TEXT,type:h.MODEL,model:{labels:["HIGHEST","HIGH","MEDIUM","LOW","LOWEST"],values:["HIGHEST","HIGH","MEDIUM","LOW","LOWEST"],icons:[{type:"name",color:"red",value:"arrow-high"},{type:"name",color:"orange",value:"arrow-high"},{type:"name",color:"yellowgreen",value:"arrow-high"},{type:"name",color:"steelblue",value:"arrow-high"},{type:"name",color:"green",value:"arrow-high"}],modelType:h.VALUE_CHOOSER},defaultValue:"MEDIUM",panelType:v.RUN_OPTION},{fieldName:"workerGroupId",label:"Worker Group",type:h.HIDDEN,defaultValue:-1},{fieldName:"params.title",type:h.HIDDEN,defaultValue:""},{fieldName:"params.receiversCc",type:h.HIDDEN,defaultValue:""},{fieldName:"params.showType",type:h.HIDDEN,defaultValue:""},{fieldName:"params.udfs",type:h.HIDDEN,defaultValue:""},{fieldName:"params.connParams",type:h.HIDDEN,defaultValue:""},{fieldName:"maxRetryTimes",label:"失败重试",type:G.RETRY,defaultValue:0,panelType:v.RUN_OPTION},{fieldName:"timeout.enable",label:"超时限制",type:G.TIMEOUT,defaultValue:!1,panelType:v.RUN_OPTION},{fieldName:"timeout.strategy",label:"超时策略",mode:C.PLAIN_TEXT,dependsOnMap:{"timeout.enable":[!0]},type:h.MODEL,model:{labels:["超时告警","超时失败"],values:["WARN","FAILED"],modelType:h.CHECKBOX_GROUP},panelType:v.RUN_OPTION}]},Ae=function(){return{fieldName:"params.stageConfig.inputMappings",name:"输入",label:"输入",type:G.STATIC_INPUTS,required:!0}},ge=function(){return{fieldName:"params.stageConfig.inputMappings",name:"输入",label:"输入",type:G.VARIABLE_INPUTS,defaultValue:[{name:"input1"}],required:!0}},be=function(e){return{fieldName:"params.stageConfig.configValue."+e,from:"params.stageConfig.inputMappings",syncFunc:B.a.map(B.a.prop("name")),label:"把plugin的inputMappings同步到"+e,type:h.FIELD_SYNC,defaultValue:["input1"]}},Ee=function(){return{fieldName:"params.stageConfig.outputs",aliasFieldName:"params.outputAliasMap",name:"输出",label:"输出",required:!0,type:G.STATIC_OUTPUTS}},Oe=function(e){return{fieldName:"params.stageConfig.configValue."+e,aliasFieldName:"params.outputAliasMap",name:"输出",label:"输出",required:!0,type:G.VARIABLE_OUTPUTS,defaultValue:["output1"]}};function ye(e){var n=e.type,t=e.configurationDefinitionJson,a=e.defaultConfigurationJson,r=fe(),o=t&&JSON.parse(t)||[],i=a&&JSON.parse(a)||[],c=B.a.pipe(B.a.reject(B.a.propEq("fieldName",e.inputStreamsDrivenByConfig)),B.a.reject(B.a.propEq("fieldName",e.outputStreamsDrivenByConfig)),B.a.map((function(e){return function(e,n){var t=F(e),a=Object(M.getNewState)(n,(function(e){e.fieldName=t(e.fieldName)}));return a.dependsOnMap&&Object.keys(a.dependsOnMap).length>0&&(a=Object(M.getNewState)(a,(function(e){var n=a.dependsOnMap;e.dependsOnMap=Object.keys(n).reduce((function(e,a){var r;return Y({},e,((r={})[t(a)]=n[a],r))}),{})}))),a}("params.stageConfig.configValue",e)})),B.a.concat(r))(o),l=me({},B.a.pick(["name","libraryName","stageVersion"],e),{configValue:i.reduce((function(e,n){var t;return me({},e,((t={})[n.name]=n.value,t))}),{})}),s=e.inputLanes,u=e.inputStreamsDrivenByConfig,d=e.outputLanes,p=e.outputStreamsDrivenByConfig;return"PROCESSOR"!==n&&"TARGET"!==n||(s?(l.inputMappings=s.map(V),c.push(Ae())):u&&(c.push(ge()),c.push(be(u)))),"SOURCE"!==n&&"PROCESSOR"!==n||(d?(l.outputs=d,c.push(Ee())):p&&(l.configValue[p]||(l.configValue[p]=[]),c.push(Oe(p)))),{definitions:c,config:W(c,{params:{stageConfig:l}})}}var Ce=((Z={})[de.b.SQL]=$,Z[de.b.SHELL]=ee,Z[de.b.PYTHON]=ne,Z[de.b.SPARK]=te,Z[de.b.DATASET]=ae,Z[de.a.DATAFLOW]=re,Z[de.b.SUB_PROCESS]=oe,Z[de.b.DEPENDENT]=ie,Z[de.b.SFTP]=ce,Z[de.b.HTTP]=le,Z[de.b.SCD]=se,Z[de.b.VALIDATION]=ue,Z),he=function(e,n){switch(e.fieldName){case"timeout.enable":case"timeout.strategy":case"maxRetryTimes":switch(n){case de.b.SUB_PROCESS:return!1;default:return!0}default:return!0}};function ve(e){return"PLUGIN"===e.stageType?ye(e):function(e,n){var t=n&&Ce[n]||Ce[e];if(t){var a=fe().filter((function(n){return he(n,e)})).concat(t);return{definitions:a,config:W(a)}}return{definitions:[],config:{}}}(e.stageType,e.subtype)}t(236);var Ie=t(847),Ne=t.n(Ie);function Te(e,n){var t=Object.keys(e||{});return 0===t.length||t.every((function(t){return(e[t]||[]).indexOf(D()(n,t))>-1}))}var xe=i.a.createContext({config:{},updateConfig:function(){},batchUpdateConfig:function(){},isDefVisible:function(){return!0},getFieldValue:function(){},upstreamStages:[],readonly:!1}),Be=xe;function je(e){var n=e.config,t=e.definitions,a=e.onChange,r=e.readonly,c=e.children,l=Object(o.useCallback)((function(e){a(function(e,n){if(!n||0===n.length)return e;var t=Ne()((function(n){return Te(n.dependsOnMap,e)}),n),a=t[0],r=void 0===a?[]:a,o=(t[1],Object(M.getNewState)(e,(function(e){r.forEach((function(n){void 0===D()(e,n.fieldName)&&void 0!==n.defaultValue&&k()(e,n.fieldName,n.defaultValue)}))}))),i=Ne()((function(e){return Te(e.dependsOnMap,o)}),n),c=i[0],l=void 0===c?[]:c,s=i[1],u=void 0===s?[]:s;return Object(M.getNewState)(e,(function(e){u.forEach((function(n){void 0===D()(e,n.fieldName)||l.some((function(e){return e.fieldName===n.fieldName}))||(k()(e,n.fieldName,void 0),n.aliasFieldName&&k()(e,n.aliasFieldName,void 0))})),l.forEach((function(n){void 0===D()(e,n.fieldName)&&void 0!==n.defaultValue&&k()(e,n.fieldName,n.defaultValue)}))}))}(e,t))}),[a,t]),s=Object(o.useMemo)((function(){return function(e,n,t){var a=function(a,r){t||a.every((function(n,t){return D()(e,n)===r[t]}))||n(Object(M.getNewState)(e,(function(e){a.forEach((function(n,t){k()(e,n,r[t])}))})))};return{config:e,isDefVisible:function(n){return Te(n.dependsOnMap,e)},getFieldValue:function(n){return D()(e,n)},updateConfig:function(e,n){return a([e],[n])},batchUpdateConfig:a,readonly:t}}(n,l,r)}),[n,l,r]);return i.a.createElement(xe.Provider,{value:s},c)}function we(e){var n=e.name,t=e.depTaskId,a=e.depTaskName,r=e.depTaskOutputLane;this.name=n,this.depTaskId=t,this.depTaskName=a,this.depTaskOutputLane=r}function Se(e,n){this.name=e,this.alias=n}we.prototype.update=function(e){e&&(this.depTaskName=e.name)};var De=[G.STATIC_INPUTS,G.VARIABLE_INPUTS,G.STATIC_OUTPUTS,G.VARIABLE_OUTPUTS,G.ETL_INPUTS,G.ETL_OUTPUTS],_e=function(e){return B.a.flip(B.a.includes)(De,e.type)};function ke(e,n){var t=B.a.pipe(B.a.filter((function(e){return Te(e.dependsOnMap,n)})),B.a.filter(_e))(e),a={inputDefinition:void 0,inputs:[],outputDefinition:void 0,outputs:[]};return t.forEach((function(e){var t=e.fieldName,r=e.aliasFieldName;switch(e.type){case G.ETL_INPUTS:case G.STATIC_INPUTS:case G.VARIABLE_INPUTS:a.inputDefinition=e,a.inputs=(D()(n,t)||[]).map((function(e){return new we(e)}));break;case G.ETL_OUTPUTS:case G.STATIC_OUTPUTS:case G.VARIABLE_OUTPUTS:var o=D()(n,t)||[],i=r&&D()(n,r)||{};a.outputDefinition=e,a.outputs=o.map((function(e){return new Se(e,i[e])}))}})),a}function Pe(e){var n=B.a.pick(["name","depTaskId","depTaskName","depTaskOutputLane"]);return function(t){var a=B.a.pipe(B.a.map(B.a.pick(["id","name"])),B.a.indexBy(B.a.prop("id")))(t);return t.map((function(t){var r=ke(e(t).definitions,t),o=r.inputDefinition,i=r.inputs;return i.length?(i.forEach((function(e){return e.update(a[e.depTaskId])})),Object(M.getNewState)(t,(function(e){k()(e,o.fieldName,i.map(n))}))):t}))}}var Le,Re;t(276);!function(e){e.InputDatasetSource="InputDatasetSource",e.OutputDataset="OutputDataset",e.OutputDatasetTarget="OutputDatasetTarget",e.GroupByTransform="GroupByTransform",e.SelectColumnsTransform="SelectColumnsTransform",e.CalculatorTransform="CalculatorTransform",e.FieldReplacerTransform="FieldReplacerTransform",e.RemoveDuplicateTransform="RemoveDuplicateTransform",e.NullValueMapperTransform="NullValueMapperTransform",e.RowFilterTransform="RowFilterTransform",e.JoinTransform="JoinTransform",e.UnionTransform="UnionTransform",e.PlainSqlTransform="PlainSqlTransform",e.NaiveBayesModelTarget="NaiveBayesModelTarget",e.NaiveBayesPredictTransform="NaiveBayesPredictTransform",e.LogicOutputTarget="LogicOutputTarget",e.OutputDatasourceTarget="OutputDatasourceTarget",e.PivotTransform="PivotTransform",e.UnpivotTransform="UnpivotTransform"}(Le||(Le={})),function(e){e.DRAG_PANEL="DRAG_PANEL",e.DRAG_LINK="DRAG_LINK",e.DRAG_NODE="DRAG_NODE",e.FRAME_SELECT="FRAME_SELECT",e.CLICK_NODE="CLICK_NODE",e.DRAG_ANNOTATION="DRAG_ANNOTATION",e.EXPAND_ANNOTATION="EXPAND_ANNOTATION",e.NONE=""}(Re||(Re={}));var Me=[[.5],[.3,.7],[.2,.5,.8],[0,.33,.66,1]],Ue=0,Ye={inputType:Ue,inputNumber:1,outputType:Ue,outputNumber:1},Fe=56,Ve=56,We=[[{top:"calc(50% - 5px)"}],[{top:"calc(30% - 5px)"},{top:"calc(70% - 5px)"}],[{top:"calc(20% - 5px)"},{top:"calc(50% - 5px)"},{top:"calc(80% - 5px)"}]];function Ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function He(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ge(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Qe=function(){return"tasks-".concat(Math.ceil(1e5*Math.random()))};function Je(e,n){return void 0===e&&(e={}),n[e.type===de.b.PLUGIN?D()(e,"params.stageConfig.name"):e.type]||{definitions:[]}}function ze(e,n,t,a){var r=B.a.pipe(B.a.map((function(e){return He({name:e.name,spec:e},ve(e))})),B.a.indexBy(B.a.prop("name")))(n);return{tasks:e.map((function(e){var n=Je(e,r);return B.a.pipe((function(e){return(n=e)&&"PLUGIN"===n.type?Object(M.getNewState)(n,(function(e){var n=D()(e,H);if(n&&Array.isArray(n)){var t=n.reduce((function(e,n){var t;return Y({},e,((t={})[n.name]=n.value,t))}),{});k()(e,H,t)}})):n;var n}),(function(e){return function(e,n){var t=B.a.pipe(B.a.filter(B.a.propEq("type",G.STATIC_OUTPUTS)),B.a.head)(n),a=e;if(t&&0===D()(e,t.fieldName,[]).length){var r=t.fieldName,o=t.defaultValue;a=Object(M.getNewState)(a,(function(e){return k()(e,r,o)}))}return a}(e,n.definitions)}),(function(e){return function(e,n,t){void 0===e&&(e={});var a=(t||[]).find((function(t){return t.name===D()(n,e.id+".name")}))||{};return He({},e,{state:a.state||""})}(e,t,a)}))(e)})),stageConfigMap:r}}var qe=B.a.pipe(B.a.filter(B.a.propEq("type",de.b.SUB_PROCESS)),B.a.reject(B.a.pathEq(["params","processDefinitionId"],void 0)),B.a.uniqBy(B.a.path(["params","processDefinitionId"])),B.a.map(B.a.prop("params")),B.a.map(B.a.pick(["processType","processDefinitionId"]))),Ke=B.a.pipe(qe,B.a.head),Xe=function(e,n){if(e.sourceId===e.targetId)return!1;if(D()(n,"["+e.targetId+"].targetarr","").includes(e.sourceId))return!1;var t=function(e){return D()(n,"["+e+"].targetarr","")},a=function(e){return t(e)?t(e).split(","):[]};if(D()(n,"["+e.targetId+"].IOSpec")&&D()(n,"["+e.targetId+"].IOSpec.inputType")===Ue&&a(e.targetId).length>=D()(n,"["+e.targetId+"].IOSpec.inputNumber",1))return!1;return!function e(n,t){return 0!==n.length&&n.some((function(n){return n===t||e(a(n),t)}))}(a(e.sourceId),e.targetId)},Ze=function(e,n,t,a){var r=[{},[],[],[],[],{}],o=r[0],i=r[1],c=r[2],l=r[3],s=function(e,n){var t,a;return e.forEach((function(e){t=t?Math.min(n[e].y,t):n[e].y,a=a?Math.max(n[e].y,a):n[e].y})),a-t+Ve+20}(e,n),u=L()(a.filter((function(n){return e.includes(n.endPointSourceId)&&e.includes(n.endPointTargetId)})));return e.forEach((function(e){var a=function(e,n,t){var a=Qe(),r=e.name+"-"+Math.ceil(100*Math.random());return{task:He({},L()(n),{id:a,name:r}),location:He({},L()(e),{name:r,targetarr:"",x:e.x,y:e.y+t})}}(n[e],t.find((function(n){return n.id===e})),s),r=a.task,d=a.location;c.push(r.id),i.push(r),l[e]=r,o[r.id]=L()(d),u.forEach((function(n){n.endPointSourceId===e&&(n.endPointSourceId=r.id),n.endPointTargetId===e&&(n.endPointTargetId=r.id)}))})),Object.keys(o).forEach((function(e){o[e].targetarr=u.filter((function(n){return n.endPointTargetId===e})).map((function(e){return e.endPointSourceId})).join(",")})),i.forEach((function(e){var n=D()(e,"params.stageConfig.inputMappings");if(n){var t=n.map((function(e){var n=D()(l,"["+e.depTaskId+"]");return He({},e,n?{depTaskId:n.id,depTaskName:n.name}:{depTaskId:"",depTaskName:""})}));k()(e,"params.stageConfig.inputMappings",t)}})),{copyIds:c,copyTasks:i,copyConnections:u,copyLocations:o}},$e=t(43),en=t.n($e),nn=t(852),tn=t.n(nn),an=t(1257),rn=t(860),on=t.n(rn);function cn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function ln(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cn(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var sn={width:22,height:22},un={width:36,height:36};function dn(e){var n=e.type,t=e.subtype,a=e.name,r=e.iconBase64,o=e.size;return r?t?i.a.createElement("div",{className:"dataflow-sprite "+n+" "+t+" "+("small"===o&&"small")}):i.a.createElement("img",{alt:a,src:"data:image/png;base64,"+r,style:"small"===o?sn:un}):i.a.createElement("div",{className:"task-sprite "+n+" "+t+" "+("small"===o&&"small")})}function pn(e){var n=e.type,t=e.subtype,a=e.spec,r=e.style,o=e.canDrag,c=e.renderIcon;T()(on.a);var l=Object(an.a)({item:{type:"TASK",stageSpec:a},collect:function(e){return{opacity:e.isDragging()?.5:1}},canDrag:o}),s=l[0].opacity,u=l[1];return i.a.createElement("div",{ref:u,className:p()(on.a.item,"row-flex-center cursor-pointer no-shrink"),style:ln({opacity:s,width:"100%",height:38},r,{padding:"0 5px"})},c?c(n):i.a.createElement(dn,{type:n,subtype:t,name:a.name,iconBase64:a.iconBase64,size:"small"}),i.a.createElement(f.a,{style:{wordBreak:"break-all",marginLeft:10}},a.label))}dn.propTypes={type:l.a.string,subtype:l.a.string,name:l.a.string,iconBase64:l.a.string,size:l.a.string},pn.propTypes={type:l.a.string,subtype:l.a.string,spec:l.a.object,style:l.a.object,canDrag:l.a.bool,renderIcon:l.a.func},pn.defaultProps={name:"",type:"SQL",canDrag:!0};var mn=t(12),fn={id:"TASK_TYPE",cn:"任务类型",en:"Task type"},An=function(e){return e.stageType!==de.b.PLUGIN},gn=function(e){return e.stageType===de.b.PLUGIN};function bn(e){var n=!e.isReadonly,t=[e.stageSpecs.filter(An),e.stageSpecs.filter(gn)],a=t[0],r=t[1];return i.a.createElement("div",{className:"gd-bgColor-grey0 column-flex-center no-shrink gd-border-right",style:{width:187,overflow:"hidden",padding:"0 7px"}},i.a.createElement(f.a,{className:"gd-weight-bold font-l no-shrink",style:{height:34,lineHeight:"34px"}},Object(mn.c)(fn)),i.a.createElement(E.a,{style:{marginBottom:"10px"}}),i.a.createElement("div",{className:"scroll-y column-flex-center flex1 content-w-full"},a.map((function(e){return i.a.createElement(pn,{key:e.name,type:e.stageType,subtype:e.subtype,spec:e,canDrag:n})})),!!a.length&&i.a.createElement(E.a,{className:"no-shrink",style:{marginTop:10}}),r.map((function(e){return i.a.createElement(pn,{key:e.name,type:e.stageType,spec:e,style:{marginTop:10},canDrag:n})}))))}bn.propTypes={isReadonly:l.a.bool,stageSpecs:l.a.array},bn.defaultProps={stageSpecs:[],plugins:[]};var En=bn,On=t(233),yn=t.n(On),Cn=t(524),hn=t.n(Cn),vn=t(108),In=t.n(vn),Nn=(t(164),t(165)),Tn=t.n(Nn),xn=t(105),Bn=t.n(xn),jn=t(18),wn=t.n(jn),Sn=t(487),Dn=t.n(Sn),_n=t(882),kn=t(883),Pn=t.n(kn),Ln=t(29),Rn=t.n(Ln),Mn=t(134),Un=t.n(Mn),Yn=t(120),Fn=t.n(Yn);var Vn,Wn,Gn,Hn=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){var t=function(t){function a(e,a){var r;return(r=t.call(this,e,a)||this).removeCss=a.insertCss.apply(a,n),r}wn()(a,t);var r=a.prototype;return r.componentWillUnmount=function(){this.removeCss&&setTimeout(this.removeCss,0)},r.render=function(){var n=this.props,t=n.forwardRef,a=Rn()(n,["forwardRef"]);return i.a.createElement(e,en()({},a,{ref:t}))},a}(i.a.PureComponent);r()(t,"propTypes",{forwardRef:l.a.any});var a=e.displayName||e.name||"Component";t.displayName="WithStyles("+a+")",t.contextType=Fn.a,t.ComposedComponent=e;var o=Un()(t,e);return i.a.forwardRef((function(e,n){return i.a.createElement(o,en()({},e,{forwardRef:n}))}))}};function Qn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var Jn={id:"SENIOR-EDITOR",cn:"高级编辑",en:"Senior editor"},zn={id:"EDIT",cn:"编辑",en:"Edit"},qn={},Kn=function(){},Xn=Hn(Pn.a)((Gn=Wn=function(e){function n(n){var t;return t=e.call(this,n)||this,r()(Bn()(t),"genScriptType",(function(e){switch(e){case"application/json":case"text/javascript":return"javascript";case"text/x-python":return"python";default:return e}})),r()(Bn()(t),"loadScript",Tn()(In.a.mark((function e(){var n,a;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.options.mode,a=t.genScriptType(n),window.CodeMirror){e.next=9;break}return e.next=5,Object(_n.asyncLoadScript)("/assets/vendor/codemirror/lib/codemirror.js");case 5:Object(_n.asyncLoadScript)("/assets/vendor/codemirror/addon/hint/show-hint.js"),Object(_n.asyncLoadScript)("/assets/vendor/codemirror/addon/hint/sql-hint.js"),Object(_n.asyncLoadScript)("/assets/vendor/codemirror/addon/hint/javascript-hint.js"),Object(_n.asyncLoadScript)("/assets/vendor/codemirror/addon/display/placeholder.js");case 9:qn[a]?t.init():Object(_n.asyncLoadScript)("/assets/vendor/codemirror/mode/"+a+"/"+a+".js").then((function(){qn[a]=!0,t.init()}));case 10:case"end":return e.stop()}}),e)})))),r()(Bn()(t),"init",(function(){t.editor=t.generateEditor(t.codeEditorRef.current,t.codeMirrorValueChanged)})),r()(Bn()(t),"generateEditor",(function(e,n,a){var o=t.props,i=o.options,c=o.disableHint,l=o.style,s=a||l||{},u=s.minHeight,d=void 0===u?64:u,p=s.maxHeight,m=void 0===p?68:p,f=window.CodeMirror.fromTextArea(e,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qn(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({mode:"javascript",lineNumbers:!0,theme:"gd",minHeight:d+"px",maxHeight:m+"px",matchBrackets:!0,extraKeys:{Tab:"autocomplete"}},i));return f.on("change",n),f.on("cursorActivity",(function(e){window.CodeMirror.commands.autocomplete(e,null,{completeSingle:!1}),c&&t.disableHint()})),f})),r()(Bn()(t),"disableHint",(function(){var e={hint:function(){return{from:t.editor.getDoc().getCursor(),to:t.editor.getDoc().getCursor(),list:[]}}};t.editor.showHint(e)})),r()(Bn()(t),"setCursor",(function(e){t.editor.getDoc().setCursor(e)})),r()(Bn()(t),"getCursor",(function(){return t.editor.getDoc().getCursor()})),r()(Bn()(t),"setValue",(function(e){var n=t.editor.getDoc(),a=t.getCursor();n.replaceRange(e,a),t.editor.focus()})),r()(Bn()(t),"getValue",(function(){return t.editor.getDoc().getValue()})),r()(Bn()(t),"seniorEditorValueChanged",(function(e,n){t.props.onChange&&"setValue"!==n.origin&&(t.doc=e.getValue())})),r()(Bn()(t),"codeMirrorValueChanged",(function(e,n){t.props.onChange&&"setValue"!==n.origin&&t.props.onChange(e.getValue(),n)})),r()(Bn()(t),"focus",(function(){t.editor.focus()})),r()(Bn()(t),"apply",(function(){t.cancel();var e=t.seniorEditor.getValue();t.editor.setValue(e),t.props.onChange(e)})),r()(Bn()(t),"open",(function(){t.setState({showSeniorEdit:!0},(function(){setTimeout((function(){t.seniorEditor=t.generateEditor(t.seniorEditorRef.current,null,{minHeight:300,maxHeight:544})}))}))})),r()(Bn()(t),"cancel",(function(){return t.setState({showSeniorEdit:!1})})),t.state={showSeniorEdit:!1},t.containerRef=i.a.createRef(),t.codeEditorRef=i.a.createRef(),t.seniorEditorRef=i.a.createRef(),t.editor=null,t}wn()(n,e);var t=n.prototype;return t.componentDidMount=function(){this.loadScript()},t.componentDidUpdate=function(e){e.options.readOnly!==this.props.options.readOnly&&this.editor&&this.editor.setOption("readOnly",this.props.options.readOnly)},t.render=function(){var e=this,n=this.props,t=n.className,a=n.supportSenior,r=n.placeholder;return i.a.createElement("div",{className:p()(Pn.a.container,"br-2 font-l flex1 pos-relative",t),ref:this.containerRef},i.a.createElement("textarea",{ref:this.codeEditorRef,defaultValue:this.props.value,autoComplete:"new-password",autoFocus:this.props.autoFocus,placeholder:r}),a&&i.a.createElement(o.Fragment,null,i.a.createElement(yn.a,{title:Object(mn.c)(Jn)},i.a.createElement(f.a,{color:"desc",className:p()(Pn.a.edit,this.props.options.readOnly?"gd-color-disable gd-disabled cursor-not-allowed":"cursor-pointer","pos-absolute row-flex-center jc-center font-m gd-hover-primary br-2"),onClick:this.props.options.readOnly?Kn:this.open},i.a.createElement(g.a,{name:"pannelRename",style:{marginRight:5}})," ",Object(mn.c)(zn))),this.state.showSeniorEdit&&i.a.createElement(Dn.a,{visible:!0,width:834,title:Object(mn.c)({id:"EDITOR",cn:"编辑器",en:"Editor"}),onOK:this.apply,onCancel:this.cancel,getContainer:function(){return e.containerRef.current}},i.a.createElement("textarea",{ref:this.seniorEditorRef,defaultValue:this.props.value,autoComplete:"new-password",autoFocus:this.props.autoFocus,placeholder:r}))))},n}(o.Component),r()(Wn,"propTypes",{value:l.a.string,autoFocus:l.a.bool,onChange:l.a.func,options:l.a.object,disableHint:l.a.bool,className:l.a.string,style:l.a.object,supportSenior:l.a.bool,placeholder:l.a.string}),r()(Wn,"defaultProps",{placeholder:"input here",autoFocus:!1,supportSenior:!1}),Vn=Gn))||Vn,Zn=i.a.memo((function(e){var n=Object(o.useMemo)((function(){return JSON.stringify(e.data,null,"\t")}),[e.data]),t=i.a.createElement(Xn,{value:n,options:{mode:"javascript",readOnly:!0},style:{minHeight:64,maxHeight:500,maxWidth:500,overflow:"hidden"}});return i.a.createElement(hn.a,{key:n,content:t,trigger:"hover"},i.a.createElement(g.a,{name:"show"}))}));Zn.propTypes={data:l.a.oneOfType([l.a.object,l.a.array])};var $n=t(885),et=t.n($n);function nt(e){var n;T()(et.a);var t=e.className,a=e.selected,r=e.style,o=e.children,c=e.name,l=e.task;e.spec;return i.a.createElement(yn.a,{title:l.desc,mouseEnterDelay:.4,placement:"right"},i.a.createElement("div",{className:p()(et.a.nodeContent,t,(n={},n[a]="node-Selected",n),"row-flex-center jc-center pos-relative"),style:r},o,i.a.createElement("div",{className:p()(et.a.operation,"pos-absolute row-flex-center jc-end"),style:{height:29,top:-29,right:-10,minWidth:50},onMouseDown:function(e){e.stopPropagation()}},e.renderOpsBar&&e.renderOpsBar()),i.a.createElement("div",{className:"row-flex-center jc-center pos-absolute text-center",style:{left:-41,bottom:-26,width:140,paddingTop:11}},!1,i.a.createElement(f.a,{"data-text":c,className:"text-ellipsis text-outline"},c),!1,!e.isInstance&&e.renderStatusBar&&e.renderStatusBar()),e.isInstance&&e.renderStatusBar&&i.a.createElement("div",{className:"pos-absolute",style:{right:-4,bottom:-4}},e.renderStatusBar())))}nt.propTypes={className:l.a.string,name:l.a.string,selected:l.a.bool,style:l.a.object,task:l.a.object,children:l.a.node,renderOpsBar:l.a.func,renderStatusBar:l.a.func,isInstance:l.a.bool,spec:l.a.object};var tt=t(472),at={id:"NOT_CONFIGURED",cn:"节点未配置",en:"Configuration is not complete"},rt={id:"INPUTS_MISSING",cn:"输入丢失",en:"Nonexistent inputs"},ot={id:"NO_EXECUTION",cn:"禁止执行",en:"NO EXECUTION"},it={id:"DATASOURCE_MISSING",cn:"数据源丢失",en:"Nonexistent datasource"},ct={id:"DATASET_NAME_INVALID",cn:"数据集名称已存在",en:"datasset name existent"},lt={EMPTY:1,INPUTS_MISSING:2,DATASOURCE_MISSING:3,FORBIDDEN_RUN:4,INVALID:5,DATASET_NAME_INVALID:6},st="empty_node",ut="toast-warn",dt="stopped";function pt(e){var n=function(e,n){var t=[ut,Object(tt.b)("yellow"),n],a=t[0],r=t[1],o=t[2];switch(e){case lt.EMPTY:a=st,r=Object(tt.b)("yellow"),o=Object(mn.c)(at);break;case lt.INPUTS_MISSING:o=Object(mn.c)(rt);break;case lt.DATASOURCE_MISSING:o=Object(mn.c)(it);break;case lt.DATASET_NAME_INVALID:o=Object(mn.c)(ct);break;case lt.FORBIDDEN_RUN:a=dt,r=Object(tt.b)("red"),o=Object(mn.c)(ot)}return{icon:a,color:r,title:o}}(e.status,e.title),t=n.icon,a=n.color,r=n.title;return i.a.createElement(yn.a,{overlayClassName:"font-m gd-color-title",title:r},i.a.createElement(g.a,{name:t,className:"font-m no-shrink",style:{fontSize:12,marginLeft:3,color:a}}))}function mt(e){var n=e.items,t=void 0===n?[]:n;return i.a.createElement(o.Fragment,null,t.map((function(e){var n=Array.isArray(e)?e:[e],t=n[0],a=n[1];return i.a.createElement(pt,{key:t,status:t,title:a})})))}pt.propTypes={status:l.a.number,title:l.a.string},mt.propTypes={items:l.a.array};var ft,At=t(3),gt=t.n(At),bt=t(475),Et=t.n(bt),Ot=t(500),yt=t(491);!function(e){e[e.PROCESS=0]="PROCESS",e[e.DATAFLOW=1]="DATAFLOW",e[e.DATASET=2]="DATASET",e[e.FILE=3]="FILE"}(ft||(ft={}));var Ct=function(e){switch(e){case ft.PROCESS:return Object(mn.c)({id:"PROCESS",cn:"工作流",en:"Process"});case ft.DATAFLOW:return Object(mn.c)({id:"DATA-FLOW",cn:"数据流",en:"Data Flow"});case ft.DATASET:return Object(mn.c)({id:"DATASET",cn:"数据集",en:"dataset"});default:return""}},ht=function(e){switch(e){case ft.PROCESS:return Object(mn.c)({id:"ADD_NODE",cn:"拖入节点",en:"Add node"});case ft.DATAFLOW:return Object(mn.c)({id:"ADD_CALC",cn:"拖入算子",en:"Add calculator"});default:return""}},vt=function(e){switch(e){case ft.PROCESS:return Object(mn.c)({id:"NODE",cn:"节点",en:"Node"});case ft.DATAFLOW:return Object(mn.c)({id:"CALC",cn:"算子",en:"Calculator"});default:return""}},It=ft;function Nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var Tt=i.a.memo((function(e){var n=e.type,t=e.task,a=e.tasks,c=e.onUpdateNode,l=e.readonly,s=t&&t.name,u=Object(o.useState)(!1),d=u[0],p=u[1],m=Object(o.useRef)(null);if(Object(o.useEffect)((function(){var e=gt.a.findDOMNode(m.current);e&&e.focus&&e.focus()}),[d]),d){var A=function(e){""===e.target.value&&w.a.warning(vt(n)+"名称为空"),a.some((function(n){return n.id!==t.id&&n.name===e.target.value}))?w.a.warning(vt(n)+"名称不能重复！"):(c(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Nt(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t,{name:e.target.value})),p(!1))};return i.a.createElement(Et.a,{defaultValue:s,onPressEnter:A,onBlur:A,maxLength:100,ref:m})}return i.a.createElement(f.a,{className:"font-l gd-color-title row-flex-center"},s,!l&&i.a.createElement(g.a,{name:"pannelRename",className:"font-m",onClick:function(){return p(!0)},style:{marginLeft:18}}))})),xt=t(272),Bt=t(916),jt=t.n(Bt),wt=t(922),St=t.n(wt),Dt=Object(xt.produce)((function(e,n){var t=function(){e.stacks.length||e.stacks.push({tasks:L()(e.tasks),locations:L()(e.locations),connects:L()(e.connects)})};switch(n.type){case"UPDATE_POSITION":e.locations[n.id].x=n.x,e.locations[n.id].y=n.y;break;case"BATCH_UPDATE_POSITION":n.ids.forEach((function(t){e.locations[t].x+=n.x,e.locations[t].y+=n.y}));break;case"ADD_NODE":case"COPY_NODE":e.locations[n.id]={name:n.name,targetarr:"",x:n.x,y:n.y},e.tasks.push(n.task);break;case"BATCH_COPY_NODE":t(),Object.keys(n.locations).forEach((function(t){e.locations[t]=n.locations[t]})),e.tasks=e.tasks.concat(n.tasks),e.connects=e.connects.concat(n.connects);break;case"DELETE_NODE":delete e.locations[n.id];var a=e.tasks.findIndex((function(e){return e.id===n.id}));e.tasks.splice(a,1),e.connects=e.connects.filter((function(e){return![e.endPointSourceId,e.endPointTargetId].includes(n.id)})),Object.keys(e.locations).forEach((function(t){var a=(e.locations[t].targetarr||"").split(",");e.locations[t].targetarr=St()(a,[n.id]).join(",")}));break;case"BATCH_DELETE_NODE":t(),n.ids.forEach((function(n){delete e.locations[n];var t=e.tasks.findIndex((function(e){return e.id===n}));e.tasks.splice(t,1),e.connects=e.connects.filter((function(e){return![e.endPointSourceId,e.endPointTargetId].includes(n)})),Object.keys(e.locations).forEach((function(t){var a=(e.locations[t].targetarr||"").split(",");e.locations[t].targetarr=St()(a,[n]).join(",")}))}));break;case"ADD_CONNECTION":var r=n.source,o=n.target,i=n.sourceIndex,c=void 0===i?0:i,l=n.targetIndex,s=void 0===l?0:l;if(!e.connects.some((function(e){return jt()(e,{endPointSourceId:r,endPointTargetId:o,sourceIndex:c,targetIndex:s})}))){e.connects.push({endPointSourceId:r,endPointTargetId:o,sourceIndex:c,targetIndex:s});var u=e.locations[o].targetarr;u=""===u?[]:u.split(","),e.locations[o].targetarr=u.concat([r]).join(",")}break;case"REMOVE_CONNECTION":var d=n.source,p=n.target,m=n.sourceIndex,f=void 0===m?0:m,A=n.targetIndex,g=void 0===A?0:A,b=e.connects.findIndex((function(e){return void 0===e.sourceIndex&&(e.sourceIndex=0,e.targetIndex=0),jt()(e,{endPointSourceId:d,endPointTargetId:p,sourceIndex:f,targetIndex:g})}));if(-1!==b){e.connects.splice(b,1);var E=e.locations[p].targetarr;(E=""===E?[]:E.split(",")).includes(d)&&(e.locations[p].targetarr=St()(E,[d]).join(","))}break;case"UPDATE_TASK":var O=e.tasks.findIndex((function(e){return e.id===n.task.id}));e.tasks[O]=n.task,k()(e,"locations["+n.task.id+"].name",D()(n,"task.name"));break;case"REFRESH_TASKS":e.tasks=n.tasks,e.locations=n.nodesMap,e.connects=n.connections;break;case"AUTO_LAYOUT":t(),e.tasks=n.tasks,e.locations=n.nodesMap,e.connects=n.connections;break;case"IN_STACK":e.stacks.length>0&&(e.stacks=[]);break;case"UNDO":if(e.stacks.length>0){var y=e.stacks[e.stacks.length-1];e.tasks=y.tasks,e.locations=y.locations,e.connects=y.connects,e.stacks.pop()}}}));function _t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function kt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Pt=function(e){return{timestamp:(new Date).getTime(),unsaved:e}};t(278);var Lt=t(576),Rt=36e5,Mt=function(e){return"Session_"+e},Ut=function(e){return e.join("/")},Yt=function(e){return e.split("/")};function Ft(e,n){return!e||!n||Date.now()-n>Rt}var Vt=function(){function e(e,n){void 0===n&&(n=!1),this.type=Mt(e),n&&this.clear()}var n=e.prototype;return n._getKeyPath=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Ut([this.type].concat(n))},n.findSessionKey=function(e){var n=this;return Lt.a.keys().find((function(t){return t.startsWith(n._getKeyPath(e))}))},n.getSession=function(e){var n=this.findSessionKey(e);if(n){var t=[Yt(n)[2],Lt.a.get(n)],a=t[1];if(!Ft(e,t[0])&&a)return a;Lt.a.remove(n)}return null},n.createSession=function(e,n){e&&(this.removeSession(e),Lt.a.set(this._getKeyPath(e,Date.now()),n))},n.removeSession=function(e){var n=this.findSessionKey(e);n&&Lt.a.remove(n)},n.refreshSession=function(e){if(e){var n=this.findSessionKey(e);if(n){var t=Lt.a.get(n);Lt.a.remove(n),this.createSession(e,t)}}},n.clear=function(){var e=this;Lt.a.keys().filter((function(n){return n.startsWith(e.type)})).forEach((function(e){var n=Yt(e).slice(-2);!Ft(n[0],n[1])&&Lt.a.get(e)||Lt.a.remove(e)}))},e}();var Wt,Gt,Ht,Qt=function(e,n){var t=this;this.draftId=n,this.type=e,this.get=function(){return new Vt(t.type,!0).getSession(t.draftId)},this.getJSON=function(){var e=t.get();return e&&JSON.parse(e)||null},this.remove=function(){return new Vt(t.type).removeSession(t.draftId)},this.save=function(e){new Vt(t.type).createSession(t.draftId,JSON.stringify(e))},this.getId=function(){return t.draftId},this.refreshSession=function(){return new Vt(t.type).refreshSession(t.draftId)}},Jt=t(55),zt=t.n(Jt),qt=t(513),Kt=t(928),Xt=t.n(Kt);function Zt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function $t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zt(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ea,na,ta,aa=function(e,n){var t,a;return["left","right"].includes(e)?((a={})[e]=0,a.top=0,a.width=n||500,a.height="100%",a):((t={})[e]=0,t.left=0,t.width="100%",t.height=n||350,t)},ra=zt()(Xt.a)((Ht=Gt=function(e){function n(n){var t;return t=e.call(this,n)||this,r()(Bn()(t),"onMouseMove",(function(e){e.preventDefault();var n=t.props.extent,a=t.containerRef.current,r=Object(qt.truncateValue)(document.body.clientHeight-e.clientY,n,document.body.clientHeight-240);a.style.height=r+"px",t.currentExtent=r})),r()(Bn()(t),"onMouseUp",(function(e){e.preventDefault(),window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("mouseup",t.onMouseUp),document.getElementsByTagName("body")[0].style.cursor="auto",t.setState({isResizing:!1})})),r()(Bn()(t),"onMouseDown",(function(e){e.preventDefault(),window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("mouseup",t.onMouseUp),document.getElementsByTagName("body")[0].style.cursor="row-resize",t.setState({isResizing:!0})})),r()(Bn()(t),"open",(function(){return t.setState({isCollapse:!1})})),r()(Bn()(t),"collapse",(function(){return t.setState({isCollapse:!t.state.isCollapse})})),r()(Bn()(t),"getStyle",(function(){return t.props.visible?t.state.isCollapse?45-t.currentExtent:0:-t.currentExtent})),r()(Bn()(t),"renderContent",(function(){var e,n=t.props,a=n.onClose,r=n.children,o=n.placement,c=n.title,l=n.className,s=t.state,u=s.isCollapse,d=s.isResizing,m=u?"expand":"minus";return i.a.createElement("div",{ref:t.containerRef,className:p()("pos-absolute",Xt.a.drawerContainer),onClick:a,style:$t({},aa(o,t.currentExtent),(e={},e[o]=t.getStyle(),e))},i.a.createElement("div",{className:p()(Xt.a.drawer,"pos-absolute-full gd-bgColor-grey0",l),style:{width:"100%"},onClick:function(e){return e.stopPropagation()}},i.a.createElement("div",{className:p()(Xt.a.resize,d?Xt.a.resizing:"","gd-shadow-dark-right"),onMouseDown:t.onMouseDown}),i.a.createElement("div",{style:{height:46,margin:"0 14px"},className:"row-flex-center jc-space"},i.a.createElement(f.a,{className:"font-l gd-color-title"},c),i.a.createElement(g.a,{name:m,className:"gd-color-title gd-hover-blue-color",onClick:t.collapse})),i.a.createElement(E.a,null),r))})),t.state={isCollapse:!1,isResizing:!1},t.containerRef=i.a.createRef(),t.currentExtent=n.extent,t}wn()(n,e);var t=n.prototype;return t.componentDidUpdate=function(e){this.state.isCollapse&&this.props.id&&e.id!==this.props.id&&this.open()},t.render=function(){var e,n=this.props.container;return document.querySelector(n)?Object(At.createPortal)(this.renderContent(),(e=n)&&document.querySelector(e)||document.body):null},n}(o.Component),r()(Gt,"propTypes",{container:l.a.string,visible:l.a.bool,onClose:l.a.func,children:l.a.node,placement:l.a.oneOf(["left","right","top","bottom"]),title:l.a.oneOfType([l.a.string,l.a.node]),className:l.a.string,extent:l.a.number,id:l.a.string}),r()(Gt,"defaultProps",{container:"body",placement:"right",title:"",extent:353}),Wt=Ht))||Wt,oa=t(930),ia=t.n(oa),ca=zt()(ia.a)((ta=na=function(e){function n(){return e.apply(this,arguments)||this}return wn()(n,e),n.prototype.render=function(){var e=this.props,n=e.items,t=e.activeKey,a=e.onChange;return i.a.createElement("div",{className:ia.a.tabs},n.map((function(e){var n;return i.a.createElement("div",{key:e.key,className:p()(ia.a.tab,"row-flex-center gd-bgColor-grey0 font-l",(n={},n[ia.a.active]=t===e.key,n)),onClick:function(){return a(e.key)}},i.a.createElement(g.a,{name:e.icon}),Object(mn.c)(e))})))},n}(o.Component),r()(na,"propTypes",{items:l.a.array,activeKey:l.a.string,onChange:l.a.func}),ea=ta))||ea;function la(e){var n=e.def;if(!n.description)return null;var t=Array.isArray(n.description);return i.a.createElement(yn.a,{title:t?i.a.createElement(i.a.Fragment,null,n.description.map((function(e){return i.a.createElement("p",{key:e},e)}))):n.description},i.a.createElement(g.a,{style:{width:12,height:12,paddingLeft:3},className:"no-shrink font-m gd-color-desc-icon gd-hover-blue-color",name:"help"}))}la.propTypes={def:l.a.object};var sa=i.a.memo(la),ua=function(e){return e.length>0&&R.a.warn("未满足的Definitions: ",e)},da=B.a.propEq("required",!0),pa=B.a.filter(da),ma=B.a.reject(da);function fa(e){return null==e||("string"==typeof e?0===e.length:!!Array.isArray(e)&&0===B.a.reject(fa,e).length)}function Aa(e,n,t){if(!function(e,n){return e.required&&Te(e.dependsOnMap,n)}(e,t))return!0;var a=e.type,r=e.model,o=!fa(n);if(o&&a===h.MODEL&&r)switch(r.modelType){case h.LIST_BEAN:var i=r.configDefinitions;return n.every((function(e){return i.every((function(n){return Aa(n,D()(e,n.fieldName))}))}));case h.LIST:return!r.configDefinitions.required||n.every(B.a.complement(fa));case h.ROW_GROUP:return r.configDefinitions.filter((function(e){return e.required})).every((function(e){return Aa(e,D()(t,e.fieldName))}));default:return!0}return o}function ga(e,n){if(!n)return!1;switch(e.type){case G.STATIC_INPUTS:case G.VARIABLE_INPUTS:return n.length>0&&n.every((function(e){return e.depTaskId}));case h.MODEL:return function(e,n){if(e.model.modelType===h.LIST_BEAN){var t=e.model.configDefinitions;return n.every((function(e){return t.every((function(n){return!n.required||Object.keys(e).includes(n.fieldName)&&""!==e[n.fieldName]}))}))}return!fa(n)}(e,n);default:return!fa(n)}}function ba(e,n){return B.a.reject((function(n){return!Te(n.dependsOnMap,e)||ga(n,D()(e,n.fieldName))}))(n)}function Ea(e,n){var t,a=[],r=B.a.find(B.a.propEq("type",G.VARIABLE_INPUTS))(n);!r||(t=D()(e,r.fieldName))&&t.every((function(e){return e.depTaskId}))||a.push(r);var o=B.a.reject((function(n){return n.type!==h.MODEL||n.model.modelType!==h.LIST_BEAN||(!D()(e,n.fieldName)||0===D()(e,n.fieldName).length||ga(n,D()(e,n.fieldName)))}))(n);return a.concat(o)}function Oa(e,n){return function(e,n,t,a){var r=t?t(e,pa(n)):[],o=a?a(e,ma(n)):[];return B.a.pipe(B.a.tap(ua))(r.concat(o))}(n,function(e){return e.reduce((function(e,n){switch(n.type){case h.MODEL:if(n.model.modelType===h.ROW_GROUP)return e.concat(n.model.configDefinitions||[])}return e.concat(n)}),[])}(e),ba,Ea)}var ya={id:"NOT_CONFIGURED",cn:"节点未配置",en:"Configuration is not complete"},Ca=function(e){return D()(e,"model.relatedRequiredFieldName")||e.fieldName},ha=function(e,n,t){return!!Aa(e,n,t)};var va=i.a.memo((function(e){var n=e.def,t=Object(o.useContext)(Be),a=t.config,r=(0,t.getFieldValue)(Ca(n)),c=Oa([n],a);return 0===D()(c,"length")&&ha(n,r,a)?null:i.a.createElement(yn.a,{title:Object(mn.c)(ya)},i.a.createElement(g.a,{style:{color:"var(--color-yellow)",right:4},className:"no-shrink font-m pos-absolute",name:"empty_node"}))})),Ia=t(932),Na=t.n(Ia);function Ta(e){T()(Na.a);var n=e.def,t=e.style,a=e.titleProps,r=e.prefix,o=e.suffix,c=a.className,l=Rn()(a,["className"]);return i.a.createElement("div",{className:p()(Na.a.title,"row-flex-center no-shrink jc-end gd-weight-bold pos-relative"),style:t},r,i.a.createElement("div",en()({className:p()(Na.a.titleLabel,"no-shrink",c)},l),n.label),i.a.createElement(sa,{def:n}),o,i.a.createElement(va,{def:n}))}Ta.propTypes={def:l.a.object,style:l.a.object,titleProps:l.a.object,prefix:l.a.node,suffix:l.a.node};var xa=i.a.memo(Ta);function Ba(e){var n=e.fieldName,t=Object(o.useContext)(Be),a=t.getFieldValue,r=t.updateConfig,i=t.readonly;return[a(n),function(e){return r(n,e)},i]}var ja=function(e,n){return e&&n?e+" ("+Object(mn.c)({id:"REQUIRED",cn:"必填",en:"Required"})+")":e};var wa=i.a.memo((function(e){var n=e.definition,t=e.style,a=Ba(n),r=a[0],c=a[1],l=a[2],s=n.model||{},u=s.unit,d=s.disabledOnMap,p=s.clearOnDisabled,m=s.maxLength,f=null;u&&(f=function(e){return""+e+u});var A=Object(o.useCallback)((function(e){return c(e.target.value)}),[c]),g=function(e){var n=Object(o.useContext)(Be).getFieldValue,t=Object(o.useMemo)((function(){return Object.keys(e||{})}),[e]),a=0!==t.length,r=Object(o.useMemo)((function(){return!!a&&t.every((function(t){return e[t].includes(n(t))}))}),[n,e,t,a]);return[a,r]}(d),b=g[0],E=g[1],O=b&&E;return Object(o.useEffect)((function(){void 0!==r&&O&&p&&c(void 0)}),[r,c,O,p]),i.a.createElement(Et.a,{value:r,onChange:A,placeholder:ja(n.placeholder,n.required),maxLength:m,disabled:l||O,formatter:f,style:t})}));function Sa(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Da(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sa(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sa(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _a=i.a.memo((function(e){var n=e.definition,t=e.style,a=Ba(n),r=a[0],o=a[1],c=a[2],l=(n.model||{}).unit,s=null;return l&&(s=function(e){return""+e+l}),i.a.createElement(bt.InputNumber,{min:0,value:r,onChange:function(e){return o(e)},formatter:s,style:Da({minWidth:60},t),disabled:c})})),ka=t(538),Pa=t.n(ka);function La(e){var n=Ba(e.definition),t=n[0],a=n[1],r=n[2];return i.a.createElement(Pa.a,{checked:t||!1,onChange:a,disabled:r,style:{width:28,marginLeft:4}})}La.propTypes={definition:l.a.object};var Ra=i.a.memo(La),Ma=t(525),Ua=t.n(Ma);function Ya(e){var n=e.definition,t=Ba(n),a=t[0],r=t[1],o=t[2],c=void 0!==a?a:!!n.defaultValue;return i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(Ua.a,{checked:c,onChange:function(e){return r(e.target.checked)},disabled:o}),n.text&&i.a.createElement(f.a,{className:"gd-color-desc"},n.text))}Ya.propTypes={definition:l.a.object};var Fa=i.a.memo(Ya),Va=t(532),Wa=t.n(Va),Ga=Wa()((function(e,n){return{text:e,value:n}}));function Ha(e){var n=Ba(e.definition),t=n[0],a=n[1],r=n[2],o=(t||"").split(",").filter(B.a.identity),c=e.definition.model,l=c.labels,s=c.values,u=Ga(l,s);return i.a.createElement("div",{className:p()("row-flex-center",e.className)},u.map((function(e){return i.a.createElement(Ua.a,{key:e.value,checked:(n=e.value,-1!==o.indexOf(n)),onChange:function(n){return function(e,n){var t=B.a.reject(B.a.equals(e))(o);n&&(t=B.a.sortBy((function(e){return B.a.findIndex(B.a.propEq("value",e))(u)}))(t.concat(e))),a(t.join(","))}(e.value,n.target.checked)},style:{width:150,marginRight:10},disabled:r},e.text);var n})))}Ha.propTypes={definition:l.a.object,className:l.a.string};var Qa=i.a.memo(Ha),Ja=t(658),za=t.n(Ja);function qa(e){var n=Ba(e.definition),t=n[0],a=n[1],r=n[2],o=e.definition.model,c=o.labels,l=o.values,s=o.descriptions;return i.a.createElement(Ja.RadioGroup,{key:t,value:t,onChange:function(e){return a(e.target.value)},disabled:r},c.map((function(e,n){return i.a.createElement(za.a,{style:{width:150},key:l[n],value:l[n]},e,s&&i.a.createElement(yn.a,{title:s[n]},i.a.createElement(g.a,{name:"help",style:{marginLeft:3}})))})))}qa.propTypes={definition:l.a.object};var Ka=i.a.memo(qa),Xa=t(481),Za=t(1258);function $a(e,n,t){return B.a.pipe(function(e,n){return function(e,t){var a=n[e],r=[].concat(n);r.splice(e,1);var o=e>t?t:t-1;return r.splice(o,0,a),r}}(0,n),t)}function er(e,n,t){var a=Object(an.a)({item:e,collect:function(e){return{isDragging:e.isDragging()}}}),r=a[0].isDragging,o=a[1],i=a[2];return[r,o,Object(Za.a)({accept:e.type,hover:function(a,r){if(a.id!==e.id&&t.current){var o=[a.index,e.index],i=o[0],c=o[1],l=t.current.getBoundingClientRect(),s=(l.bottom-l.top)/2,u=r.getClientOffset().y-l.top;i<c&&u<s||i>c&&u>s||(n(i,e.index),a.index=c)}}})[1],i]}function nr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function tr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nr(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ar=function(e,n){return function(t){return t.map((function(t,a){return a===e?n:t}))}},rr=function(e){return{color:Object(tt.b)("grey-600",e?.6:1),cursor:Object(tt.a)("not-allowed","pointer")(e)}};function or(e){var n=e.addNew,t=e.readonly,a=tr({marginLeft:8},rr(t));return i.a.createElement(g.a,{name:"add_item",className:"gd-color-desc",onClick:t?null:n,style:a})}function ir(e){var n=e.canAdd,t=e.onDel,a=e.onAdd,r=e.disabled,o={marginLeft:15};return n||(o.visibility="hidden"),i.a.createElement("div",{className:"row-flex-center jc-center",style:tr({height:20,width:54,borderRadius:10},rr(r))},i.a.createElement(g.a,{name:"delete_item",onClick:t,disabled:r}),i.a.createElement(g.a,{name:"add_item",onClick:a,style:o,disabled:r}))}function cr(e){var n=e.dragItem,t=e.move,a=e.sortable,r=Rn()(e,["dragItem","move","sortable"]),c=Object(o.useRef)(null),l=function(e,n){var t=Object(o.useRef)(null),a=Object(o.useRef)(null),r=er(e,n,a),i=r[0],c=r[1],l=r[2],s=r[3];return c(t),s(l(a)),[t,a,i]}(n,t),s=l[0],u=l[1],d=l[2]?0:1,p=Object(o.useMemo)((function(){return{padding:"5px 0",opacity:d}}),[d]),m=r.readonly?c:s;return i.a.createElement("div",{ref:u,style:p,className:"row-flex-center"},a&&i.a.createElement("div",{ref:m,style:{width:20},className:"row-flex-center"},i.a.createElement(g.a,{name:"drag",className:"font-l"})),r.children)}or.propTypes={readonly:l.a.bool,addNew:l.a.func},ir.propTypes={canAdd:l.a.bool,onDel:l.a.func,onAdd:l.a.func,disabled:l.a.bool},cr.propTypes={dragItem:l.a.object,move:l.a.func,sortable:l.a.bool,readonly:l.a.bool,children:l.a.node};var lr={minHeight:32,maxHeight:64},sr=function(e){return{configDefinition:{mode:e.mode,type:h.STRING},initValue:"",sortEnabled:!0}};function ur(e){var n=e.definition,t=n.model||sr(n),a=t.configDefinition,r=t.initValue,c=void 0===r?void 0:r,l=t.sortEnabled,s=Object(o.useContext)(ri),u=s.getTargetCFGClass,d=s.TitleClass,m=Ba(e.definition),f=m[0],A=m[1],g=m[2],b=Object(o.useState)((function(){return(f||[]).map((function(e){return Object(Xa.a)({value:e})}))})),E=b[0],O=b[1],y=Object(o.useCallback)((function(e){A(e.map(B.a.prop("value")).filter(B.a.identity)),O(e)}),[A,O]),C=function(){return!g&&y(E.concat(Object(Xa.a)({value:c})))},h=function(e){return function(n){return y(ar(e,n)(E))}},v=Object(o.useMemo)((function(){return $a(Xa.d,E,y)}),[E,y]),I=Object(o.useMemo)((function(){return tr({},a,{fieldName:"value"})}),[a]),N=u(I);return i.a.createElement("div",{className:p()("row-flex",e.className),style:e.style},i.a.createElement(d,{def:e.definition,suffix:i.a.createElement(or,{readonly:g,addNew:C}),style:{paddingTop:5}}),i.a.createElement("div",{className:"flex1"},E.map((function(e,t){var a=[Object(Xa.d)(e),n.fieldName],r=a[0],o={id:r,type:a[1],index:t};return i.a.createElement(cr,{key:r,dragItem:o,move:v,readonly:g,sortable:l},i.a.createElement(je,{config:e,onChange:h(t),readonly:g},i.a.createElement(N,{definition:I,className:"flex1",style:lr})),i.a.createElement(ir,{canAdd:t===E.length-1,onDel:function(){return y(E.filter((function(e,n){return n!==t})))},onAdd:C,disabled:g}))}))))}ur.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var dr=i.a.memo(ur);function pr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function mr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pr(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fr=function(e){return{color:Object(tt.b)("grey-600",e?.6:1),cursor:Object(tt.a)("not-allowed","pointer")(e)}};function Ar(e){var n=e.value,t=e.onChange,a=e.disabled,r=function(e){return function(a){var r;return t(mr({},n,((r={})[e]=a.target.value,r)))}};return i.a.createElement(o.Fragment,null,i.a.createElement(Et.a,{placeholder:"prop (必填)",value:n.key,onChange:r("key"),disabled:a}),i.a.createElement(Et.a,{placeholder:"value (选填)",value:n.value,onChange:r("value"),disabled:a}))}function gr(e){var n=e.canAdd,t=e.onDel,a=e.onAdd,r=e.disabled;return i.a.createElement(o.Fragment,null,i.a.createElement(g.a,{name:"delete_item",onClick:t,style:{marginRight:15},disabled:r}),n&&i.a.createElement(g.a,{name:"add_item",onClick:a,style:{opacity:n?1:0},disabled:r}))}function br(e){var n=e.definition,t=e.className,a=e.style,r=Object(o.useContext)(ri).TitleClass,c=Ba(n),l=c[0],s=c[1],u=c[2],d=Object(o.useState)(l||[]),m=d[0],f=d[1],A=e.itemClass||Ar,b=A.initValue,E=function(e){u||(s(A.rectify(e)),f(e))},O=function(){return E(m.concat(b))},y=function(e){return function(n){return E(Object(M.getNewState)(m,(function(t){t[e]=n})))}};return i.a.createElement("div",{key:m.length,className:p()("row-flex",t),style:a},i.a.createElement(r,{def:n,suffix:i.a.createElement(g.a,{name:"add_item",onClick:O,style:mr({},fr(u),{marginLeft:4})})}),i.a.createElement("div",{key:m.length,className:"column-flex flex1"},m.map((function(e,n){return i.a.createElement("div",{key:""+n*n,className:"row-flex-center",style:{marginBottom:10}},i.a.createElement(A,{value:e,onChange:y(n),disabled:u}),i.a.createElement("div",{className:"row-flex-center",style:mr({minWidth:54,padding:"0 10px"},fr(u))},i.a.createElement(gr,{canAdd:n===m.length-1,onDel:function(){return E(m.filter((function(e,t){return t!==n})))},onAdd:O,disabled:u})))}))))}Ar.propTypes={value:l.a.object,onChange:l.a.func,disabled:l.a.bool},Ar.rectify=function(e){return e.filter((function(e){return e.key}))},Ar.initValue={key:"",value:""},gr.propTypes={canAdd:l.a.bool,onDel:l.a.func,onAdd:l.a.func,disabled:l.a.bool},br.propTypes={definition:l.a.object,itemClass:l.a.func,className:l.a.string,style:l.a.object};var Er=i.a.memo(br),Or=Er;Er.hasUnifyTitle=!1;var yr=t(477),Cr=t.n(yr),hr=i.a.createContext({outside:{},inside:{},getValue:function(){},batchUpdateInside:function(){}}),vr=hr;var Ir=function(e,n,t){var a;return{outside:e,inside:n,getValue:(a={outside:e,inside:n},function(e){var n=e.ns,t=e.fieldName;return D()(a[n],t)}),batchUpdateInside:function(e,a){e.every((function(e,t){return D()(n,e)===a[t]}))||t(Object(M.getNewState)(n,(function(n){e.forEach((function(e,t){return k()(n,e,a[t])}))})))}}};function Nr(e){var n=e.outside,t=e.children,a=Object(o.useState)({}),r=a[0],c=a[1],l=Object(o.useMemo)((function(){return Ir(n,r,c)}),[n,r]);return i.a.createElement(hr.Provider,{value:l},t)}Nr.propTypes={outside:l.a.object,children:l.a.node};var Tr={labels:[],values:[]};var xr=t(964),Br=t.n(xr),jr=Wa()((function(e,n){return{label:e,value:n}}));function wr(e,n,t,a,r){var o=e,c=n;return t()&&(o=void 0,c=i.a.createElement("div",{className:p()("row-flex-center",r)},i.a.createElement(g.a,{name:"toast-warn",style:{color:Object(tt.b)("yellow"),marginRight:3}}),a||e)),[o,c]}function Sr(e){T()(Br.a);var n,t,a=e.definition,r=e.mode,c=e.style,l=e.className,s=Rn()(e,["definition","mode","style","className"]),u=Ba(a),d=u[0],p=u[1],m=u[2],f=(n=a.model,t=Object(o.useContext)(vr).getValue,n.from?t(n.from)||Tr:n),A=f.labels,b=f.values,E=f.icons,O=void 0===E?[]:E,y=f.missingTip;Object(o.useEffect)((function(){void 0===d&&void 0!==a.defaultValue&&p(a.defaultValue)}),[d,p,a]);var C=Object(o.useMemo)((function(){return jr(A,b)}),[A,b]),h=null;O.length>0&&(C.forEach((function(e,n){e.icon=O[n]})),h=function(e){return i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:e.icon&&e.icon.value,style:B.a.pick(["color"])(e.icon||{})}),i.a.createElement("div",{style:{marginLeft:6}},e.label||e.value))});var v=wr(d,a.placeholder,(function(){return"multiple"!==r&&void 0!==d&&C.length>0&&-1===C.findIndex(B.a.propEq("value",d))}),y),I=v[0],N=v[1];return i.a.createElement(yr.GDSelect,en()({showSearch:!0,value:I,onChange:p,items:C,renderFunc:h,disabled:m,className:l,style:c,mode:r,placeholder:N},s))}Sr.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object,mode:l.a.string,allowClear:l.a.bool},Sr.defaultProps={mode:"default"};var Dr=i.a.memo(Sr);function _r(e){return i.a.createElement(Dr,en()({mode:"multiple"},e))}_r.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var kr=i.a.memo(_r);function Pr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Lr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pr(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Rr(e){var n=e.definition,t=e.className,a=e.style,r=Ba(n),o=r[0],c=r[1],l=r[2],s=n.mode,u=n.placeholder,d=n.required,p=n.type,m=null;switch(s){case"text/plain":return i.a.createElement(bt.TextArea,{disabled:l,value:o,onChange:function(e){return c(e.target.value)},placeholder:ja(u,d),autoSize:{minRows:4,maxRows:10}});case"text/x-sql":case"text/sql":m="sql";break;default:m=s}return i.a.createElement(Xn,{value:o||"",options:{mode:m,readOnly:l},onChange:function(e){return c(e)},className:t,style:Lr({minHeight:68,maxHeight:68},a),supportSenior:p===h.TEXT_CODE})}Rr.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Mr=i.a.memo(Rr);function Ur(e){var n=e.definition,t=e.className,a=e.style,r=Object(o.useContext)(ri).TitleClass;return i.a.createElement("div",{className:p()("column-flex",t),style:a},i.a.createElement("div",{className:"row-flex"},i.a.createElement(r,{def:n,prefix:i.a.createElement(g.a,{name:"code",className:"gd-color-primary",style:{marginRight:4}})}),i.a.createElement(Mr,{definition:n})))}Ur.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Yr=i.a.memo(Ur);function Fr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Vr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fr(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Wr(e){var n=e.definition,t=e.className,a=e.style,r="1px "+(n&&n.dashed?"dash":"solid")+" "+Object(tt.b)("grey-300");return i.a.createElement("div",{className:t,style:Vr({minHeight:1,borderTop:r},a)})}Wr.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};t(661);var Gr={preValues:function(e){return e.map((function(e){return{colName:e.colName&&e.colName.name||"",newColName:e.newColName||""}}))},postValues:function(e,n){return e.map((function(e){var t=n.labels.indexOf(e.colName);return{colName:{name:e.colName,type:n.types[t]},newColName:e.newColName}}))}},Hr=function(e){switch(e){case"com_guandata_plugin_spark_transform_join_JoinTransform":case"com_guandata_plugin_spark_transform_selectcolumns_SelectColumnsTransform":return Gr;default:return null}};function Qr(e){var n=Ba(e.definition),t=n[0],a=n[1],r=n[2],c=Object(o.useContext)(vr).outside,l=Hr(c.stageName)||{},s=l.preValues,u=l.postValues,d=s(t),p=Object(o.useMemo)((function(){return JSON.stringify(d,null,"\t")}),[d]),m=Object(o.useState)(!1),A=m[0],g=m[1];return i.a.createElement("div",{className:"column-flex flex1"},i.a.createElement(Xn,{value:p,onChange:function(e){if(Object(Xa.e)(e))return g(!1),void a(u(JSON.parse(e),c.inputs));g(!0)},options:{mode:"javascript",lineWrapping:!0,lineNumbers:!1,readonly:r},className:"font-m",supportSenior:!0,style:{width:"100%",minHeight:120,maxHeight:120,overflow:"hidden"}}),A&&i.a.createElement(f.a,{className:"gd-color-red"},"json格式异常"))}Qr.propTypes={definition:l.a.object};var Jr=i.a.memo(Qr);function zr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function qr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zr(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Kr=function(e){var n={};return e.forEach((function(e){void 0!==e.defaultValue&&(n[e.fieldName]=e.defaultValue)})),n},Xr={marginRight:10};function Zr(e){var n=e.definitions,t=e.style,a=e.className,r=e.sortable;return i.a.createElement("div",{className:p()("row-flex-center",a),style:t},r&&i.a.createElement("div",{style:{width:20}}),n.map((function(e){var n=e.fieldName,t=e.style?"":"flex1",a=qr({},Xr,{},e.style||{});return i.a.createElement("div",{key:n,style:a,className:p()("row-flex-center text-left gd-weight-bold",t)},e.label,i.a.createElement(sa,{def:e}))})))}function $r(e){var n=e.definitions,t=Object(o.useContext)(ri).getTargetCFGClass;return i.a.createElement("div",{className:"row-flex flex1"},n.map((function(e){var n=t(e),a=e.style?"row-flex":"flex1 row-flex",r=qr({},Xr,{},e.style||{});return i.a.createElement("div",{key:e.fieldName,style:r,className:a},i.a.createElement(n,{definition:e,style:e.style,className:a}))})))}Zr.propTypes={definitions:l.a.array,className:l.a.string,style:l.a.object,sortable:l.a.bool},$r.propTypes={definitions:l.a.array};var eo=function(e,n){return(e.displayPosition||0)-(n.displayPosition||0)};function no(e){var n=e.definition,t=n.model,a=t.configDefinitions,r=t.initValue,c=void 0===r?Kr(a):r,l=t.hideHeader,s=t.sortEnabled,u=Object(o.useMemo)((function(){return a.sort(eo)}),[a]),d=Object(o.useState)(!1),m=d[0],A=d[1],g=Ba(n),b=g[0],E=g[1],O=g[2],y=Object(o.useState)((function(){return(b||[]).map(Xa.a)})),C=y[0],h=y[1];Object(o.useEffect)((function(){m&&h((b||[]).map(Xa.a))}),[b,m]),Object(o.useEffect)((function(){h((b||[]).map(Xa.a))}),[(b||[]).length]);var v=Object(o.useCallback)((function(e){E(e.map(Xa.f)),h(e)}),[E,h]),I=function(){return!O&&v(C.concat(Object(Xa.a)(c||{})))},N=function(e){return function(n){return v(ar(e,n)(C))}},T=Object(o.useMemo)((function(){return $a(Xa.d,C,v)}),[C,v]),x=Object(o.useContext)(ri),B=x.TitleClass,j=x.getTargetCFGClass,w=Object(o.useMemo)((function(){return l?null:{height:20}}),[l]),S=Object(o.useContext)(Be).isDefVisible,D=u.filter(j).filter(S);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:p()("row-flex",e.className),style:e.style},i.a.createElement(B,{def:n,suffix:i.a.createElement(or,{readonly:O,addNew:I}),style:w}),m?i.a.createElement(Jr,{definition:n}):i.a.createElement(i.a.Fragment,null,C.length>0&&i.a.createElement("div",{className:"column-flex flex1"},!l&&i.a.createElement(o.Fragment,null,i.a.createElement(Zr,{definitions:D,style:{height:20,paddingRight:54},sortable:s}),i.a.createElement(Wr,{style:{margin:"0 0 5px"}})),C.map((function(e,t){var a=[Object(Xa.d)(e),n.fieldName],r=a[0],o={id:r,type:a[1],index:t};return i.a.createElement(cr,{key:r,dragItem:o,move:T,readonly:O,sortable:s},i.a.createElement(je,{config:e,onChange:N(t),readonly:O},i.a.createElement($r,{definitions:D})),i.a.createElement(ir,{canAdd:t===C.length-1,onDel:function(){return v(C.filter((function(e,n){return n!==t})))},onAdd:I,disabled:O}))}))))),n.bulkEdit&&i.a.createElement("div",{className:"row-flex-center jc-end"},i.a.createElement(f.a,{className:"cursor-pointer gd-color-primary",onClick:function(){m||0!==b.length||E([{}]),A(!m)},style:{marginTop:"10px"}},m?"切换到普通编辑模式":"切换到批量编辑模式")))}no.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var to=i.a.memo(no),ao=to;function ro(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function oo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ro(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ro(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function io(e){var n=e.definition,t=e.style,a=e.className,r=n.model,c=r.configDefinitions,l=r.align,s=Object(o.useContext)(ri).getTargetCFGClass,u=Object(o.useContext)(Be).isDefVisible,d=c.filter(s).filter(u),m="left"!==l;return i.a.createElement("div",{className:p()("row-flex-center",Object(tt.a)("jc-end","")(m),a),style:t},d.map((function(e,n){var t=s(e),a=oo(0!==n?{marginLeft:20}:{},e.style||{});return i.a.createElement("div",{key:e.fieldName,className:"row-flex-center",style:a},e.label&&i.a.createElement("span",{className:"no-shrink",style:{marginRight:8}},e.label),i.a.createElement(t,{definition:e,className:"content-w-full"}))})))}to.hasUnifyTitle=!1,io.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object},io.defaultProps={mode:"default"};var co=i.a.memo(io),lo=t(623),so=t.n(lo);function uo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function po(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?uo(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var mo=Wa()((function(e,n){return{text:e||[],value:so()([],n)}}));function fo(e){var n=e.definition,t=e.mode,a=e.style,r=e.className,c=Rn()(e,["definition","mode","style","className"]),l=Ba(n),s=l[0],u=l[1],d=l[2],p=Object(o.useContext)(vr).outside,m=((void 0===p?{}:p).allInputs||[]).map((function(e){return e.name})),f=Object(o.useMemo)((function(){return mo(m,m)}),[m]),A=s;return i.a.createElement(yr.GDSelect,en()({value:A,onChange:u,items:f,disabled:d,className:r,style:po({},n.style,{},a),mode:t,placeholder:""},c))}fo.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object,mode:l.a.string},fo.defaultProps={mode:"default"};var Ao=i.a.memo(fo);t(166);function go(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function bo(e){var n=e.onChange,t=e.value,a=e.onSearchClear,r=Rn()(e,["onChange","value","onSearchClear"]),c=Object(o.useState)(t||""),l=c[0],s=c[1],u=function(e){n(e),s(e.target.value)};return i.a.createElement(Et.a,en()({prefix:i.a.createElement(g.a,{name:"search gd-color-desc font-m"}),suffix:""!==l?i.a.createElement(g.a,{name:"modal-close gd-color-desc",onClick:function(){u({target:{value:""}}),a&&a()}}):null,value:l,onChange:u},r))}bo.propTypes=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?go(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):go(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},Et.a.propTypes,{onSearchClear:l.a.func});var Eo=t(966),Oo=t.n(Eo),yo={id:"RE_NAME",cn:"重命名",en:"rename"},Co="cursor-pointer gd-color-primary",ho="gd-color-disable cursor-not-allowed",vo=function(){};function Io(e){T()(Oo.a);var n=e.name,t=e.newColName,a=e.type,r=e.checked,c=Object(o.useState)(!1),l=c[0],s=c[1],u=Object(o.useState)(t),d=u[0],m=u[1],A=Object(o.useRef)(null),g=function(){s(!1),d||m(n),r?e.onUpdate(n,d||n):e.onAdd({colName:{name:n,type:a},newColName:d||n})},b=r?function(){return s(!0)}:vo,E=function(t){t.target.checked?e.onAdd({colName:{name:n,type:a},newColName:d||n}):e.onDelete(n)};return i.a.createElement("div",{onDoubleClick:b,className:p()(Oo.a.columnItem,"row-flex-center jc-space",r?"cursor-pointer":"")},l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ua.a,{checked:r,onChange:E,style:{marginLeft:10}}),i.a.createElement(Et.a,{ref:A,className:Oo.a.input,value:d,onChange:function(e){return m(e.target.value)},onBlur:g,onPressEnter:g,size:"small",autoFocus:!0})),!l&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row-flex-center",style:{marginLeft:10}},i.a.createElement(Ua.a,{checked:r,onChange:E}),i.a.createElement(f.a,{className:"text-ellipsis"},d),d!==n&&i.a.createElement(f.a,{className:"text-ellipsis gd-color-desc-icon",style:{marginLeft:8}},"("+n+")")),i.a.createElement(f.a,{onClick:b,className:p()(Oo.a.rename,"no-shrink",r?Co:ho),style:{margin:"0 10px 0 5px"}},Object(mn.c)(yo))))}var No=t(968),To=t.n(No);function xo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Bo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xo(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var jo={id:"SELECT_ALL",cn:"全选",en:"Select All"},wo={id:"SELECTED",cn:"已选",en:"Selected"},So={id:"SEARCH_COL",cn:"搜索列",en:"Search column"},Do="cursor-pointer gd-color-primary",_o="gd-color-disable cursor-not-allowed",ko=function(){},Po=function(e){return D()(e,"colName.name")},Lo=function(e){return e.inputName?e.inputName:"selectLeftTableColumns"===e.name?"input1":"selectRightTableColumns"===e.name?"input2":"inputs"};var Ro=i.a.memo((function(e){T()(To.a);var n=e.definition,t=Ba(n),a=t[0],r=t[1],c=t[2],l=Object(o.useState)(!1),u=l[0],d=l[1],m=Object(o.useState)((a||[]).filter((function(e){return e.colName})).map(Xa.a)),A=m[0],g=m[1],b=Object(o.useState)(""),E=b[0],O=b[1],y=Object(o.useContext)(vr).outside,C=(void 0===y?{}:y)[Lo(n)]||{},h=C.labels,v=void 0===h?[]:h,I=C.types,N=void 0===I?[]:I,x=Object(o.useCallback)((function(e){r(e.map(Xa.f)),g(e)}),[r,g]),j=function(e){return N[v.indexOf(e)]||""},w=Object(s.c)(E,200),S=Object(o.useMemo)((function(){if(w)try{return v.map((function(e){return{name:e,type:j(e)}})).filter((function(e){var n=A.findIndex((function(n){return Po(n)===e.name}));return-1!==n?A[n].newColName.match(Object(qt.safeNewRegExp)(E,"i")):e.name.match(Object(qt.safeNewRegExp)(E,"i"))}))}catch(e){return[]}return v.map((function(e){return{name:e,type:j(e)}}))}),[w,v]),D=function(e){x(A.concat(Object(Xa.a)(e||{})))},_=function(e){var n=A.findIndex((function(n){return Po(n)===e})),t=[].concat(A);t.splice(n,1),x(t)},k=function(e,n){var t=A.findIndex((function(n){return Po(n)===e})),a=[].concat(A);a[t]=Bo({},a[t],{newColName:n}),x(a)};Object(o.useEffect)((function(){u&&g((a||[]).filter((function(e){return e.colName})).map(Xa.a))}),[a,u]),Object(o.useEffect)((function(){g((a||[]).filter((function(e){return e.colName})).map(Xa.a))}),[(a||[]).length]),Object(o.useEffect)((function(){if(v.length>0&&(a||[]).length>0){var e=a.filter((function(e){return v.includes(Po(e))}));e.length!==a.length&&g(e)}}),[v]);var P=S.length>0&&!c,L=!!S.length&&!!A.length&&S.every((function(e){return-1!==A.findIndex((function(n){return Po(n)===e.name}))})),R=0===v.length?0:A.length;return i.a.createElement("div",{className:p()(To.a.container,"flex1")},!u&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:p()(To.a.header,"row-flex-center jc-space")},i.a.createElement("div",{className:"row-flex-center",style:{height:32,alignSelf:"flex-end",marginLeft:10}},i.a.createElement(Ua.a,{checked:L,onChange:function(e){if(e.target.checked){var n=[];S.forEach((function(e){-1===A.findIndex((function(n){return Po(n)===e.name}))&&n.push({colName:Bo({},e),newColName:e.name})})),x(A.concat(n))}else x(A.filter((function(e){return-1===S.findIndex((function(n){return n.name===Po(e)}))})))},disabled:!P}),i.a.createElement(f.a,{style:{marginRight:12}},Object(mn.c)(jo)),i.a.createElement("span",{className:"gd-color-desc-icon"},Object(mn.c)(wo),"  ",R,"/",v.length)),i.a.createElement(bo,{style:{width:156,margin:"10px 0"},placeholder:Object(mn.c)(So),value:E,onChange:function(e){return O(e.target.value)}})),S.length>0&&i.a.createElement("div",{className:p()(To.a.body,"row-flex")},"\b",S.map((function(e){var n=e.name,t=e.type,a=A.find((function(e){return Po(e)===n})),r=a?a.newColName:n;return i.a.createElement(Io,{checked:!!a,key:n,name:n,newColName:r,type:t,onAdd:D,onDelete:_,onUpdate:k})})))),u&&i.a.createElement(Jr,{definition:n}),i.a.createElement("div",{className:"row-flex-center jc-space",style:{marginTop:10}},i.a.createElement(f.a,{className:p()(P?Do:_o),onClick:P?function(){var e=[];S.forEach((function(n){-1===A.findIndex((function(e){return Po(e)===n.name}))&&e.push({colName:Bo({},n),newColName:n.name})}));var n=A.filter((function(n){return-1!==e.findIndex((function(e){return Po(e)===Po(n)}))}));x(n.concat(e))}:ko,style:{marginLeft:"10px"}},u?"":"反选"),n.bulkEdit&&i.a.createElement(f.a,{className:"cursor-pointer gd-color-primary",onClick:function(){if(u||0!==a.length||r([{}]),u){var e=B.a.pipe(B.a.uniqBy(B.a.prop("colName")),B.a.filter((function(e){return-1!==S.findIndex((function(n){return n.name===Po(e)}))})))(a);r(e)}d(!u)},style:{marginTop:"10px"}},u?"切换到普通编辑模式":"切换到批量编辑模式")))}));function Mo(e){var n=e.definition,t=e.className,a=e.style;return i.a.createElement("div",{className:t,style:a},i.a.createElement("div",{className:"row-flex-center",style:{padding:"0 55px 0 0",height:30}},n.value.map((function(e){return i.a.createElement(f.a,{key:e,className:"flex1",weight:6},e)}))),i.a.createElement(E.a,null))}Mo.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Uo=function(e,n){return e&&n?e+" ("+Object(mn.c)({id:"REQUIRED",cn:"必填",en:"Required"})+")":e};var Yo=i.a.memo((function(e){var n=e.definition,t=Ba(n),a=t[0],r=t[1],c=t[2],l=Object(o.useState)(a),s=l[0],u=l[1],d=Object(o.useRef)(a),p=Object(o.useRef)(r),m=n.placeholder,f=n.required,A=n.style,g=null;return n.unit&&(g=function(e){return""+e+n.unit}),Object(o.useEffect)((function(){p.current=r}),[r]),Object(o.useEffect)((function(){return function(){d.current&&a!==d.current&&p.current(d.current)}}),[]),i.a.createElement(Et.a,{value:s,onChange:function(e){u(e.target.value),d.current=e.target.value},placeholder:Uo(m,f),disabled:c,formatter:g,style:A,onBlur:function(){r(s)}})})),Fo=t(514),Vo=t(505),Wo=t(515);function Go(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ho(e){var n=e.pro;return Object(Wo.b)(n),[n]}function Qo(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Go(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Go(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({projectId:Object(yt.b)()},e)}function Jo(e,n){return Ho(Object(Vo.a)({url:e,params:Qo(n)}))}function zo(e){return Jo(Fo.M,e)[0]}function qo(e){return Jo(Fo.K,e)[0]}function Ko(e){return Jo(Fo.L,e)[0]}function Xo(e,n,t){var a=Object(o.useContext)(Be).getFieldValue,r=[a(e),a(n)],i=r[0],c=r[1],l=Object(s.e)(zo,[],s.a),u=l[0],d=l[1],p=l[2];Object(o.useEffect)((function(){t&&t(i,c)||i&&p({dataSourceId:i})}),[i,p]);var m=u[0];return[Object(o.useMemo)((function(){return m||[]}),[m]),d,i,c]}function Zo(e){var n=e.definition.model,t=n.dataSourceIdFieldName,a=n.dataSourceTypeFieldName,r=n.targetNamespaceFieldName,c=Xo(t,a),l=c[0],s=c[1],u=Object(o.useContext)(vr),d=u.getValue,p=u.batchUpdateInside,m=Object(o.useMemo)((function(){var e=l.map((function(e){return e.name})),n=l.map((function(e){return e.schema}));return{labels:e,values:e,icons:e.map((function(){return{value:"table"}})),loading:s,schemas:n}}),[l,s]);r&&(d({ns:"inside",fieldName:r})!==m&&p([r],[m]));return i.a.createElement(i.a.Fragment,null)}function $o(e){var n=e.definition.model,t=n.dataSourceIdFieldName,a=n.tableNameFieldName,r=n.targetNamespaceFieldName,c=Object(o.useContext)(vr),l=c.getValue,u=c.batchUpdateInside,d=function(e,n){var t=Object(o.useContext)(Be).getFieldValue,a=[t(e),t(n)],r=a[0],i=a[1],c=Object(s.e)(qo,[],s.a),l=c[0],u=c[1],d=c[2];Object(o.useEffect)((function(){r&&i&&d({dataSourceId:r,tableName:i})}),[r,i,d]);var p=l[0];return[Object(o.useMemo)((function(){return p||[]}),[p]),u]}(t,a)[0],p=Object(o.useMemo)((function(){return{labels:d,values:d}}),[d]);r&&(l({ns:"inside",fieldName:r})!==p&&u([r],[p]));return i.a.createElement(i.a.Fragment,null)}function ei(e){var n=e.type,t=e.model;switch(n){case h.STRING:return wa;case h.NUMBER:return _a;case h.BOOLEAN:return Fa;case h.BOOLEAN_SWITCH:return Ra;case h.DEBOUNCE_STRING:return Yo;case h.MODEL:switch(t.modelType){case h.RADIO_GROUP:return Ka;case h.CHECKBOX_GROUP:return Qa;case h.VALUE_CHOOSER:return Dr;case h.MULTIPLE_VALUE_CHOOSER:return kr;case h.LIST:return dr;case h.LIST_BEAN:return ao;case h.ROW_GROUP:return co;case h.LIST_SELECTOR:return Ao;case h.CHECKBOX_FIELD_SELECTOR:return Ro;case h.ASYNC_TABLES:return Zo;case h.ASYNC_TABLE_COLUMNS:return $o;default:return null}case h.LIST:return dr;case h.MAP:return Or;case h.TEXT:return Mr;case h.TEXT_CODE:return Yr;case h.DIVIDER:return Wr;case h.HEADER:return Mo;default:return null}}Zo.hasUnifyTitle=!1,$o.hasUnifyTitle=!1;var ni=[Yr,dr,Or,Wr],ti=function(e){return void 0!==e.hasUnifyTitle?e.hasUnifyTitle:-1===ni.indexOf(e)},ai={getTargetCFGClass:ei,TitleClass:xa},ri=i.a.createContext(ai);function oi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function ii(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oi(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ci(e){var n=e.definitions,t=e.className,a=e.style,r=Object(o.useContext)(Be).isDefVisible,c=Object(o.useContext)(ri),l=c.getTargetCFGClass,s=c.TitleClass;return i.a.createElement("div",{className:p()("column-flex",t),style:a},n&&n.map((function(e){var n=l(e);if(n&&r(e)){var t={marginTop:10};return ti(n)?i.a.createElement("div",{key:e.label||e.name,className:"row-flex-baseline",style:ii({},t)},i.a.createElement(s,{def:e}),i.a.createElement(n,{definition:e,className:"flex1"})):i.a.createElement(n,{key:e.label||e.name,definition:e,style:t})}return null})))}ci.propTypes={definitions:l.a.array,className:l.a.string,style:l.a.object};var li=ci,si=t(123),ui=t(671);function di(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function pi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?di(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):di(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var mi,fi=function(e,n){return{url:e,params:pi({},n,{projectId:Object(yt.b)()})}},Ai=function(e,n){return Object(Vo.a)(fi(e,n))},gi=(mi=Tn()(In.a.mark((function e(n){return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){e(ui.b.data)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return mi.apply(this,arguments)}),bi=function(e){var n=Fo.J,t=Ai(n,e).pro;return Object(Wo.b)(t),t},Ei=function(e){return 2===e?B.a.tap((function(){})):B.a.reject(B.a.propEq("value",X.GUANDATA))},Oi=function(e){return-1===[X.FTP].indexOf(e.value)},yi=function(e){return e.map((function(e){return{label:e.name,value:e.id}}))},Ci=function(){return!0},hi=Object(tt.b)("yellow");function vi(e){var n=e.definition,t=e.className,a=Object(o.useContext)(si.b).mdFeature,r=n.fieldName,c=D()(n,"model.notSupportDb"),l=c?function(e){return-1===c.indexOf(e.value)}:Ci,u=Object(o.useMemo)((function(){return function(e){return q.filter((function(n){return!n.datasource||e&&e.hasDataSource(n.datasource)}))}(a).filter(Oi).filter(l)}),[a,c]),d=Object(o.useContext)(Be),m=d.getFieldValue,f=d.updateConfig,A=d.batchUpdateConfig,b=d.readonly,E="params.type"===r?"params.datasource":"params.stageConfig.configValue.datasource",O=m("params.sqlType"),y=[r,E].map(m),C=y[0],h=y[1],v=C?{type:C}:s.a,I=Object(s.e)(bi,[],v),N=I[0],T=I[1],x=I[2],j=Object(o.useMemo)((function(){return Ei(O)(u)}),[O,u]),w=Object(o.useMemo)((function(){return yi(N[0]||[])}),[N]),S=[h,Object(mn.c)({id:"SEL_DS",cn:"选择数据源",en:"Select Datasource"})],_=S[0],k=S[1];return _&&-1===w.findIndex(B.a.propEq("value",_))&&(_=void 0,k=i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:"toast-warn",style:{color:hi,marginRight:3}}),Object(mn.c)({id:"DATASOURCE_MISSING",cn:"数据源丢失",en:"Datasource Missing"}))),i.a.createElement("div",{className:p()("row-flex-center",t)},i.a.createElement(yr.GDSelect,{value:C,onChange:function(e){x({type:e}),A([r,E],[e,void 0])},items:j,className:"flex1",placeholder:Object(mn.c)({id:"SEL_DS_TYPE",cn:"选择数据类型",en:"Select Datasource Type"}),disabled:b}),i.a.createElement("div",{style:{width:10}}),i.a.createElement(yr.GDSelect,{showSearch:!0,allowClear:!0,value:_,onChange:function(e){return f(E,e)},items:w,optionFilterProp:"label",loading:T,className:"flex1",placeholder:k,disabled:b}))}vi.propTypes={className:l.a.string,definition:l.a.object};var Ii,Ni,Ti=i.a.memo(vi),xi="maxRetryTimes",Bi="retryInterval",ji={fieldName:xi,type:"MODEL",model:{labels:["1次","2次","3次","4次","5次"],values:[1,2,3,4,5],type:"ValueChooser"}},wi={fieldName:Bi,type:"MODEL",model:{labels:(Ii=Object(mn.c)({id:"INTERVAL",cn:"间隔",en:"Interval"}),Ni=["1分","10分","30分","60分"],Ni.map((function(e){return""+Ii+e}))),values:[1,10,30,60],type:"ValueChooser"}};function Si(e){var n=Object(o.useContext)(Be),t=n.getFieldValue,a=n.batchUpdateConfig,r=n.readonly,c=t(xi);return i.a.createElement("div",{className:p()("row-flex-center",e.className),style:{height:32}},i.a.createElement(Pa.a,{checked:0!==c,onChange:function(e){a([xi,Bi],[e?1:0,1])},disabled:r,style:{marginRight:50},size:"small"}),0!==c&&i.a.createElement(Dr,{definition:ji,className:"flex1"}),c>=1&&i.a.createElement(Dr,{definition:wi,className:"flex1",style:{marginLeft:12}}))}Si.propTypes={className:l.a.string};var Di=i.a.memo(Si),_i="timeout",ki="enable",Pi="interval",Li="strategy",Ri={fieldName:_i+"."+Pi,label:"超时时长",type:"NUMBER",model:{unit:"分"}};function Mi(e){var n=Object(o.useContext)(Be),t=n.getFieldValue,a=n.updateConfig,r=n.readonly,c=t(_i+"."+ki);return i.a.createElement("div",{className:p()("row-flex-center",e.className),style:{height:32}},i.a.createElement(Pa.a,{checked:c||!1,onChange:function(e){var n;a(_i,((n={})[ki]=e,n[Pi]=30,n[Li]="WARN",n))},disabled:r,style:{marginRight:50},size:"small"}),i.a.createElement("div",{className:"row-flex-center flex1"},c&&i.a.createElement(_a,{definition:Ri,style:{width:"auto",flex:1}}),c&&i.a.createElement("div",{className:"flex1",style:{marginLeft:12}})))}Mi.propTypes={className:l.a.string};var Ui=i.a.memo(Mi);function Yi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Fi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yi(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Vi=["VARCHAR","INTEGER","LONG","FLOAT","DOUBLE","DATE","TIME","TIMESTAMP","BOOLEAN"].map((function(e){return{value:e}})),Wi={minWidth:114,margin:"0 10px"};function Gi(e){var n,t=e.value,a=e.onChange,r=e.disabled,c=function(e){return function(n){var r;return a(Fi({},t,((r={})[e]=n.target.value,r)))}},l="prop ("+Object(mn.c)({id:"REQUIRED",defaultMessage:"必填"})+")",s="value ("+Object(mn.c)({id:"OPTIONAL",defaultMessage:"选填"})+")",u={disabled:r};return i.a.createElement(o.Fragment,null,i.a.createElement(Et.a,en()({placeholder:l,value:t.prop,onChange:c("prop")},u)),!1,i.a.createElement(yr.GDSelect,en()({value:t.type,items:Vi,onChange:(n="type",function(e){var r;return a(Fi({},t,((r={})[n]=e,r)))}),style:Wi},u)),i.a.createElement(Et.a,en()({placeholder:s,value:t.value,onChange:c("value")},u)))}function Hi(e){var n=e.definition,t=e.className,a=e.style;return i.a.createElement(Or,{definition:n,className:t,style:a,itemClass:Gi})}Gi.propTypes={value:l.a.object,onChange:l.a.func,disabled:l.a.bool},Gi.rectify=function(e){return e.filter((function(e){return e.prop}))},Gi.initValue={prop:"",direct:"IN",type:"VARCHAR",value:""},Hi.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Qi=i.a.memo(Hi),Ji=Qi;Qi.hasUnifyTitle=!1;var zi=t(986),qi=t.n(zi);function Ki(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var Xi=function(e,n){return e+"_"+n},Zi=function(e){if(!e||0===e.length)return[];var n=[];return e.forEach((function(e){var t=e.id,a=e.name,r=e.outputs;n=n.concat((r||[]).map((function(e){return function(e,n,t){return{value:Xi(e,t.name),id:e,name:n,output:t}}(t,a,e)})))})),n},$i=function(e){var n=e.output,t=e.name;return n.alias||t+" ("+n.name+")"},ec={ns:"outside",fieldName:"upstreamStages"};function nc(e){T()(qi.a);var n=e.input,t=e.onChange,a=e.disabled,c=Object(o.useContext)(vr).getValue,l=Object(o.useMemo)((function(){return Zi(c(ec)||[])}),[c]),s=function(e,n){return void 0===n&&(n=!0),i.a.createElement("div",{className:"row-flex-center"},n&&i.a.createElement(g.a,{name:"table",style:{marginRight:3}}),!n&&i.a.createElement(g.a,{name:"toast-warn",style:{marginRight:3,color:Object(tt.b)("yellow")}}),i.a.createElement("div",{className:"flex1 text-ellipsis"},$i(e)),i.a.createElement("div",{className:"flex1 text-ellipsis text-right"},e.name))},u=Object(mn.c)({id:"SEL_DATASET",cn:"选择输入",en:"Select Input"}),d=n.depTaskId&&Xi(n.depTaskId,n.depTaskOutputLane)||void 0;d&&-1===B.a.findIndex(B.a.propEq("value",d),l)&&(d=void 0,u=s({name:n.depTaskName,output:{name:n.depTaskOutputLane}},!1));return i.a.createElement(yr.GDSelect,{allowClear:!0,value:d,items:l,onChange:function(e){if(e){var a=B.a.find(B.a.propEq("value",e),l);t(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ki(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ki(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{depTaskId:a.id,depTaskName:a.name,depTaskOutputLane:a.output.name}))}else t(V(n.name))},renderFunc:function(e){return s(e)},className:p()(qi.a.select,"flex1"),placeholder:u,disabled:a})}nc.propTypes={input:l.a.object,onChange:l.a.func,disabled:l.a.bool};var tc=i.a.memo(nc),ac={background:Object(tt.b)("grey-100"),border:"1px solid "+Object(tt.b)("grey-300"),borderRight:0,minWidth:120,height:32,lineHeight:"32px"};function rc(e){var n=Ba(e.definition),t=n[0],a=n[1],r=n[2],c=Object(o.useContext)(ri).TitleClass,l=t||[];return i.a.createElement("div",{className:p()("column-flex",e.className),style:e.style},i.a.createElement("div",{className:"row-flex"},i.a.createElement(c,{def:e.definition,prefix:i.a.createElement(g.a,{name:"input",className:"gd-color-primary"}),style:{paddingRight:20}}),i.a.createElement("div",{className:"flex1",style:{minWidth:0}},l.map((function(e,n){return i.a.createElement("div",{className:"row-flex-center",key:e.name},i.a.createElement("div",{className:"text-center",style:ac},e.name),i.a.createElement(tc,{input:e,onChange:function(e){return function(e,n){return a(Object(M.getNewState)(t,(function(t){t[n]=e})))}(e,n)},disabled:r}))}))),i.a.createElement(Wr,{definition:{dashed:!0}})))}rc.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var oc=i.a.memo(rc),ic=oc;oc.hasUnifyTitle=!1;var cc=t(672),lc=t.n(cc);function sc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function uc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?sc(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var dc=function(e){return{color:Object(tt.b)("grey-600",e?.6:1),cursor:Object(tt.a)("not-allowed","pointer")(e)}};function pc(e){var n=e.name,t=e.onClick,a=e.style;return i.a.createElement(g.a,{name:n,onClick:t,style:a})}pc.propTypes={name:l.a.string,onClick:l.a.func,style:l.a.object};var mc=function(e){return{name:"input"+(e+1),depTaskId:"",depTaskName:"",depTaskOutputLane:""}};function fc(e){var n=e.definition,t=Ba(n),a=t[0],r=t[1],c=t[2],l=a||[],s=function(){return r(lc()(1,l))},u=function(){return r(l.concat(mc(l.length)))},d=Object(o.useMemo)((function(){return dc(c)}),[c]),m=Object(o.useContext)(ri).TitleClass;return i.a.createElement("div",{className:p()("row-flex",e.className),style:e.style},i.a.createElement(m,{def:n,prefix:i.a.createElement(g.a,{name:"input",className:"gd-color-primary"}),suffix:0===l.length&&i.a.createElement(pc,{name:"add_item",onClick:u,style:uc({},d,{paddingLeft:4})}),style:{paddingRight:20}}),i.a.createElement("div",{className:"flex1"},l.map((function(e,t){return i.a.createElement("div",{key:e.name,className:"row-flex-center",style:{marginBottom:10}},i.a.createElement("div",{className:"text-center",style:ac},e.name),i.a.createElement(tc,{input:e,onChange:function(e){return function(e,n){return r(Object(M.getNewState)(a,(function(t){t[n]=e})))}(e,t)},disabled:c}),!n.hideOperator&&i.a.createElement("div",{className:"row-flex-center jc-space",style:uc({minWidth:54,padding:"0 10px"},d)},t===l.length-1&&i.a.createElement(o.Fragment,null,(!n.required||t>0)&&i.a.createElement(pc,{name:"delete_item",onClick:s}),i.a.createElement(pc,{name:"add_item",onClick:u}))))}))),i.a.createElement(Wr,{definition:{dashed:!0}}))}fc.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Ac=i.a.memo(fc),gc=Ac;function bc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}Ac.hasUnifyTitle=!1;var Ec={id:"OUTPUT_DS_NAME",defaultMessage:"输出名称"},Oc={id:"OPTIONAL",defaultMessage:"选填"};function yc(e){var n=Object(o.useContext)(Be),t=n.getFieldValue,a=n.updateConfig,c=n.readonly,l=Object(o.useContext)(ri).TitleClass,s=e.definition,u=s.fieldName,d=s.aliasFieldName,m=void 0===d?"params.outputAliasMap":d,f=t(u)||[],A=t(m)||{},b=function(e,n){var t;(A[e]||"")!==n&&a(m,n?function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bc(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},A,((t={})[e]=n,t)):B.a.omit([e],A))};return i.a.createElement("div",{className:p()("column-flex",e.className),style:e.style},i.a.createElement(Wr,{definition:{dashed:!0}}),i.a.createElement("div",{className:"row-flex"},i.a.createElement(l,{def:e.definition,prefix:i.a.createElement(g.a,{name:"output",className:"gd-color-primary"}),style:{paddingRight:20}}),i.a.createElement("div",{className:"flex1"},f.map((function(e){return i.a.createElement("div",{key:e,className:"row-flex-center"},i.a.createElement("div",{className:"text-center",style:ac},e),i.a.createElement(Et.a,{value:A[e],onChange:function(n){return b(e,n.target.value)},placeholder:Object(mn.c)(Ec)+" ("+Object(mn.c)(Oc)+")",disabled:c}))})))))}yc.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Cc=i.a.memo(yc),hc=Cc;Cc.hasUnifyTitle=!1;var vc=t(990),Ic=t.n(vc);function Nc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Tc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Nc(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xc={id:"OUTPUT_DS_NAME",defaultMessage:"输出名称"},Bc={id:"OPTIONAL",defaultMessage:"选填"},jc=function(e){return{color:Object(tt.b)("grey-600",e?.6:1),cursor:Object(tt.a)("not-allowed","pointer")(e)}};function wc(e){var n=e.name,t=e.onClick,a=e.style;return i.a.createElement(g.a,{name:n,onClick:t,style:a})}function Sc(e){var n=Object(o.useContext)(Be),t=n.getFieldValue,a=n.updateConfig,r=n.batchUpdateConfig,c=n.readonly,l=e.definition,s=l.fieldName,u=l.aliasFieldName,d=void 0===u?"params.outputAliasMap":u,m=l.required,f=t(s)||[],A=t(d)||{},b=function(){var e=Ic()(f);A[e]?r([s,d],[lc()(1,f),B.a.omit([e])(A)]):a(s,lc()(1,f))},E=function(){return a(s,f.concat("output"+(f.length+1)))},O=Object(o.useContext)(ri).TitleClass,y=Object(o.useMemo)((function(){return jc(c)}),[c]);return i.a.createElement("div",{className:p()("column-flex",e.className),style:e.style},i.a.createElement(Wr,{definition:{dashed:!0}}),i.a.createElement("div",{className:"row-flex"},i.a.createElement(O,{def:e.definition,prefix:i.a.createElement(g.a,{name:"output",className:"gd-color-primary"}),suffix:0===f.length&&i.a.createElement(wc,{name:"add_item",onClick:E,style:Tc({},y,{paddingLeft:4})}),style:{paddingRight:20}}),i.a.createElement("div",{className:"flex1"},f.map((function(e,n){return i.a.createElement("div",{className:"row-flex-center",key:e,style:{marginBottom:10}},i.a.createElement("div",{className:"text-center",style:ac},e),i.a.createElement(Et.a,{value:A[e],onChange:function(n){return t=e,r=n.target.value,void((A[t]||"")!==r&&a(d,r?Tc({},A,((o={})[t]=r,o)):B.a.omit([t],A)));var t,r,o},placeholder:Object(mn.c)(xc)+" ("+Object(mn.c)(Bc)+")"}),i.a.createElement("div",{className:"row-flex-center jc-space",style:Tc({minWidth:54,padding:"0 10px"},y)},n===f.length-1&&i.a.createElement(o.Fragment,null,(!m||n>0)&&i.a.createElement(wc,{name:"delete_item",onClick:b}),i.a.createElement(wc,{name:"add_item",onClick:E}))))})))))}wc.propTypes={name:l.a.string,onClick:l.a.func,style:l.a.object},Sc.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Dc=i.a.memo(Sc),_c=Dc;function kc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}Dc.hasUnifyTitle=!1;var Pc=function(e){return e.map((function(e){return{label:e.name||e.alias||e.fileName,value:e.id}}))};var Lc=i.a.memo((function(e){var n=e.definition,t=e.className,a=e.style,c=e.type,l=e.fetchFunc,u=e.placeholder,d=e.mode,m=Object(o.useContext)(Be),f=m.getFieldValue,A=m.updateConfig,g=m.readonly,b={type:c,searchVal:""},E=Object(s.e)(l,[],b),O=E[0],y=E[1],C=E[2],h=E[3],v=Object(o.useMemo)((function(){return Pc(O[0]||[])}),[O]),I=[f(n.fieldName),Object(mn.c)({id:"SEL_DS",cn:"选择数据源",en:"Select Datasource"})],N=I[0],T=I[1],x=Object(s.b)(C,400),B=Object(o.useCallback)((function(e){x(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?kc(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},h.current,{searchVal:e}))}),[x,h,d]);return i.a.createElement("div",{className:"flex1"},i.a.createElement(yr.GDSelect,{allowClear:!0,showSearch:!0,value:N,onChange:function(e){return A(n.fieldName,e)},items:v,className:p()(t,"content-w-full"),placeholder:u||T,disabled:g,style:a,onSearch:B,onBlur:function(){return B("")},loading:y,filterOption:!1,mode:d}))}));t(526);var Rc=function(e){return new Promise((function(e){return e([])}))},Mc=function(e){return new Promise((function(e){return e([])}))},Uc=function(e){return{res:e}},Yc=function(e){return e&&B.a.prop("res",e)},Fc=function(e,n){return n?(e||[]).map(Yc):Yc(e)},Vc=function(e,n){var t=B.a.prop("resource",e);return n?t.map(Uc):Uc(t)};function Wc(e){var n=e.definition,t=e.mode,a=Rn()(e,["definition","mode"]),r=Ba(n),c=r[0],l=r[1],s=r[2],u={fieldName:"resource",type:h.MODEL,model:{from:{ns:"outside",fieldName:"fileResource"},modelType:h.VALUE_CHOOSER}},d=function(e,n,t){var a="multiple"===e;return[Object(o.useMemo)((function(){return{resource:Fc(n,a)}}),[n,a]),function(e){return t(Vc(e,a))}]}(t,c,l),p=d[0],m=d[1];return i.a.createElement(je,{config:p,onChange:m,readonly:s},i.a.createElement(Lc,en()({definition:u,mode:t},a,{type:"FILE",fetchFunc:Mc,placeholder:"请选择文件"})))}Wc.defaultProps={mode:"default"},Wc.propTypes={definition:l.a.object,mode:l.a.string};var Gc=i.a.memo(Wc);function Hc(e){return i.a.createElement(Gc,en()({},e,{mode:"multiple"}))}Hc.propTypes={definition:l.a.object};var Qc=i.a.memo(Hc),Jc=t(161),zc=t.n(Jc);function qc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Kc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qc(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xc=i.a.memo((function(e){var n=e.item,t=e.getIcon;if(!t)return null;var a=t(n),r=a.name,o=a.className,c=a.style;return i.a.createElement(g.a,{name:r,className:o,style:Kc({marginRight:5},c)})})),Zc=i.a.memo((function(e){var n=e.item,t=e.onItemSelect,a=e.className,r=e.style,c=Object(o.useCallback)((function(){return t(n)}),[n,t]);return i.a.createElement("div",{className:p()("row-flex-center",a),style:Kc({height:32},r),onClick:c},e.renderIcon&&e.renderIcon(n),e.getIcon&&i.a.createElement(Xc,{getIcon:e.getIcon,item:n}),i.a.createElement("span",{className:"text-ellipsis",style:{marginLeft:5}},e.item.name))}));function $c(e){var n=e.items,t=e.renderEmpty,a=e.className,r=e.style,o=e.children;return i.a.createElement("div",{className:p()("scroll-y",a),style:r},0===n.length&&t&&t(),n.map(o))}$c.propTypes={items:l.a.array,renderEmpty:l.a.func,className:l.a.string,style:l.a.object,children:l.a.func};var el=i.a.memo($c),nl=t(557),tl=t.n(nl);function al(e){var n=e.fetchFunc,t=e.renderLoading,a=e.renderError,r=e.renderFunc,c=e.debounce,l=e.initParams,u=e.children,d=Object(s.e)(n,[],l,e.onResponse),p=d[0],m=d[1],f=d[2],A=Object(o.useMemo)((function(){return c<=0?f:tl()(f,c)}),[n,c,f]);if(m&&t)return t();var g=p[0],b=p[1];if(b&&a)return a(b);var E={loading:m,data:g,error:b,onParamsChange:A};return r?r(E):i.a.Children.map(u,(function(e){return i.a.cloneElement(e,E)}))}al.propTypes={fetchFunc:l.a.func,renderLoading:l.a.func,renderError:l.a.func,renderFunc:l.a.func,debounce:l.a.number,initParams:l.a.oneOfType([l.a.object,l.a.string]),onResponse:l.a.func,children:l.a.node};var rl=t(506),ol=t(516);function il(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function cl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?il(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):il(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ll,sl,ul,dl,pl,ml,fl,Al,gl,bl,El,Ol=function(e,n){return{url:e,params:cl({},n,{projectId:Object(yt.b)()})}},yl=function(e,n){return Object(Vo.a)(Ol(e,n))},Cl=function(e,n){return Object(Vo.b)(Ol(e,n))},hl=function(){var e=Tn()(In.a.mark((function e(n){var t,a,r,o,i,c,l,s,u,d,p;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(t=n||{}).dirId,r=t.search,o=t.pagination,i=t.order,c=cl({searchVal:r||"",pageNo:1,pageSize:10},o,{},i),l=Object(Ot.c)(a),s=cl({},c,{},l),u=Fo.w,d=yl(u,s),p=d.pro,Object(Wo.b)(p),e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),vl=(ll=Tn()(In.a.mark((function e(n){var t,a,r,o,i;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.type,a=Rn()(n,["type"]),r=Object(Fo.G)(t),o=Cl(r,a),i=o.pro,Object(Wo.b)(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),sl=Tn()(In.a.mark((function e(n){var t,a,r,o;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,a=Object(Fo.P)(t),r=Cl(a),o=r.pro,Object(Wo.b)(o),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),ul=Tn()(In.a.mark((function e(n){var t,a,r,o;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,a=Object(Fo.O)(t),r=yl(a),o=r.pro,Object(Wo.b)(o),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),function(e){return ul.apply(this,arguments)}),Il=(dl=Tn()(In.a.mark((function e(){var n,t,a;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fo.t,t=yl(n),a=t.pro,Object(Wo.b)(a),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),pl=Tn()(In.a.mark((function e(n){var t,a,r,o,i;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.type,a=Rn()(n,["type"]),r=Object(Fo.qb)(t),o=Cl(r,a),i=o.pro,Object(Wo.b)(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),ml=Tn()(In.a.mark((function e(n,t){var a,r,o;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(Fo.S)(n),r=Cl(a,t),o=r.pro,Object(Wo.b)(o),e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)}))),function(e){var n=Fo.rb,t=yl(n,e).pro;return Object(Wo.b)(t),t}),Nl=(fl=Tn()(In.a.mark((function e(n,t){var a,r,o;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(Fo.R)(n),r=Cl(a,t),o=r.pro,Object(Wo.b)(o),e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)}))),Al=Tn()(In.a.mark((function e(n){var t,a,r,o,i,c;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,a=n.name,r=n.dirId,o=Object(Fo.cb)(t),i=Cl(o,{name:a,dirId:r}),c=i.pro,Object(Wo.b)(c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),t(163)),Tl=t(996),xl=t.n(Tl);function Bl(e){switch(e.type){case bl.STRING:case bl.CHAR:return El.TEXT;case bl.DATE:case bl.DATETIME:case bl.TIME:case bl.ZONED_DATETIME:return El.DATE;case bl.BYTE:case bl.SHORT:case bl.INTEGER:case bl.LONG:case bl.FLOAT:case bl.DOUBLE:case bl.DECIMAL:return El.METRIC;case bl.BOOLEAN:return El.BOOL;default:return El.TEXT}}!function(e){e.STRING="STRING",e.CHAR="CHAR",e.DATE="DATE",e.DATETIME="DATETIME",e.TIME="TIME",e.ZONED_DATETIME="ZONED_DATETIME",e.BYTE="BYTE",e.SHORT="SHORT",e.INTEGER="INTEGER",e.LONG="LONG",e.FLOAT="FLOAT",e.DOUBLE="DOUBLE",e.DECIMAL="DECIMAL",e.BOOLEAN="BOOLEAN"}(bl||(bl={})),function(e){e.TEXT="TEXT",e.DATE="DATE",e.METRIC="METRIC",e.BOOL="BOOL"}(El||(El={}));var jl=((gl={})[El.TEXT]="attribute",gl[El.DATE]="datetime",gl[El.METRIC]="metric",gl);var wl=function(e){return e?e.alias||e.name||"":null};function Sl(e){switch(e){case"attribute":case"datetime":return Object(tt.b)("attribute");case"metric":return Object(tt.b)("metric");default:return""}}function Dl(e){var n=e.field,t=Object(o.useMemo)((function(){return function(e){return jl[Bl(e)]||jl[El.TEXT]}(n)}),[n]);return i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{className:"font-l",name:t,style:{color:Sl(t)}}),i.a.createElement("span",{style:{marginLeft:6}},n.name))}var _l={id:"COL-COUNT",cn:"列数",en:"Columns Count"},kl={id:"ROW-COUNT",cn:"行数",en:"Rows Count"},Pl={id:"UTIME",cn:"最近更新时间",en:"Update Time"},Ll={id:"TEXT",cn:"文本",en:"Text"},Rl={id:"DATE",cn:"日期",en:"Date"},Ml={id:"METRIC",cn:"数值",en:"Metric"},Ul={id:"METRIC",cn:"布尔值",en:"Bool"},Yl=i.a.memo((function(e){return i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:"table",style:{fontSize:24,color:"#71B7D9"}}),i.a.createElement("span",{className:"text-ellipsis gd-color-dark font-l",style:{marginLeft:10,maxWidth:250}},e.name))})),Fl=i.a.memo((function(e){return i.a.createElement("div",{className:p()(xl.a.kvPair,"gd-color-dark",e.className)},e.label,i.a.createElement("div",{className:xl.a.kvPairValue},e.value))})),Vl=i.a.memo((function(e){return i.a.createElement("div",{className:p()(xl.a.colGroup,"row-flex")},i.a.createElement("div",{className:p()(xl.a.groupName,xl.a.sLine,"gd-color-desc gd-weight-6")},e.name),i.a.createElement("div",{className:"column-flex gd-color-dark"},e.columns.map((function(e){return i.a.createElement(Dl,{key:e.name+"-"+e.type,field:e})})),0===e.columns.length&&"-"))})),Wl=B.a.groupBy((function(e){return Bl(e)})),Gl=i.a.memo((function(e){T()(xl.a);var n=Object(o.useMemo)((function(){var n=Wl(e.columns||[]);return[{label:Object(mn.c)(Ll),columns:n[El.TEXT]},{label:Object(mn.c)(Rl),columns:n[El.DATE]},{label:Object(mn.c)(Ml),columns:n[El.METRIC]},{label:Object(mn.c)(Ul),columns:n[El.BOOL]}]}),[e.columns]);return i.a.createElement(o.Fragment,null,n.map((function(e,t){return[i.a.createElement(Vl,{key:e.label,name:e.label,columns:e.columns||[]}),t!==n.length-1?i.a.createElement(E.a,{key:e.label+"_d",style:{margin:"8px 0"}}):null]})))})),Hl=i.a.memo((function(e){if(T()(xl.a),!e.data)return null;var n=e.data,t=n.name,a=n.colCount,r=n.rowCount,c=n.updateTime,l=n.fields;return i.a.createElement(o.Fragment,null,!e.noHeader&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Yl,{name:t}),i.a.createElement(E.a,{className:"no-shrink",style:{margin:"8px 0"}})),i.a.createElement("div",{className:"row-flex"},i.a.createElement(Fl,{label:Object(mn.c)(_l),value:a}),i.a.createElement(Fl,{label:Object(mn.c)(kl),value:r}),i.a.createElement(Fl,{label:Object(mn.c)(Pl),value:Object(Xa.b)(c)})),i.a.createElement(E.a,{className:"no-shrink",style:{margin:"5px 0"}}),i.a.createElement(Gl,{columns:l}))})),Ql=Hl;l.a.number,l.a.string,l.a.object;t(598),t(558);var Jl=t(599),zl=t.n(Jl);function ql(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Kl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ql(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ql(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xl,Zl={id:"PLS_ENTER_KEYWORD",cn:"请输入关键词"},$l={id:"SCOPE_DIR",cn:"搜索当前文件夹",en:"Search in current dir"},es={id:"SCOPE_ALL",cn:"搜索所有",en:"Search in all dir"};!function(e){e[e.DIR=0]="DIR",e[e.ALL=1]="ALL"}(Xl||(Xl={}));Xl.DIR;function ns(e,n){return Object(Ot.d)(e)?Xl.ALL:n||Xl.DIR}function ts(e){var n,t,a,r,c=e.search,l=e.dirId,u=e.type,d=e.onChange,p=e.lastScope,m=e.style,f=e.disableReverse,A=(n=c,t=Object(o.useState)(n||""),a=t[0],r=t[1],[a,Object(o.useCallback)((function(e){return r(e.target.value)}),[r])]),g=A[0],b=A[1],E=Object(o.useState)(!1),O=E[0],y=E[1],C=Object(o.useState)(ns(l,p)),h=C[0],v=C[1],I=Object(o.useState)(p||Xl.DIR),N=I[0],T=I[1],x=Object(s.g)("ArrowUp"),B=Object(s.g)("ArrowDown"),j=Object(o.useRef)(),w=Object(o.useMemo)((function(){var e=[{value:Xl.DIR,label:g,scope:Object(mn.c)($l)},{value:Xl.ALL,label:g,scope:""+Object(mn.c)(es)+Ct(u)}];return Object(Ot.d)(l)?[e[1]]:f?e:N===Xl.DIR?e:e.reverse()}),[g,N,l]),S=function(e){y(!1),T(Number(e)),v(Number(e)),d({searchValue:g,scope:Number(e),clear:!1})};Object(o.useEffect)((function(){(x||B)&&v(h===Xl.DIR?Xl.ALL:Xl.DIR)}),[x,B]),Object(o.useEffect)((function(){v(ns(l,p))}),[l]),Object(s.h)(j,(function(){y(!1)}));return i.a.createElement(Jl.GDDropdown,{items:w,renderFunc:function(e){return i.a.createElement("div",{className:"row-flex-center jc-space"},i.a.createElement("span",null,e.label),i.a.createElement("span",{style:{marginLeft:10}},e.scope))},onClick:S,visible:""!==g&&O,selectedKeys:[String(h)]},i.a.createElement("div",{ref:j,style:Kl({width:260},m)},i.a.createElement(bo,{placeholder:Object(mn.c)(Zl),onSearchClear:function(){return d({searchValue:"",scope:h,clear:!0})},onChange:b,onFocus:function(){y(!0)},onPressEnter:function(e){S(h),e.target.blur()}})))}var as=t(1013),rs=(t(682),t(238),function(e){function n(){return e.apply(this,arguments)||this}return wn()(n,e),n.prototype.render=function(){var e=this.props,n=e.text,t=e.highlight,a=e.colorClass,r=Rn()(e,["text","highlight","colorClass"]),o=new RegExp("("+Object(qt.sanitize)(t.replace(/,/,"|"))+")","i"),c=n.replace(o,'<span class="'+a+'">$1</span>');return i.a.createElement("span",en()({},r,{dangerouslySetInnerHTML:{__html:c}}))},n}(o.Component));function os(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function is(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?os(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):os(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}r()(rs,"propTypes",{text:l.a.string,highlight:l.a.string,colorClass:l.a.string}),r()(rs,"defaultProps",{colorClass:"gd-color-primary"});var cs=function(e,n){return-1!==String(n.name).toUpperCase().indexOf(e.toUpperCase())},ls=function(e,n,t){if(void 0===t&&(t=cs),!n)return null;return e.map((function e(a){if(!a)return null;var r=!1;t(n,a)&&(r=!0);var o=(a.children||[]).map(e).filter((function(e){return e}));return o.length&&o.length>0||r?is({},a,{children:o}):null})).filter((function(e){return e}))};var ss=function e(n,t){for(var a,r=0;r<t.length;r+=1){var o=t[r];o.children&&(o.children.some((function(e){return e.key===n}))?a=o.key:e(n,o.children)&&(a=e(n,o.children)))}return a};function us(e,n){var t=n.toUpperCase();return function e(n){var t=[];return n.forEach((function(n){n.matched&&t.push(n),n.children&&t.push.apply(t,e(n.children))})),t}(function e(n,t,a){void 0===a&&(a=!1);for(var r=[],o=0;o<n.length;o+=1){var i=n[o],c=i.children,l=Rn()(i,["children"]),s=t(l);c&&(l.children=e(c,t,a||s)),(a||s||l.children&&l.children.length)&&r.push(is({},l,{matched:s}))}return r}(e,(function(e){return e.title.toUpperCase().indexOf(t)>-1}))).map((function(n){return ss(n.key,e)}))}var ds="@root_key@";function ps(e){var n=e.id,t=e.name,a=e.children,r=void 0===a?[]:a,o=!r||0===r.length;return{key:String(n),title:t,isLeaf:o,children:r.map(ps)}}function ms(e){return{id:ds,key:ds,name:"根目录",children:e}}function fs(e,n){return-1!==n.title.toUpperCase().indexOf(e.toUpperCase())}var As=i.a.memo((function(e){var n=e.treeData,t=e.value,a=void 0===t?[]:t,r=e.disabledKeys,c=void 0===r?[]:r,l=e.onChange,u=e.className,d=e.width,m=e.onClose,f=e.onConfirm,A=Object(o.useState)(""),b=A[0],O=A[1],y=Object(s.k)(b,O),C=Object(o.useCallback)((function(e){return l(e.filter((function(e){return e!==ds})))}),[l]),h=Object(s.c)(b,200),v=Object(o.useMemo)((function(){return h?[ls(n,h,fs),us(n,h)]:[n,[].concat(a,n.map((function(e){return e.key})))]}),[h,n,a]),I=v[0],N=v[1];return i.a.createElement("div",{className:p()(u),style:{width:d}},i.a.createElement("section",{id:"folderTree",style:{padding:12}},i.a.createElement(bo,en()({},y,{placeholder:"搜索"})),i.a.createElement(as.DirectoryTree,{key:h,selectedKeys:a,onSelect:C,className:"scroll-y",style:{maxHeight:220},defaultExpandedKeys:N},function e(n,t){return n.map((function(n){var a=n.key,r=n.children,o=i.a.createElement("div",{className:"text-ellipsis"},i.a.createElement(rs,{text:n.title,highlight:b})),c=-1!==t.indexOf(a);if(!r||0===r.length){var l=i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:"folder font-l",style:{marginRight:10}}),o);return i.a.createElement(as.TreeNode,{key:a,title:l,dataRef:n,isLeaf:!0})}return i.a.createElement(as.TreeNode,{key:a,title:o,dataRef:n,disabled:c},e(r,t))}))}(I,c))),i.a.createElement(E.a,null),i.a.createElement("section",{className:"row-flex-center jc-end",style:{height:56,paddingRight:12}},i.a.createElement(Jc.CancelButton,{onClick:m,style:{marginRight:10}},"取消"),i.a.createElement(Jc.PrimaryButton,{onClick:f},"确定")))})),gs=function(e){return Object(rl.c)(Fo.x,e)[0]};function bs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Es(e,n){return n?e?function e(n,t,a){if(void 0===a&&(a=[]),!n)return[];var r=t.key,o=t.isLeaf,i=t.children,c=a.concat(function(e){return{key:e.key,title:e.title}}(t));if(n===r)return c;if(o)return[];for(var l=0;l<i.length;l+=1){var s=e(n,i[l],c);if(s.length>0)return s}return[]}(e,n):[{title:n.title}]:[]}var Os=function(e){return{color:Object(tt.b)("grey-600",e?.6:1),cursor:Object(tt.a)("not-allowed","pointer")(e),background:e?Object(tt.b)("grey-100"):""}},ys=function(){};function Cs(e,n,t,a,r,c,l){var s,u,d=Object(o.useState)(!1),p=d[0],m=d[1],f=Object(o.useCallback)((function(){m(!1),a()}),[m,a]),A=Object(o.useCallback)((function(){m(!1),r()}),[m,r]),g=Object(o.useCallback)((function(){return m(!p)}),[p,m]),b=(s=n,u=t,{value:Object(o.useMemo)((function(){return s?[s]:[]}),[s]),onChange:Object(o.useCallback)((function(e){return u(e[0])}),[u])});return[g,{visible:p,onVisibleChange:function(e){return!e&&m(!1)},content:i.a.createElement(As,en()({treeData:e},b,{onClose:f,onConfirm:A,width:c?c.offsetWidth:200,disabledKeys:l}))}]}var hs=i.a.memo((function(e){var n=e.dirId,t=e.className,a=e.onChange,c=e.style,l=void 0===c?{}:c,u=e.type,d=e.disabled,m=e.disabledKeys,f=Object(o.useState)(function(e){return e?"null"===e?"":String(e):""}(n)),A=f[0],b=f[1],E=Object(o.useCallback)((function(){A!==n&&b(n)}),[A,n,b]),O=Object(o.useCallback)((function(){A!==n&&a(A)}),[A,n,a]),y=Object(s.e)(gs,[u],{type:u})[0],C=Object(o.useMemo)((function(){return y[0]?[ps(ms(y[0]))]:[]}),[y]),h=Object(o.useRef)(),v=Cs(C,A,b,E,O,h.current,m),I=v[0],N=v[1],T=Object(o.useMemo)((function(){return Es(A,C[0])}),[A,C]),x=p()("row-flex-center",t),B=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bs(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({padding:"0 6px",height:32,width:300,border:"1px solid var(--table-border)"},Os(d),{},l);return i.a.createElement(hn.a,en()({placement:"bottom"},N,{noPadding:!0,hideArrow:!0}),i.a.createElement("div",{ref:h,onClick:d?ys:I,className:x,style:B},i.a.createElement("span",{className:"flex1 text-ellipsis"},function(e){return e.length>0?e.map((function(e){return e.title})).join(" > "):"请选择路径"}(T)),i.a.createElement(g.a,{name:"arrow_down"})))}));function vs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Is(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vs(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ns={id:"SELECT_DS",cn:"选择数据集",en:"Select Dataset"},Ts=i.a.memo((function(e){return i.a.createElement("div",{className:"row-flex content-h-full"},i.a.createElement("div",{style:{flex:3,paddingBottom:10},className:"column-flex"},e.left),i.a.createElement(E.a,{type:"vertical",style:{height:"100%",margin:0}}),i.a.createElement("div",{style:{flex:4}},e.right))})),xs={color:"#71B7D9",marginLeft:24,fontSize:18},Bs=i.a.memo((function(e){var n=Object(o.useState)(),t=n[0],a=n[1],r=Object(o.useState)(Xl.DIR),c=r[0],l=r[1],u={pagination:{pageNo:1,pageSize:200},searchVal:"",dirId:t},d=Object(s.e)(e.fetchFunc,[],u),p=d[0],m=d[1],A=d[2],b=Object(o.useState)(e.selectId),E=b[0],O=b[1],y=Object(o.useCallback)((function(){return{name:"table",style:xs}}),[]);return i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"row-flex-center gd-bgColor-default",style:{height:60,padding:"0 12px 0 24px"}},c===Xl.DIR&&i.a.createElement(hs,{key:t,dirId:t,onChange:function(e){a(e),A(Is({},u,{dirId:e}))},style:{width:"100%"},type:It.DATASET}),c===Xl.ALL&&i.a.createElement("div",{className:"row-flex-center jc-space",style:{width:"100%"}},i.a.createElement(f.a,{className:"cursor-pointer",onClick:function(){l(Xl.DIR),A(u)}},i.a.createElement(g.a,{name:"arrow_left font-m",style:{marginRight:10}}),"返回文件夹"),i.a.createElement(f.a,null,"所有数据集"))),i.a.createElement(ts,{type:It.DATASET,onChange:function(e){var n=e.searchValue,a=e.scope,r=e.clear;l(r?Xl.DIR:a),A(Is({},u,{search:n,dirId:a!==Xl.ALL||r?t:Ot.a}))},lastScope:Xl.ALL,style:{margin:"10px 0 10px 24px",width:247}}),i.a.createElement(el,{items:D()(p,"[0].totalList",[]),renderEmpty:function(){return m?i.a.createElement(Nl.a,null):i.a.createElement("div",{className:"column-flex-center flex1 gd-color-desc font-l",style:{marginTop:40}},"暂无相关数据集")},className:"cursor-pointer flex1"},(function(n){return i.a.createElement(Zc,{key:n.id,item:n,getIcon:y,style:{maxWidth:230},className:E===n.id?"gd-bgColor-default":"",onItemSelect:function(){O(n.id),e.onItemSelect({id:n.id,name:n.name})}})})))})),js=i.a.memo((function(e){return e.data?i.a.createElement(Ql,{data:e.data}):i.a.createElement(Nl.a,null)}));function ws(e){var n=Object(o.useState)({id:e.dsId}),t=n[0],a=n[1],r=Object(o.useState)(null),c=r[0],l=r[1];return Object(o.useEffect)((function(){t.id&&(l(null),vl({id:t.id}).then((function(e){l(e)})))}),[t]),i.a.createElement(Dn.a,{title:Object(mn.c)(Ns),width:660,bodyStyle:{padding:0,height:550},onCancel:e.onClose,visible:!0,noFooter:!0},i.a.createElement(Ts,{left:i.a.createElement(Bs,{selectId:t.id,onItemSelect:a,fetchFunc:hl}),right:t&&i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"scroll-y",style:{height:"calc(100% - 45px)",padding:15}},t.id&&i.a.createElement(js,{data:c})),t.id&&i.a.createElement("div",{className:"pos-absolute",style:{bottom:10,right:14}},i.a.createElement(zc.a,{type:"primary",onClick:function(){return e.onConfirm(c)}},"确定")))}))}ws.propTypes={onClose:l.a.func,onConfirm:l.a.func,dsId:l.a.number};var Ss=i.a.memo(ws),Ds={id:"NO_ASSIGN",cn:"暂未指定",en:"Not yet specified"};function _s(e){var n=Object(o.useContext)(Be),t=n.getFieldValue,a=n.updateConfig,r=n.batchUpdateConfig,c=n.readonly,l=Object(o.useState)(!1),s=l[0],u=l[1],d=Object(o.useState)(null),m=d[0],f=d[1],A=e.definition.fieldName,b=t(A),E="params.dataset"===A;Object(o.useEffect)((function(){b&&vl({id:b}).then((function(e){return f(e)}))}),[b]);var O="UPDATE_DATA"===t("params.operationType")||"UPDATE_DATA"===t("params.stageConfig.configValue.operationType"),y=m&&m.primaryKeys?JSON.parse(m.primaryKeys):[];return i.a.createElement("div",{className:"flex1",style:{minWidth:0}},i.a.createElement("div",{className:p()("row-flex-center",e.className)},b&&i.a.createElement(zc.a,{className:"flex1 row-flex-center text-ellipsis",style:{marginRight:12}},i.a.createElement(g.a,{name:"table",style:{color:"#71B7D9",marginRight:6}}),m&&m.name),i.a.createElement(zc.a,{style:{width:b?"80px":"100%"},disabled:c,onClick:function(){return u(!0)}},"选择")),O&&i.a.createElement("div",{className:"row-flex-wrap gd-bgColor-default gd-color-desc",style:{marginTop:10,lineHeight:"32px",paddingLeft:10,width:"100%"}},i.a.createElement("span",{style:{marginRight:10}},"去重主键:"),i.a.createElement("span",null,y.length>0?y.join("、"):Object(mn.c)(Ds))),s&&i.a.createElement(Ss,{onClose:function(){return u(!1)},fetchListFunc:hl,fetchDetailFunc:vl,onConfirm:function(e){var n=e.id,t=e.name;u(!1),E?a("params.dataset",{id:n,name:t}):r([A,"params.stageConfig.configValue.dsName"],[n,t])},dsId:b}))}_s.propTypes={className:l.a.string,definition:l.a.object};var ks=i.a.memo(_s),Ps={id:"IO_INPUT",cn:"输入",en:"Input"},Ls={id:"IO_OUTPUT",cn:"输出",en:"Output"},Rs={id:"UTIME",cn:"最近更新时间",en:"Update Time"},Ms={id:"DESC",cn:"描述",en:"Description"},Us=i.a.memo((function(e){return i.a.createElement("div",{className:"row-flex-center",style:{height:40}},i.a.createElement("div",{className:"file-type etl no-shrink",style:{marginRight:6}}),i.a.createElement("span",{className:"text-ellipsis font-l gd-color-title"},e.name))})),Ys=i.a.memo((function(e){var n=e.isInput,t=e.lanes;return i.a.createElement("div",{style:{marginBottom:20}},i.a.createElement("div",{style:{lineHeight:"32px"}},Object(mn.c)(n?Ps:Ls)+"("+t.length+")"),t.map((function(e){return i.a.createElement("div",{key:e,className:"row-flex-center"},i.a.createElement("div",{className:"file-type dataset no-shrink"}),i.a.createElement("div",{style:{paddingLeft:5}},e))})))})),Fs=i.a.memo((function(e){var n=e.dataflow,t=e.schema;if(!t)return null;var a=t.inputLanes,r=t.outputLanes;return i.a.createElement("div",{className:"column-flex scroll-y",style:{height:480,padding:15}},i.a.createElement(Us,{name:n.name}),i.a.createElement(E.a,{className:"no-shrink",style:{margin:"5px 0 20px 0"}}),i.a.createElement("div",{className:"gd-color-title"},Object(mn.c)(Rs)),i.a.createElement("div",null,Object(Xa.b)(n.updateTime)),i.a.createElement("div",{className:"gd-color-title",style:{marginTop:16}},Object(mn.c)(Ms)),i.a.createElement("div",null,n.description||"--"),i.a.createElement(E.a,{className:"no-shrink",style:{margin:"20px 0 20px 0"}}),i.a.createElement(Ys,{lanes:a,isInput:!0}),i.a.createElement(Ys,{lanes:r,isInput:!1}))}));function Vs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ws(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vs(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Gs={id:"SELECT_ETL",cn:"选择数据流",en:"Select Data Flow"},Hs={id:"ETL-INVALID",cn:"数据流存在风险, 请重新选择",en:"Data Flow has risks, please reselect"},Qs=function(e){var n=e.id;return Object(rl.a)(n)},Js=i.a.memo((function(e){return i.a.createElement("div",{className:"row-flex"},i.a.createElement("div",{className:"column-flex flex1",style:{width:"50%",height:550}},e.left),i.a.createElement("div",{style:{minWidth:1,height:550,background:Object(tt.b)("grey-400")}}),i.a.createElement("div",{className:"flex1",style:{width:"50%"}},e.right))})),zs=i.a.memo((function(e){var n=Object(o.useState)(e.selectId),t=n[0],a=n[1],r=Object(o.useState)(),c=r[0],l=r[1],u=Object(o.useState)(Xl.DIR),d=u[0],p=u[1],m={pagination:{pageNo:1,pageSize:200},searchVal:"",dirId:c},A=Object(s.e)(e.fetchFunc,[],m),b=A[0],E=A[1],O=A[2];return i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"row-flex-center gd-bgColor-default",style:{height:60,padding:"0 12px 0 24px"}},d===Xl.DIR&&i.a.createElement(hs,{key:c,dirId:c,onChange:function(e){l(e),O(Ws({},m,{dirId:e}))},style:{width:400},type:It.DATAFLOW}),d===Xl.ALL&&i.a.createElement("div",{className:"row-flex-center jc-space",style:{width:"100%"}},i.a.createElement(f.a,{className:"cursor-pointer",onClick:function(){p(Xl.DIR),O(m)}},i.a.createElement(g.a,{name:"arrow_left font-m",style:{marginRight:10}}),"返回文件夹"),i.a.createElement(f.a,null,"所有工作流"))),i.a.createElement(ts,{type:It.DATAFLOW,onChange:function(e){var n=e.searchValue,t=e.scope,a=e.clear;p(a?Xl.DIR:t),O(Ws({},m,{search:n,dirId:t!==Xl.ALL||a?c:Ot.a}))},lastScope:Xl.ALL,style:{margin:"10px 0 10px 24px",width:293}}),i.a.createElement(el,{items:D()(b,"[0].totalList",[]),renderEmpty:function(){return E?i.a.createElement(Nl.a,null):i.a.createElement("div",{className:"column-flex-center flex1"},"暂无数据")},className:"cursor-pointer flex1",style:{height:320}},(function(n){return i.a.createElement(Zc,{key:n.id,item:n,renderIcon:function(){return i.a.createElement("div",{className:"file-type-s etl no-shrink"})},className:t===n.id?"gd-bgColor-default":"",onItemSelect:function(){a(n.id),e.onItemSelect(function(e){return{id:e.id,name:e.name,updateTime:e.updateTime,description:e.description}}(n))},style:{height:40,padding:"0 24px"}})})))}));function qs(){return i.a.createElement(o.Fragment,null,i.a.createElement(g.a,{name:"toast-warn",style:{color:Object(tt.b)("yellow"),marginRight:3}}),i.a.createElement("span",null,Object(mn.c)(Hs)))}function Ks(e){var n=e.etl,t=e.onClose,a=e.onConfirm,r=Object(o.useState)(n),c=r[0],l=r[1],u=(c||{}).id,d=Object(s.e)(Qs,[u],u?{id:u}:s.a),p=d[0],m=d[1],f=d[2],A=Object(o.useCallback)((function(e){e.id!==u&&(f({id:e.id}),l(e))}),[u,l,f]),g=m||!p[0],b=p[0]&&!1===p[0].isValid;return i.a.createElement(Dn.a,{width:660,title:Object(mn.c)(Gs),bodyStyle:{padding:0,height:550},onCancel:t,visible:!0,noFooter:!0},i.a.createElement(Js,{left:i.a.createElement(zs,{selectId:u,onItemSelect:A,fetchFunc:rl.b}),right:u&&i.a.createElement(o.Fragment,{key:u},m&&i.a.createElement(Nl.a,null),p[0]&&!m&&i.a.createElement(Fs,{dataflow:c,schema:p[0]}),i.a.createElement("div",{className:"pos-absolute row-flex-center",style:{bottom:24,right:24,width:290}},i.a.createElement("div",{className:"flex1 text-ellipsis gd-color-desc-icon"},!m&&b&&i.a.createElement(qs,null)),i.a.createElement(zc.a,{type:"primary",disabled:g||b,onClick:function(){return a(Ws({},c,{},p[0]))}},"确定")))}))}Ks.propTypes={etl:l.a.object,onClose:l.a.func,onConfirm:l.a.func};var Xs=i.a.memo(Ks);function Zs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function $s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zs(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var eu={id:"SELECT",cn:"选择",en:"Select"},nu={id:"REPLACE",cn:"替换",en:"Replace"},tu={id:"ETL-NOTEXIST",cn:"数据流不存在, 请重新选择",en:"Data Flow doesn't exist, please reselect"},au={id:"ETL-INVALID",cn:"数据流存在风险, 请重新选择",en:"Data Flow has risks, please reselect"},ru={id:"ETL-CHANGED",cn:"数据流有改动",en:"Data Flow changed"},ou={id:"UPDATE",cn:"更新",en:"Update"},iu={id:"CHECK",cn:"查看",en:"Check"},cu="params.inputMappings",lu="params.outputs",su="params.outputAliasMap",uu={NONE:0,VALID:1,INVALID:2};function du(e){var n=e.diff,t=e.onUpdate,a=e.readonly,r=n[0],o=n[1],c=n[2],l=o||c;if(r===uu.VALID&&!l)return null;var s=null;r===uu.NONE?s=Object(mn.c)(tu):r===uu.INVALID?s=Object(mn.c)(au):l&&(s=Object(mn.c)(ru));var u=i.a.createElement("div",{className:"row-flex"},i.a.createElement("span",{style:{paddingRight:6}},s),r===uu.VALID&&!a&&i.a.createElement("div",{onClick:t,className:"cursor-pointer gd-color-primary"},Object(mn.c)(ou)));return s&&i.a.createElement(yn.a,{title:u,mouseLeaveDelay:.1},i.a.createElement(g.a,{name:"toast-warn",style:{color:Object(tt.b)("yellow"),marginRight:3,pointerEvents:"auto"}}))}function pu(e,n){return void 0===n&&(n=[]),!e||e.length!==n.length||e.some((function(e,t){return e!==n[t]}))}function mu(e,n){var t=uu.VALID;return e&&!1===n.isValid?t=uu.INVALID:n.error&&(t=uu.NONE),[t,!e||e.id!==n.id||pu(e.inputLanes,n.inputLanes),!e||e.id!==n.id||pu(e.outputLanes,n.outputLanes)]}function fu(e){var n=e.definition,t=e.className,a=e.style,r=Object(s.l)(),c=r[0],l=r[1],u=Object(o.useContext)(Be),d=u.getFieldValue,m=u.batchUpdateConfig,f=u.readonly,A=d(n.fieldName),b=A||{},E=b.id,y=b.name,C=Object(o.useContext)(ri).TitleClass,h=Object(o.useState)(!1),v=h[0],I=h[1],N=function(){return I(!0)},T=function(e){I(!1);var t=[n.fieldName,"params.configured","params.runTimeParams"],a=[e,!0,[]],r=mu(A,e),o=r[1],i=r[2];o&&(t.push(cu),a.push(e.inputLanes.map(V))),i&&(t.push(lu,su),a.push(e.outputLanes,{})),m(t,a)};Object(o.useEffect)((function(){return O.b.on(O.a.REFRESH_ETL,l),function(){return O.b.off(O.a.REFRESH_ETL,l)}}),[l]);var x=function(e,n,t){var a=Object(o.useRef)(e),r=Object(o.useState)(null),i=r[0],c=r[1],l=Object(o.useRef)(null),s=(0,Object(o.useContext)(vr).getValue)({ns:"outside",fieldName:"referencedProcess"})||{};return Object(o.useEffect)((function(){var e=a.current||{},r=e.id,o=e.name;if(!r||i&&l.current===t||r!==n)i&&r!==n&&c(null);else{var u=s[r];void 0===u||l.current!==t?Object(rl.a)(r).then((function(e){return c($s({id:r,name:o},e))})).catch((function(e){return c({error:e})})):c(null===u?{error:new Error("不存在")}:$s({id:r,name:o},u))}l.current=t}),[n,i,c,s,t]),i?[i,mu(e,i)]:[i,[!0,!1,!1]]}(A,E,c),B=x[0],j=x[1];return i.a.createElement("div",{className:p()("row-flex-center",t),style:a},i.a.createElement(C,{def:n,prefix:i.a.createElement(g.a,{name:"ETL_node",className:"gd-color-primary"}),style:{paddingRight:20}}),!E&&i.a.createElement(zc.a,{disabled:f,className:"flex1",onClick:N},Object(mn.c)(eu)),E&&i.a.createElement(o.Fragment,null,i.a.createElement(zc.a,{className:"flex1 gd-color-desc-icon text-ellipsis"},i.a.createElement(du,{readonly:f,diff:j,onUpdate:function(){return T(B)}}),B&&B.name||y),i.a.createElement(zc.a,{disabled:f,style:{width:120,marginLeft:10},onClick:N},Object(mn.c)(nu)),i.a.createElement(zc.a,{style:{width:120,marginLeft:10},onClick:function(){O.b.emit(O.a.UPDATE_TABS,{id:E,name:y,isDataFlow:!0})}},Object(mn.c)(iu))),v&&i.a.createElement(Xs,{etl:A,onClose:function(){return I(!1)},onConfirm:T}))}fu.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Au=i.a.memo(fu),gu=Au;function bu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}Au.hasUnifyTitle=!1;var Eu=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bu(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},ac,{minWidth:200,width:200,padding:"0 10px"});function Ou(e){var n=e.definition,t=e.className,a=e.style,r=Ba(n),c=r[0],l=void 0===c?[]:c,s=r[1],u=r[2],d=Object(o.useContext)(ri).TitleClass;return i.a.createElement("div",{className:p()("column-flex",t),style:a},i.a.createElement("div",{className:"row-flex"},i.a.createElement(d,{def:n,prefix:i.a.createElement(g.a,{name:"input",className:"gd-color-primary"}),style:{paddingRight:20}}),i.a.createElement("div",{className:"flex1"},l.map((function(e,n){return i.a.createElement("div",{className:"row-flex-center",key:e.name,style:{marginBottom:6}},i.a.createElement(yn.a,{title:e.name},i.a.createElement("div",{className:"text-center text-ellipsis",style:Eu},e.name)),i.a.createElement(tc,{input:e,onChange:function(e){return function(e,n){return s(Object(M.getNewState)(l,(function(t){t[n]=e})))}(e,n)},disabled:u}))})))))}Ou.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var yu=i.a.memo(Ou),Cu=yu;function hu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function vu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hu(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}yu.hasUnifyTitle=!1;var Iu=vu({},ac,{minWidth:200,width:200,padding:"0 10px"}),Nu={id:"OUTPUT_DS_NAME",defaultMessage:"输出名称"},Tu={id:"OPTIONAL",defaultMessage:"选填"};function xu(e){var n=Object(o.useContext)(Be),t=n.getFieldValue,a=n.batchUpdateConfig,r=n.readonly,c=Object(o.useContext)(ri).TitleClass,l=e.definition,s=l.fieldName,u=l.aliasFieldName,d=void 0===u?"params.outputAliasMap":u,m=t(s)||[],f=t(d)||{},A=t("params.runTimeParams")||[];return i.a.createElement("div",{className:p()("column-flex",e.className),style:e.style},i.a.createElement("div",{className:"row-flex"},i.a.createElement(c,{def:e.definition,prefix:i.a.createElement(g.a,{name:"input",className:"gd-color-primary"}),style:{paddingRight:20}}),i.a.createElement("div",{className:"flex1"},m.map((function(e){return i.a.createElement("div",{key:e,className:"row-flex-center",style:{marginBottom:6}},i.a.createElement(yn.a,{title:e},i.a.createElement("div",{className:"text-center text-ellipsis",style:Iu},e)),i.a.createElement(Et.a,{value:f[e],onChange:function(n){return function(e,n){var t;if((f[e]||"")!==n){var r=n?vu({},f,((t={})[e]=n,t)):B.a.omit([e],f),o=A.map((function(t){return t.outputOrigin===e?vu({},t,{outputAlias:n}):t}));a([d,"params.runTimeParams"],[r,o])}}(e,n.target.value)},placeholder:Object(mn.c)(Nu)+" ("+Object(mn.c)(Tu)+")",disabled:r}))})))))}xu.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Bu=i.a.memo(xu),ju=Bu;Bu.hasUnifyTitle=!1;var wu=t(485);function Su(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Du(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Su(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Su(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _u={id:"STATUS",cn:"状态",en:"Status"},ku={id:"UTIME",cn:"最近更新时间",en:"Update Time"},Pu={id:"CREATE_TIME",cn:"创建时间",en:"Create Time"},Lu={id:"DESC",cn:"描述",en:"Description"},Ru={id:"OFFLINE",cn:"下线",en:"Offline"},Mu={id:"ONLINE",cn:"上线",en:"Online"};function Uu(e){var n=e.searchVal,t=e.pageNo,a=void 0===t?1:t,r=e.pageSize,o=void 0===r?50:r,i=e.dirId;return Object(wu.i)({search:n,pagination:{pageNo:a,pageSize:o},dirId:i})}var Yu=i.a.memo((function(e){return i.a.createElement("div",{className:"row-flex"},i.a.createElement("div",{className:"column-flex",style:{flex:1,height:550}},e.left),i.a.createElement("div",{style:{width:1,height:550,background:Object(tt.b)("grey-400")}}),i.a.createElement("div",{style:{flex:1}},e.right))})),Fu=i.a.memo((function(e){var n=e.fetchFunc,t=e.onItemSelect,a=e.filterIds,r=Object(o.useState)(e.selectId),c=r[0],l=r[1],u=Object(o.useState)(""),d=u[0],p=u[1],m=Object(o.useState)(),A=m[0],b=m[1],E=Object(o.useState)(Xl.DIR),O=E[0],y=E[1],C={searchVal:d,pageNo:1,pageSize:200,dirId:A},h=Object(s.e)(n,[],C),v=h[0],I=h[1],N=h[2],T=v[0]&&v[0].totalList.filter((function(e){return!a.includes(e.id)}))||[];return i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"row-flex-center gd-bgColor-default",style:{height:60,padding:"0 12px 0 24px"}},O===Xl.DIR&&i.a.createElement(hs,{key:A,dirId:A,onChange:function(e){b(e),N(Du({},C,{dirId:e}))},style:{width:400},type:It.PROCESS}),O===Xl.ALL&&i.a.createElement("div",{className:"row-flex-center jc-space",style:{width:"100%"}},i.a.createElement(f.a,{className:"cursor-pointer",onClick:function(){y(Xl.DIR),N(C)}},i.a.createElement(g.a,{name:"arrow_left font-m",style:{marginRight:10}}),"返回文件夹"),i.a.createElement(f.a,null,"所有工作流"))),i.a.createElement(ts,{type:It.PROCESS,onChange:function(e){var n=e.searchValue,t=e.scope,a=e.clear;p(n),y(a?Xl.DIR:t),N(Du({},C,{searchVal:n,dirId:t!==Xl.ALL||a?A:Ot.a}))},lastScope:Xl.ALL,style:{margin:"10px 0 10px 24px",width:293}}),i.a.createElement(el,{items:T,renderEmpty:function(){return I?i.a.createElement(Nl.a,null):i.a.createElement("div",{className:"column-flex-center flex1 gd-color-desc font-l",style:{marginTop:40}},"暂无相关数据")},className:"cursor-pointer flex1",useFunc:!1,style:{height:490}},(function(e){return i.a.createElement(Zc,{key:e.id,item:e,renderIcon:function(){return i.a.createElement("div",{className:"file-type-s task-flow"})},style:{maxWidth:330,height:40,padding:"0 24px"},className:c===e.id?"gd-bgColor-default":"",onItemSelect:function(){l(e.id),t(e)}})})))})),Vu=i.a.memo((function(e){return i.a.createElement("div",{className:e.className,style:{marginTop:20}},e.label,i.a.createElement("div",{className:"gd-color-desc",style:{lineHeight:"32px"}},e.value))})),Wu=i.a.memo((function(e){if(!e.data)return i.a.createElement(Nl.a,null);var n=e.data,t=n.name,a=n.releaseState,r=n.createTime,o=n.updateTime,c=n.description;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row-flex-center"},i.a.createElement("div",{className:"file-type task-flow"}),i.a.createElement("span",{className:"text-ellipsis gd-color-dark font-l",style:{marginLeft:10,maxWidth:250}},t)),i.a.createElement(E.a,{className:"no-shrink",style:{margin:"8px 0"}}),i.a.createElement(Vu,{label:Object(mn.c)(_u),value:"OFFLINE"===a?Object(mn.c)(Ru):Object(mn.c)(Mu),className:"gd-color-dark"}),i.a.createElement(Vu,{label:Object(mn.c)(ku),value:Object(Xa.b)(o),className:"flex1 gd-color-dark"}),i.a.createElement(Vu,{label:Object(mn.c)(Pu),value:Object(Xa.b)(r),className:"flex1 gd-color-dark"}),i.a.createElement(E.a,{className:"no-shrink",style:{margin:"8px 0"}}),i.a.createElement(Vu,{label:Object(mn.c)(Lu),value:c,className:"gd-color-dark"}))}));function Gu(e){var n=e.selectedId,t=e.filterIds,a=void 0===t?[]:t,r=Object(o.useState)({id:n}),c=r[0],l=r[1],u=Object(s.e)(wu.g,[],n?{processId:n}:s.a)[0];return i.a.createElement(Dn.a,{title:e.title,width:660,bodyStyle:{padding:0,height:550},onCancel:e.onClose,visible:!0,noFooter:!0},i.a.createElement(Yu,{left:i.a.createElement(Fu,{selectId:c.id,onItemSelect:l,filterIds:a,fetchFunc:Uu}),right:c&&i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"scroll-y",style:{height:495,padding:"15px 24px 15px 15px"}},(u[0]||c.name)&&i.a.createElement(Wu,{data:c.name?c:u[0]})),i.a.createElement("div",{className:"pos-absolute",style:{bottom:24,right:24}},i.a.createElement(zc.a,{type:"primary",onClick:function(){return e.onConfirm(c)}},"确定")))}))}Gu.propTypes={title:l.a.string,onClose:l.a.func,onConfirm:l.a.func,filterIds:l.a.array,selectedId:l.a.number};var Hu=i.a.memo(Gu);function Qu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var Ju={id:"REPLACE",cn:"替换",en:"Replace"},zu={id:"CHECK",cn:"查看",en:"Check"},qu={id:"SELECT_TASK_FLOW",cn:"选择工作流",en:"Select Taskflow"},Ku={width:120,marginLeft:10},Xu="params.rawProcess",Zu="params.localParamsWithDefault";function $u(e){var n=e.className,t=e.definition,a=Object(o.useState)(!1),c=a[0],l=a[1],u=Object(o.useContext)(Be),d=u.getFieldValue,m=u.batchUpdateConfig,f=u.readonly,A=[d(t.fieldName),d(Xu)||{}],g=A[0],b=A[1],E=Object(o.useContext)(vr).getValue,y=E({ns:"outside",fieldName:"referencedProcess"})||{},C=Object(s.e)(wu.h,[],b.id?{processId:b.id}:s.a)[0],h=Object(o.useCallback)((function(e){var n=e.id,a={id:n,name:e.name};m([t.fieldName,Xu,Zu],[n,a,[]]),l(!1)}),[t,m]),v=E({ns:"outside",fieldName:"processId"}),I=window.location.pathname.includes("/definition/list"),N=y[g],T=wr(g,t.placeholder,(function(){return!N&&y.ids.includes(g)}),b.name,"jc-center"),x=T[0],B=T[1];return!N&&y.ids.includes(g)||(x=b.name),C&&C[0]&&x!==C[0].name&&(x=C[0].name),i.a.createElement("div",{className:p()("row-flex-center",n)},i.a.createElement(zc.a,{className:"flex1 text-ellipsis",disabled:!!b.name,onClick:function(){return l(!0)}},x||B),g&&I&&i.a.createElement(zc.a,{disabled:f,style:Ku,onClick:function(){return l(!0)}},Object(mn.c)(Ju)),g&&I&&i.a.createElement(zc.a,{style:Ku,onClick:function(){O.b.emit(O.a.UPDATE_TABS,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qu(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},b,{isTaskFlow:!0}))}},Object(mn.c)(zu)),c&&i.a.createElement(Hu,{title:Object(mn.c)(qu),onClose:function(){return l(!1)},onConfirm:h,filterIds:[v],selectedId:b.id}))}$u.propTypes={definition:l.a.object,className:l.a.string};var ed=i.a.memo($u);function nd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function td(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nd(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ad="month",rd="week",od="day",id="hour",cd=function(e){switch(e){case ad:return[{value:"lastMonthBegin",label:Object(mn.c)({id:"LAST_MONTH_BEGIN",cn:"上个月第一天",en:"Last month begin"})},{value:"lastMonthEnd",label:Object(mn.c)({id:"LAST_MONTH_END",cn:"上个月最后一天",en:"Last month end"})}];case rd:return[{value:"lastMonday",label:Object(mn.c)({id:"LAST_MONDAY",cn:"上周一",en:"Last Monday"})},{value:"lastTuesday",label:Object(mn.c)({id:"LAST_TUESDAY",cn:"上周二",en:"Last Tuesday"})},{value:"lastWednesday",label:Object(mn.c)({id:"LAST_WEDNESDAY",cn:"上周三",en:"Last Wednesday"})},{value:"lastThursday",label:Object(mn.c)({id:"LAST_THURSDAY",cn:"上周四",en:"Last Thursday"})},{value:"lastFriday",label:Object(mn.c)({id:"LAST_FRIDAY",cn:"上周五",en:"Last Friday"})},{value:"lastSaturday",label:Object(mn.c)({id:"LAST_SATURDAY",cn:"上周六",en:"Last Saturday"})},{value:"lastSunday",label:Object(mn.c)({id:"LAST_SUNDAY",cn:"上周日",en:"Last Sunday"})}];case od:return[{value:"today",label:Object(mn.c)({id:"TODAY",cn:"今天",en:"Today"})},{value:"last1Days",label:Object(mn.c)({id:"YESTERDAY",cn:"昨天",en:"Yesterday"})}];case id:return[{value:"last1Hour",label:Object(mn.c)({id:"LAST_1_HOUR",cn:"前一小时",en:"Last 1 Hour"})}];default:return[]}},ld=function(e){return"AND"===e?"OR":"AND"},sd=function(e,n,t){return Object(M.getNewState)(e,(function(e){var a="function"==typeof t?t(D()(e,n)):t;k()(e,n,a)}))},ud=function(e,n){return sd(e,n,ld)},dd=function(e){return ud(e,"relation")},pd=function(e,n){return ud(e,"dependTaskList."+n+".relation")},md=function(e){return function(n){return B.a.concat(n,Array.isArray(e)?e:[e])}},fd=function(e){return function(n){return n.filter((function(n,t){return t!==e}))}},Ad=function(e,n){return sd(e,"dependTaskList",md(Object(Xa.a)(n)))},gd=function(e,n){return sd(e,"dependTaskList",fd(n))},bd=function(e,n){return sd(e,"dependTaskList",(function(e){var t=e.slice(n,n+2),a=t[0],r=t[1],o=[e.slice(0,n),e.slice(n+2)],i=o[0],c=o[1],l=sd(a,"dependItemList",B.a.flip(B.a.concat)(r.dependItemList));return i.concat([l],c)}))},Ed=function(e,n){return sd(e,"dependTaskList",(function(e){var t=[e.slice(0,n),e.slice(n+1)],a=t[0],r=t[1],o=e[n].dependItemList.map((function(e){return Object(Xa.a)({relation:"AND",dependItemList:[e]})}));return a.concat(o,r)}))},Od=function(e,n,t){return sd(e,"dependTaskList."+n+".dependItemList",t)},yd=function(e,n,t){return Od(e,n,md(Object(Xa.a)(t)))},Cd=function(e,n,t){var a=Od(e,n,fd(t)),r=a.dependTaskList[n],o=r.relation;return 1===r.dependItemList.length&&"OR"===o?pd(a,n):a},hd=function(e,n,t,a){return sd(e,"dependTaskList."+n+".dependItemList."+t,a)},vd={relation:"AND",dependTaskList:[]};function Id(e,n){return e?td({},e,{dependTaskList:e.dependTaskList.map((function(e){return td({},e,{dependItemList:e.dependItemList.map(n)})})).map(n)}):vd}var Nd=function(e){return Id(e,Xa.a)},Td=function(e){return Id(e,Xa.f)};function xd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Bd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xd(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var jd={id:"ALL_TASKS",cn:"全部节点",en:"All Tasks"},wd={id:"ANY_TASK",cn:"任一节点",en:"Any Task"},Sd={id:"SELECT_TASK_FLOW",cn:"选择工作流",en:"Select Taskflow"},Dd={NONE:"NONE",COMBINE:"combine",SPLIT:"split",ADD:"add_item",DEL:"delete",UPDATE:"update"},_d=function(e,n){return{projectId:e,definitionId:n.id,depTasks:"ALL",cycle:"day",dateValue:"today"}},kd=function(e){return{relation:"AND",dependItemList:[Object(Xa.a)(e)]}};var Pd={width:32,paddingTop:7,paddingBottom:22},Ld={borderRadius:14,width:28,height:18},Rd={width:8,height:8,marginLeft:10};function Md(e,n,t,a){return Bd({value:e,onChange:n,items:t},a)}function Ud(e){var n=e.ident,t={marginLeft:n?32:0,width:"calc(50% - "+(n?16:0)+"px)"};return i.a.createElement("div",{className:"row-flex-center gd-weight-bold",style:{height:32,marginLeft:32}},i.a.createElement("div",{className:"flex1 row-flex-center"},i.a.createElement("div",{style:t},Object(mn.c)({id:"PROCESS",cn:"工作流",en:"Process"})),i.a.createElement("div",{className:"flex1"},Object(mn.c)({id:"PROCESS_NODES",cn:"任务节点",en:"Task nodes"}))),i.a.createElement("div",{style:{width:239}},Object(mn.c)({id:"TIME_RANGE",cn:"时间范围",en:"Time Range"})))}Ud.propTypes={ident:l.a.bool};var Yd=i.a.memo((function(e){var n=e.processes,t=e.item,a=e.optr,r=void 0===a?Dd.NONE:a,c=e.onOptr,l=e.level,s=void 0===l?1:l,u=e.readonly,d=t.definitionId,p=t.depTasks,m=t.cycle,f=t.dateValue,A=Object(o.useState)(!1),b=A[0],E=A[1],y=Object(o.useContext)(vr).outside.processId,C=Object(o.useMemo)((function(){var e=[{value:"ALL",label:Object(mn.c)(jd)},{value:"ANY",label:Object(mn.c)(wd)}],t=n.find(B.a.propEq("id",d));return t?JSON.parse(t.processDefinitionJson).tasks.map((function(e){return{value:e.name}})).concat(e):e}),[n,d]),h=Object(o.useMemo)((function(){return cd(m)}),[m]),v=Md(p,(function(e){return c(Dd.UPDATE,Bd({},t,{depTasks:e}))}),C,{style:{width:"calc(50% + "+(16*(s-2)-5)+"px)"}}),I=Md(m,(function(e){return c(Dd.UPDATE,Bd({},t,{cycle:e,dateValue:cd(e)[0].value}))}),[{value:ad,label:Object(mn.c)({id:"MONTH",cn:"月",en:"month"})},{value:rd,label:Object(mn.c)({id:"WEEK",cn:"周",en:"Week"})},{value:od,label:Object(mn.c)({id:"DAY",cn:"日",en:"Day"})},{value:id,label:Object(mn.c)({id:"HOUR",cn:"时",en:"Hour"})}],{style:{minWidth:60}}),N=Md(f,(function(e){return c(Dd.UPDATE,Bd({},t,{dateValue:e}))}),h,{style:{minWidth:125}}),T=n.find((function(e){return e.id===d}));return i.a.createElement("div",{className:"row-flex-center",style:{height:32,marginBottom:10}},i.a.createElement("div",{className:"flex1 row-flex-center",style:{height:32}},i.a.createElement("div",{className:"flex1 row-flex-center"},i.a.createElement("div",{className:"flex1 pos-relative scroll-hidden t-right"},i.a.createElement(zc.a,{onClick:function(){return E(!0)},className:"text-ellipsis",disabled:u,style:{width:"100%"}},T&&T.name||d),i.a.createElement("div",{className:"row-flex-center jc-center pos-absolute gd-bgColor-default transition-right gd-hover-primary",onClick:function(){O.b.emit(O.a.UPDATE_TABS,Bd({},T,{isTaskFlow:!0}))},style:{width:"30px",height:"30px",top:"1px"}},i.a.createElement(g.a,{name:"view_workflow font-xl"}))),i.a.createElement("div",{style:{width:10}}),i.a.createElement(yr.GDSelect,en()({},v,{disabled:u}))),i.a.createElement("div",{style:{width:10}}),i.a.createElement(yr.GDSelect,en()({},I,{disabled:u})),i.a.createElement("div",{style:{minWidth:10}}),i.a.createElement(yr.GDSelect,en()({},N,{disabled:u}))),i.a.createElement("div",{className:"row-flex-center",style:{minWidth:44}},i.a.createElement(g.a,{disabled:u,name:"delete_item",onClick:function(){return c(Dd.DEL)},style:{margin:"0 10px"}}),r!==Dd.NONE&&i.a.createElement(g.a,{disabled:u,name:r,onClick:function(){return c(r)}})),b&&i.a.createElement(Hu,{title:Object(mn.c)(Sd),onClose:function(){return E(!1)},filterIds:[y],onConfirm:function(e){var n;n=e.id,c(Dd.UPDATE,Bd({},t,{definitionId:n,depTasks:"ALL"})),E(!1)},selectedId:d}))})),Fd=i.a.memo((function(e){var n=e.relation,t=e.items,a=e.onChange,r=e.children,c=function(e){var n="AND"===e?"primary-500":"green";return Object(o.useMemo)((function(){var e=[Object(tt.b)(n),Object(tt.b)(n,.1)],t=e[0],a={color:t,background:e[1],border:"1px solid "+t};return[Bd({},Ld,{},a),Bd({},Rd,{},a)]}),[n])}(n),l=c[0],s=c[1];return i.a.createElement("div",{className:p()("flex1 row-flex"),style:{}},t.length>1&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"column-flex",style:Pd},i.a.createElement("div",{className:"text-center cursor-pointer",style:l,onClick:a},i.a.createElement("div",{style:{transform:"scale(0.8)"}},n)),i.a.createElement("div",{className:"flex1 gd-border-right",style:{width:14,margin:"3px 0"}}),i.a.createElement("div",{className:"br-circle",style:s}))),i.a.createElement("div",{className:"flex1 column-flex"},r))}));function Vd(e){var n=e.definition,t=Ba(n),a=t[0],r=t[1],c=t[2],l=Object(o.useState)((function(){return Nd(a)})),u=l[0],d=l[1],m=Object(o.useCallback)((function(e){d(e),r(Td(e))}),[r,d]),f=Object(o.useContext)(ri).TitleClass,A=Object(o.useContext)(vr).outside.process.projectId,g=function(){var e=Object(s.e)(wu.c,[],{})[0];if(null!==e[0]){var n=window.location.pathname.match(/\/list\/(\d+)/);return e[0].filter((function(e){return!n||e.id!==+n[1]}))}return[]}(),b=Object(o.useMemo)((function(){return g[0]&&_d(A,g[0])}),[g,A]),O=Object(o.useMemo)((function(){return{onRelChange:function(){return!c&&m(dd(u))},onAppend:function(){return b&&m(Ad(u,kd(b)))},removeTask:function(e){return m(gd(u,e))},onTaskRelChange:function(e){return m(pd(u,e))},appendTaskItem:function(e,n){return m(yd(u,e,n))},removeTaskItem:function(e,n){return m(Cd(u,e,n))},splitTaskItems:function(e){return m(Ed(u,e))},combineTask:function(e){return m(bd(u,e))},updateTaskItem:function(e,n,t){return m(hd(u,e,n,t))}}}),[c,m,u,b]),y=u.relation,C=u.dependTaskList,h=C.length;return i.a.createElement("div",{className:p()("row-flex gd-color-title",e.className),style:e.style},i.a.createElement(f,{def:n,suffix:i.a.createElement(or,{readonly:c,addNew:O.onAppend}),style:{paddingTop:5,width:80}}),i.a.createElement("div",{className:"flex1",style:{minWidth:0,opacity:h>0?1:0}},i.a.createElement(Ud,{ident:h>1}),i.a.createElement(E.a,{style:{marginBottom:10}}),i.a.createElement(Fd,{relation:y,items:C,onChange:O.onRelChange},C.map((function(e,n){var t=e.relation,a=e.dependItemList,r=[Object(Xa.d)(e),a.length],o=r[0],l=r[1];if(l>1){var s=function(e){return e===l-1?Dd.ADD:Dd.SPLIT};return i.a.createElement(Fd,{key:o,relation:t,items:a,onChange:function(){return!c&&O.onTaskRelChange(n)}},e.dependItemList.map((function(e,t){return i.a.createElement(Yd,{key:Object(Xa.d)(e),processes:g,item:e,optr:s(t),onOptr:function(e,a){return function(e,t,a){e===Dd.ADD?O.appendTaskItem(n,Object(Xa.a)(b)):e===Dd.DEL?O.removeTaskItem(n,t):e===Dd.UPDATE?O.updateTaskItem(n,t,a):O.splitTaskItems(n)}(e,t,a)},level:2,readonly:c})})))}var u=Dd.NONE;h>2&&n<h-1&&1===C[n+1].dependItemList.length&&(u=Dd.COMBINE);var d=e.dependItemList[0];return i.a.createElement(Yd,{key:o,processes:g,item:d,optr:u,onOptr:function(e,t){e===Dd.DEL?O.removeTask(n):e===Dd.UPDATE?O.updateTaskItem(n,0,t):O.combineTask(n)},readonly:c})})))))}Vd.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var Wd=i.a.memo(Vd);Wd.hasUnifyTitle=!1;var Gd=Wd,Hd="params.processDefinitionId",Qd=[{label:"prop",fieldName:"props"},{label:Object(mn.c)({id:"TYPE",cn:"类型",en:"Type"}),fieldName:"type"},{label:"value",fieldName:"value"}],Jd={marginRight:10};function zd(e){var n=e.definition,t=e.className,a=Object(o.useContext)(Be),r=a.getFieldValue,c=a.updateConfig,l=a.readonly,u=Object(o.useContext)(ri).TitleClass,d=r(Hd),m=r(n.fieldName),A=Object(s.e)(wu.d,[],s.a),g=A[0],b=A[2],E=g[0]||[];Object(o.useEffect)((function(){d&&b({processId:d,localParamsWithDefault:m})}),[d]),Object(o.useEffect)((function(){d&&g[0]&&c(n.fieldName,E)}),[E]);return 0===E.length?null:i.a.createElement("div",{className:p()("row-flex",t),style:{marginTop:10}},i.a.createElement(u,{def:n}),i.a.createElement("div",{className:"column-flex flex1"},i.a.createElement(o.Fragment,null,i.a.createElement(Zr,{definitions:Qd,style:{width:"100%",height:32}}),i.a.createElement(Wr,{style:{width:"100%",margin:"0 0 5px"}})),E.map((function(e,t){return i.a.createElement("div",{className:"row-flex-center",key:e.prop,style:{marginTop:10}},i.a.createElement(f.a,{className:"flex1",style:Jd},e.prop),i.a.createElement(f.a,{className:"flex1",style:Jd},e.type),i.a.createElement("div",{className:"flex1",style:Jd},i.a.createElement(Et.a,{value:e.value,placeholder:e.defaultValue,onChange:function(e){return function(e,t){var a=E.slice(0);a[t].value=e,c(n.fieldName,a)}(e.target.value,t)},disabled:l})))}))))}zd.propTypes={definition:l.a.object,className:l.a.string};var qd=i.a.memo(zd),Kd=qd;qd.hasUnifyTitle=!1;var Xd=i.a.memo((function(e){var n=e.className,t=e.definition,a=Object(o.useContext)(Be),r=a.getFieldValue,c=a.batchUpdateConfig,l=a.readonly,s=r(t.fieldName);return i.a.createElement("div",{className:p()("row-flex-center",n)},i.a.createElement(hs,{dirId:s,onChange:function(e){var n=[t.fieldName];c(n,[e])},style:{width:"100%"},type:It.DATASET,disabled:l}))}));function Zd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function $d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zd(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ep=Wa()((function(e,n){return{label:e||n,value:n||e}}));function np(e){var n=e.definition,t=e.mode,a=e.style,r=e.className,c=Rn()(e,["definition","mode","style","className"]),l=Object(o.useContext)(Be),s=l.getFieldValue,u=l.batchUpdateConfig,d=l.readonly,p=s(n.fieldName),m=Object(o.useContext)(vr).outside,f=void 0===m?{}:m,A=f.config.params,g=A.outputs,b=A.outputAliasMap,E=Object(o.useMemo)((function(){return g.map((function(e){return b[e]?e+"("+b[e]+")":e}))}),[b,g]),O=Object(o.useMemo)((function(){return ep(E,g)}),[E,g]),y=[p,n.placeholder],C=y[0],h=y[1];return i.a.createElement(yr.GDSelect,en()({value:C,onChange:function(e){u([n.fieldName,"nodeName","outputAlias"],[e,f.config.name,b[e]])},items:O,disabled:d,className:r,style:$d({},n.style,{},a),mode:t,placeholder:h},c))}np.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object,mode:l.a.string},np.defaultProps={mode:"default"};var tp=i.a.memo(np);function ap(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var rp=function(e){return e.map((function(e){return{label:e.name,value:e.id}}))};function op(e){var n=e.definition,t=e.className,a=e.style,c=Object(o.useContext)(Be),l=c.getFieldValue,u=c.updateConfig,d=c.readonly,p={type:X.FTP,searchVal:""},m=Object(s.e)(bi,[],p),f=m[0],A=m[1],g=m[2],b=m[3],E=Object(o.useMemo)((function(){return rp(f[0]||[])}),[f]),O=[l(n.fieldName),Object(mn.c)({id:"SEL_DS",cn:"选择数据源",en:"Select Datasource"})],y=O[0],C=O[1],h=Object(s.b)(g,400),v=Object(o.useCallback)((function(e){h(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ap(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ap(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},b.current,{searchVal:e}))}),[h,b]);return i.a.createElement(yr.GDSelect,{allowClear:!0,showSearch:!0,value:y,onChange:function(e){return u(n.fieldName,e)},items:E,className:t,placeholder:C,disabled:d,style:a,onSearch:v,loading:A,filterOption:!1})}op.propTypes={definition:l.a.object,className:l.a.string,style:l.a.object};var ip,cp=i.a.memo(op);!function(e){e[e.NONE=0]="NONE",e[e.MOVE=1]="MOVE",e[e.DELETE=2]="DELETE"}(ip||(ip={}));var lp=function(e){return"目标位置 eg: /folder/"};var sp,up=i.a.memo((function(){var e=Object(o.useContext)(Be),n=e.getFieldValue,t=e.updateConfig,a=e.readonly,r=[{value:ip.NONE,label:"无"},{value:ip.MOVE,label:"移动"},{value:ip.DELETE,label:"删除"}],c=function(e){return function(n){t("params.operateInfoParameters."+e+".location",n.target.value)}},l=function(e){return function(n){t("params.operateInfoParameters."+e+".type",n)}},s=[n("params.operateInfoParameters.finishInfo.location"),n("params.operateInfoParameters.interruptInfo.location")],u=s[0],d=s[1],p=[n("params.operateInfoParameters.finishInfo.type"),n("params.operateInfoParameters.interruptInfo.type")],m=p[0],A=p[1];return i.a.createElement("div",{className:"flex1",style:{minWidth:0}},i.a.createElement("div",{className:"row-flex-center",style:{paddingLeft:5}},i.a.createElement(f.a,{className:"flex1"},"读取结果"),i.a.createElement(f.a,{className:"flex1"},"操作"),i.a.createElement("div",{className:"flex1"})),i.a.createElement(E.a,{style:{margin:"10px 0"}}),i.a.createElement("div",{className:"row-flex-center",style:{marginBottom:10,paddingLeft:5}},i.a.createElement(f.a,{className:"flex1"},"完成"),i.a.createElement(yr.GDSelect,{value:m,items:r,className:"flex1",onChange:l("finishInfo"),style:{marginRight:10},disabled:a}),m===ip.MOVE?i.a.createElement(Et.a,{key:m,disabled:a,className:"flex1",placeholder:lp(m),value:u,onChange:c("finishInfo")}):i.a.createElement("div",{className:"flex1",style:{marginLeft:22}})),i.a.createElement("div",{className:"row-flex-center",style:{paddingLeft:5}},i.a.createElement(f.a,{className:"flex1"},"中断"),i.a.createElement(yr.GDSelect,{value:A,items:r,className:"flex1",onChange:l("interruptInfo"),style:{marginRight:10},disabled:a}),A===ip.MOVE?i.a.createElement(Et.a,{key:A,disabled:a,className:"flex1",placeholder:lp(A),value:d,onChange:c("interruptInfo")}):i.a.createElement("div",{className:"flex1",style:{marginLeft:22}})))})),dp=t(232),pp=t.n(dp);!function(e){e.NONE="",e.YYYY_MM_DD="yyyy-MM-dd",e.DD_MM_YYYY="dd-MM-yyyy",e.MM_DD_YYYY="MM-dd-yyyy"}(sp||(sp={}));var mp=function(e){var n=new Date;switch(e){case sp.NONE:return"";case sp.YYYY_MM_DD:return"_"+pp()(n).format("YYYY-MM-DD");case sp.DD_MM_YYYY:return"_"+pp()(n).format("DD-MM-YYYY");case sp.MM_DD_YYYY:return"_"+pp()(n).format("MM-DD-YYYY");default:return""}},fp=function(e){return e?e.includes(sp.YYYY_MM_DD)?sp.YYYY_MM_DD:e.includes(sp.DD_MM_YYYY)?sp.DD_MM_YYYY:e.includes(sp.MM_DD_YYYY)?sp.MM_DD_YYYY:sp.NONE:sp.NONE},Ap=function(e,n){return e?n+"-HH-mm-ss":n};var gp,bp=i.a.memo((function(){var e=Object(o.useContext)(Be),n=e.getFieldValue,t=e.updateConfig,a=e.readonly,r=n("params.suffixFormat"),c=Object(o.useState)(r&&r!==sp.NONE),l=c[0],s=c[1],u=Object(o.useState)(r.includes("HH-mm-ss")),d=u[0],p=u[1],m=Object(o.useState)(fp(r)),f=m[0],A=m[1],g=[{value:sp.NONE,label:"无"},{value:sp.YYYY_MM_DD,label:"YYYY-MM-DD"},{value:sp.DD_MM_YYYY,label:"DD-MM-YYYY"},{value:sp.MM_DD_YYYY,label:"MM-DD-YYYY"}];return i.a.createElement("div",{className:"flex1 row-flex-center",style:{minWidth:0}},i.a.createElement(yr.GDSelect,{value:f,items:g,className:"flex1",onChange:function(e){s(e!==sp.NONE),A(e),t("params.suffixFormat",Ap(d,e))},style:{marginRight:10},disabled:a}),i.a.createElement("div",{className:"flex1 row-flex-center jc-space",style:{padding:10}},l&&i.a.createElement(Ua.a,{checked:d,onChange:function(e){p(e.target.checked),t("params.suffixFormat",Ap(e.target.checked,f))},style:{marginRight:10},className:"no-shrink",disabled:a},"时间"),!l&&i.a.createElement("span",{className:"flex1"}),i.a.createElement("span",null,"eg: file_name"+mp(f)+(d?"_"+pp()(new Date).format("HH:mm:ss"):"")+".csv")))}));function Ep(){return[{value:gp.EQUAL_TO,label:Object(mn.c)({id:"FT.EQ",cn:"等于",en:"="})},{value:gp.NOT_EQUAL_TO,label:Object(mn.c)({id:"FT.NE",cn:"不等于",en:"!="})},{value:gp.LESS_THAN,label:Object(mn.c)({id:"FT.LT",cn:"小于",en:"<"})},{value:gp.LESS_THAN_OR_EQUAL_TO,label:Object(mn.c)({id:"FT.LE",cn:"小于等于",en:"<="})},{value:gp.GREATER_THAN,label:Object(mn.c)({id:"FT.GT",cn:"大于",en:">"})},{value:gp.GREATER_THAN_OR_EQUAL_TO,label:Object(mn.c)({id:"FT.GE",cn:"大于等于",en:">="})}]}!function(e){e.EQUAL_TO="EQ",e.NOT_EQUAL_TO="NE",e.LESS_THAN="LT",e.LESS_THAN_OR_EQUAL_TO="LE",e.GREATER_THAN="GT",e.GREATER_THAN_OR_EQUAL_TO="GE"}(gp||(gp={}));var Op,yp={id:"IS_NULL",cn:"Null值",en:"Null"},Cp={id:"IS_EMPTY",cn:"空字符串",en:"Empty"},hp={id:"CUSTOM",cn:"自定义",en:"Custom"};!function(e){e.IS_NULL="IS_NULL",e.IS_EMPTY="IS_EMPTY",e.CUSTOM="CUSTOM"}(Op||(Op={}));t(1025);function vp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ip(e,n){var t=Object(o.useState)((function(){return e.value.join(",")})),a=t[0],i=t[1];return[a,function(t){i(t.target.value),n(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vp(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vp(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{value:t.target.value.split(",").map((function(e){return e.trim()}))}))}]}function Np(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Tp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Np(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Np(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xp,Bp,jp=t(1027),wp=t.n(jp),Sp={id:"EDIT",cn:"编辑",en:"Edit"};!function(e){e.ROW_COUNT="ROW_COUNT",e.ERROR_VALUE="ERROR_VALUE",e.ENUM_VALUE="ENUM_VALUE",e.VALUE_FORMAT="VALUE_FORMAT",e.VALUE_RANGE="VALUE_RANGE"}(Bp||(Bp={}));var Dp=((xp={})[Bp.ROW_COUNT]={id:"VR_ROW_COUNT",cn:"行数",en:"Row Number"},xp[Bp.ERROR_VALUE]={id:"VR_ERROR",cn:"异常值",en:"Error Value"},xp[Bp.ENUM_VALUE]={id:"VR_ENUM",cn:"枚举值",en:"Enum Value"},xp[Bp.VALUE_FORMAT]={id:"VR_VALUE_FOMAT",cn:"值格式",en:"Value Format"},xp[Bp.VALUE_RANGE]={id:"VR_VALUE_RANGE",cn:"值域",en:"Value Domain"},xp);var _p=function(e,n){return{label:e,dark:n,key:Object(Xa.c)()}};function kp(e){var n=Object(o.useMemo)((function(){switch(e.type){case Bp.ROW_COUNT:return n=e.conditions,t=Ep(),n.map((function(e){return{label:t.find((function(n){return n.value===e.operator})).label,value:e.value}}));case Bp.ERROR_VALUE:return e.conditions.map((function(e){var n=e.column,t=e.type,a=e.value;return t!==Op.CUSTOM?{value:n,label:t===Op.IS_NULL?Object(mn.c)(yp):Object(mn.c)(Cp)}:{value:n,label:a}}));case Bp.ENUM_VALUE:return function(e){return e.map((function(e){return{value:e.column,label:e.value.join(",")}}))}(e.conditions);case Bp.VALUE_FORMAT:return function(e){return e.map((function(e){return{value:e.column,label:e.expression}}))}(e.conditions);case Bp.VALUE_RANGE:return function(e){return e.map((function(e){return{value:e.column,label:"["+e.min+", "+e.max+"]"}}))}(e.conditions);default:return[]}var n,t}),[e]),t=e.type===Bp.ROW_COUNT;return Object(o.useMemo)((function(){return n.reduce((function(e,n){var a=[_p(n.label,!1),_p(n.value,!0)];return e.concat(t?a:a.reverse())}),[])}),[t,n])}function Pp(e){var n=e.rule,t=e.onEdit,a=e.disabled,r=Rn()(e,["rule","onEdit","disabled"]);T()(wp.a);var o=kp(n),c=p()(wp.a.ruleDesc,"row-flex-center flex1 gd-border-table br-2 gd-bgColor-default gd-color-title"),l=Dp[n.type];return i.a.createElement("div",{className:p()(wp.a.rule,"row-flex-center")},i.a.createElement("div",{className:c},i.a.createElement("span",{className:wp.a.type},l&&Object(mn.c)(l)),o.map((function(e){return i.a.createElement("span",{key:e.key,className:p()("text-ellipsis",e.dark?wp.a.val:"gd-color-desc-icon "+wp.a.label)},e.label)}))),i.a.createElement(zc.a,{style:{marginLeft:10},disabled:a,onClick:t},Object(mn.c)(Sp)),r.listOperator)}var Lp=t(1029),Rp=t.n(Lp);function Mp(){var e;return(e={})[Bp.ROW_COUNT]={id:"VR_ROW_COUNT_TIP",cn:"行数为常数或设置阈值范围"},e[Bp.ERROR_VALUE]={id:"VR_VALUE_TIP",cn:"字段数据值"},e[Bp.ENUM_VALUE]={id:"VR_VALUE_TIP",cn:"字段数据值"},e[Bp.VALUE_FORMAT]={id:"VR_VALUE_FOMAT_TIP",cn:"字段数据格式"},e[Bp.VALUE_RANGE]={id:"VR_VALUE_RANGE_TIP",cn:"数值类型字段数据阈值范围"},e}function Up(e){var n=e.type,t=e.onChange;T()(Rp.a);var a=Object(o.useMemo)((function(){return[Object.keys(Dp).map((function(e){return{value:e,label:Object(mn.c)(Dp[e])}})),Mp()]}),[]),r=a[0],c=a[1];return i.a.createElement(Cr.a,{value:n,onChange:t,className:p()(Rp.a.ruleSelect,"flex1")},r.map((function(e){return i.a.createElement(yr.Option,{key:e.value,value:e.value},i.a.createElement("span",null,e.label),i.a.createElement("span",{className:p()(Rp.a.optionTip,"gd-color-desc-icon")},c[e.value]&&Object(mn.c)(c[e.value])))})))}var Yp=t(1031),Fp=t.n(Yp);function Vp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Wp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vp(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vp(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Gp={id:"VALIDATION_RULE",cn:"校验规则",en:"Validation rule"},Hp={id:"RULE_CONDS",cn:"规则条件"},Qp={id:"EMPTY",cn:"空",en:"Empty"},Jp={id:"PH_INT",cn:"请输入正整数",en:"Please input integer"},zp={id:"PH_COL",cn:"请输入列",en:"Please input column"},qp={id:"PH_ENUM",cn:"请输入枚举值 并使用半角逗号(,)分隔",en:"Input enum values, use ',' as separator"},Kp={id:"PH_REGEX",cn:"请输入正则表达式",en:"Please enter regular expression"},Xp={id:"PH_VALUE",cn:"请输入值",en:"Please enter value"};function Zp(e){switch(e){case Bp.ROW_COUNT:return{operator:gp.EQUAL_TO};case Bp.ERROR_VALUE:return{column:"",type:Op.IS_NULL};case Bp.ENUM_VALUE:return{column:"",value:[]};case Bp.VALUE_FORMAT:return{column:"",expression:""};case Bp.VALUE_RANGE:return{column:""};default:return{}}}function $p(e){return"number"==typeof e}function em(e){var n=e.cond,t=e.onChange,a=Object(o.useMemo)((function(){return Ep()}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(yr.GDSelect,{value:n.operator,items:a,className:"flex1",onChange:function(e){return t(Wp({},n,{operator:e}))}}),i.a.createElement("div",{className:Fp.a.space}),i.a.createElement(bt.InputNumber,{value:n.value,onChange:function(e){return t(Wp({},n,{value:e}))},className:"flex1",placeholder:Object(mn.c)(Jp),min:0,precision:0}))}function nm(e){var n=e.cond,t=e.onChange,a=function(e){return e===Op.CUSTOM},r=!a(n.type),c=r?n.type===Op.IS_NULL?"Null":Object(mn.c)(Qp):n.value,l=Object(o.useMemo)((function(){return[{value:Op.IS_NULL,label:Object(mn.c)(yp)},{value:Op.IS_EMPTY,label:Object(mn.c)(Cp)},{value:Op.CUSTOM,label:Object(mn.c)(hp)}]}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Et.a,{value:n.column,onChange:function(e){return t(Wp({},n,{column:e.target.value}))},placeholder:Object(mn.c)(zp),className:"flex2"}),i.a.createElement("div",{className:Fp.a.space}),i.a.createElement(yr.GDSelect,{value:n.type,items:l,onChange:function(e){return t(Wp({},n,{type:e,value:a(e)?n.value:void 0}))},className:p()(Fp.a.min100,"flex1")}),i.a.createElement("div",{className:Fp.a.space}),i.a.createElement(Et.a,{disabled:r,value:c,onChange:function(e){return t(Wp({},n,{value:e.target.value}))},className:"flex1",placeholder:"请输入"}))}function tm(e){var n=e.cond,t=e.onChange,a=Ip(n,t),r=a[0],c=a[1],l=Object(o.useMemo)((function(){return[Object(mn.c)(zp),Object(mn.c)(qp)]}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Et.a,{value:n.column,onChange:function(e){return t(Wp({},n,{column:e.target.value}))},placeholder:l[0],className:"flex1"}),i.a.createElement("div",{className:Fp.a.space}),i.a.createElement(Et.a,{value:r,onChange:c,placeholder:l[1],className:"flex1"}))}function am(e){var n=e.cond,t=e.onChange,a=Object(o.useMemo)((function(){return[Object(mn.c)(zp),Object(mn.c)(Kp)]}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Et.a,{value:n.column,onChange:function(e){return t(Wp({},n,{column:e.target.value}))},placeholder:a[0],className:"flex1"}),i.a.createElement("div",{className:Fp.a.space}),i.a.createElement(Et.a,{value:n.expression,onChange:function(e){return t(Wp({},n,{expression:e.target.value}))},placeholder:a[1],className:"flex1"}))}function rm(e){var n=e.cond,t=e.onChange,a=function(e,n){return[e.min,function(t){return n(Tp({},e,{min:t}))},e.max,function(t){return n(Tp({},e,{max:t}))}]}(n,t),r=a[0],c=a[1],l=a[2],s=a[3],u=Object(o.useMemo)((function(){return[Object(mn.c)(zp),Object(mn.c)(Xp)]}),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Et.a,{value:n.column,onChange:function(e){return t(Wp({},n,{column:e.target.value}))},placeholder:u[0],className:"flex2"}),i.a.createElement("div",{className:Fp.a.space}),i.a.createElement(bt.InputNumber,{value:r,onChange:c,placeholder:u[1],className:"flex1"}),i.a.createElement("div",{className:Fp.a.separator},"~"),i.a.createElement(bt.InputNumber,{value:l,onChange:s,placeholder:u[1],className:"flex1"}))}function om(e){var n=e.rule,t=e.onClose,a=e.onChange;T()(Fp.a);var r=Object(o.useState)(n.type),c=r[0],l=r[1],s=Object(o.useState)((function(){return n.conditions.map(Xa.a)})),u=s[0],d=s[1],m=function(){return d(u.concat(Object(Xa.a)(Zp(c))))},f=Object(o.useMemo)((function(){return function(e){switch(e){case Bp.ROW_COUNT:return em;case Bp.ERROR_VALUE:return nm;case Bp.ENUM_VALUE:return tm;case Bp.VALUE_FORMAT:return am;case Bp.VALUE_RANGE:return rm;default:return null}}(c)}),[c]),A=u.length>0&&u.every(f.isCondValid||function(){return!1});return i.a.createElement(Dn.a,{visible:!0,width:640,title:Object(mn.c)(Gp),onCancel:t,onOK:function(){a(Wp({},n,{type:c,conditions:u.map(Xa.f)})),t()},okButtonProps:{disabled:!A}},i.a.createElement("div",{className:p()(Fp.a.row,"row-flex")},i.a.createElement("div",{className:Fp.a.label},Object(mn.c)(Gp)),i.a.createElement(Up,{type:c,onChange:function(e){l(e),d([Object(Xa.a)(Zp(e))])}})),i.a.createElement("div",{className:p()(Fp.a.row,"row-flex")},i.a.createElement("div",{className:Fp.a.label},Object(mn.c)(Hp)," ",i.a.createElement(g.a,{name:"add_item",onClick:m})),f&&u.length>0&&i.a.createElement("div",{key:c,className:p()(Fp.a.conds,"column-flex flex1 scroll-y")},i.a.createElement(Zr,{definitions:f.definitions,className:p()(Fp.a.condHeader,"gd-weight-6")}),i.a.createElement(E.a,null),u.map((function(e,n){var t=[Object(Xa.d)(e)][0];return i.a.createElement(cr,{key:t,dragItem:{type:"fake"},move:function(){},sortable:!1},i.a.createElement("div",{className:"row-flex flex1"},i.a.createElement(f,{cond:e,onChange:function(e){return function(e,n){d(u.map((function(t,a){return a===n?e:t})))}(e,n)}})),i.a.createElement(ir,{onAdd:m,onDel:function(){return function(e){return d(u.filter((function(n,t){return t!==e})))}(n)},canAdd:n===u.length-1}))})))))}em.definitions=[{fieldName:"A",label:Object(mn.c)({id:"CALC_OPERATOR",cn:"运算符",en:"Operator"})},{fieldName:"S",label:"",style:{width:10}},{fieldName:"B",label:Object(mn.c)({id:"METRIC",cn:"数值",en:"Metric"})}],em.isCondValid=function(e){return $p(e.value)},nm.definitions=[{fieldName:"A",label:Object(mn.c)({id:"COLUMN",cn:"列",en:"cols"})},{fieldName:"S",label:"",style:{width:10}},{fieldName:"B",label:Object(mn.c)({id:"VR_ERROR",cn:"异常值",en:"Error Value"})}],nm.isCondValid=function(e){return!(!e.column||e.type===Op.CUSTOM&&!e.value)},tm.definitions=[{fieldName:"A",label:Object(mn.c)({id:"COLUMN",cn:"列",en:"cols"})},{fieldName:"S",label:"",style:{width:10}},{fieldName:"B",label:Object(mn.c)({id:"VR_ENUM",cn:"枚举值",en:"Enum Value"})}],tm.isCondValid=function(e){return!!e.column&&e.value&&e.value.length>0},am.definitions=[{fieldName:"A",label:Object(mn.c)({id:"COLUMN",cn:"列",en:"cols"})},{fieldName:"S",label:"",style:{width:10}},{fieldName:"B",label:Object(mn.c)({id:"VR_VALUE_FOMAT",cn:"值格式",en:"Value Format"})}],am.isCondValid=function(e){return!!e.column&&!!e.expression},rm.definitions=[{fieldName:"A",label:Object(mn.c)({id:"COLUMN",cn:"列",en:"cols"})},{fieldName:"S",label:"",style:{width:10}},{fieldName:"B",label:Object(mn.c)({id:"VR_VALUE_RANGE",cn:"值域",en:"Value Domain"})}],rm.isCondValid=function(e){return!!e.column&&$p(e.min)&&$p(e.max)};var im={type:Bp.ROW_COUNT,conditions:[{operator:gp.EQUAL_TO}]};function cm(e){var n=e.definition,t=e.className,a=e.style,r=Ba(n),c=r[0],l=r[1],s=r[2],u=Object(o.useContext)(ri).TitleClass,d=Object(o.useState)((function(){return(c||[]).map(Xa.a)})),m=d[0],f=d[1],A=Object(o.useCallback)((function(e){l(e.map(Xa.f)),f(e)}),[l,f]),b=Object(o.useState)(null),E=b[0],O=b[1],y=m.length<(n.model.maxCount||5);return i.a.createElement("div",{className:p()("column-flex",t),style:a},i.a.createElement("div",{className:"row-flex"},i.a.createElement(u,{def:n,suffix:y&&i.a.createElement(g.a,{name:"add_item",className:"gd-color-desc",disabled:s,onClick:function(){return O(im)}})}),i.a.createElement("div",{className:"flex1",style:{minWidth:0}},m.map((function(e,n){return i.a.createElement(Pp,{key:Object(Xa.d)(e),rule:e,disabled:s,onEdit:function(){return O(e)},listOperator:i.a.createElement(ir,{canAdd:y&&n===m.length-1,disabled:s,onDel:function(){return function(e){A(m.filter((function(n){return n!==e})))}(e)},onAdd:function(){return O(im)}})})}))),E&&i.a.createElement(om,{rule:E,onClose:function(){return O(null)},onChange:function(e){Object(Xa.d)(E)?A(m.map((function(n){return Object(Xa.d)(n)===Object(Xa.d)(e)?e:n}))):A(m.concat(Object(Xa.a)(e)))}})))}cm.hasUnifyTitle=!1;var lm,sm,um,dm=t(1033),pm=t.n(dm),mm=Hn(pm.a)((um=sm=function(e){function n(){return e.apply(this,arguments)||this}return wn()(n,e),n.prototype.render=function(){var e=this.props,n=e.icon,t=e.error,a=e.type,r=e.iconSrc,o=e.fullHeight,c=e.style,l=e.layout,s=e.children,u=e.className,d=e.iconClassName,m=e.textClassName,A=t&&(t.error_message||t.message),b="vertical"===l;return i.a.createElement("div",{className:p()(pm.a.container,u,o&&pm.a.fullHeight,b&&pm.a.column,"row-flex-center jc-center"),style:c},i.a.createElement("div",{className:p()(pm.a.iconBox,"gd-color-desc")},r&&i.a.createElement("img",{alt:"Icon",src:r}),!r&&n&&i.a.createElement(g.a,{className:d,name:n,type:a})),i.a.createElement(f.a,{className:m,type:"desc"},A||s))},n}(o.Component),r()(sm,"propTypes",{className:l.a.string,iconClassName:l.a.string,textClassName:l.a.string,style:l.a.object,children:l.a.node,icon:l.a.string,error:l.a.object,type:l.a.string,iconSrc:l.a.string,fullHeight:l.a.bool,layout:l.a.string}),r()(sm,"defaultProps",{type:"fg",layout:"vertical",iconClassName:"font-5xl",textClassName:"font-l"}),lm=um))||lm,fm=function(e){function n(n){var t;return t=e.call(this,n)||this,r()(Bn()(t),"clearTimer",(function(){t.timer&&(clearTimeout(t.timer),t.timer=null)})),r()(Bn()(t),"getDelay",(function(e){var n=D()(t.props,"tooltipProps."+e);return void 0!==n&&"number"==typeof n?1e3*n:null})),r()(Bn()(t),"onMouseEnter",(function(e){var n=t.getDelay("mouseEnterDelay"),a=e.target,r=a.scrollWidth,o=a.offsetWidth,i=!t.state.visible&&e&&r>o;t.clearTimer(),null!==n&&i?t.timer=setTimeout((function(){t.setState({visible:i})}),n):i&&t.setState({visible:i}),t.props.onMouseEnter&&t.props.onMouseEnter(e)})),r()(Bn()(t),"onMouseLeave",(function(e){var n=t.getDelay("mouseLeaveDelay");t.clearTimer(),null!==n&&t.state.visible?t.timer=setTimeout((function(){t.setState({visible:!1})}),n):t.state.visible&&t.setState({visible:!1}),t.props.onMouseLeave&&t.props.onMouseLeave(e)})),t.state={visible:!1},t.timer=null,t}wn()(n,e);var t=n.prototype;return t.componentWillUnmount=function(){this.clearTimer()},t.render=function(){var e=this.state.visible,n=this.props,t=n.tooltipProps,a=n.title,r=n.style,o=void 0===r?{}:r,c=Rn()(n,["tooltipProps","title","style"]),l="string"==typeof this.props.children?this.props.children:"";return i.a.createElement(yn.a,en()({visible:e},t,{title:a||l}),i.a.createElement(f.a,en()({style:o,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},c,{ellipsis:!0}),this.props.children))},n}(o.Component);r()(fm,"propTypes",{tooltipProps:l.a.object,title:l.a.string,style:l.a.object,onMouseEnter:l.a.func,onMouseLeave:l.a.func,className:l.a.string,children:l.a.any});var Am=function(e){function n(){return e.apply(this,arguments)||this}return wn()(n,e),n.prototype.render=function(){var e=this.props,n=e.text,t=e.highlight,a=e.colorClass,r=Rn()(e,["text","highlight","colorClass"]),o=new RegExp("("+Object(qt.sanitize)(t.replace(/,/,"|"))+")","i"),c=n.replace(o,'<span class="'+a+'">$1</span>');return i.a.createElement("span",en()({},r,{dangerouslySetInnerHTML:{__html:c}}))},n}(o.Component);r()(Am,"propTypes",{text:l.a.string,highlight:l.a.string,colorClass:l.a.string}),r()(Am,"defaultProps",{colorClass:"gd-color-primary"});var gm=t(1035),bm=t.n(gm),Em={id:"NO_DATA",cn:"暂无数据",en:"No Data"};function Om(e){T()(bm.a);var n=e.name,t=e.onItemClick,a=e.active,r=e.search,o=void 0===r?"":r,c=e.tooltipProps,l=e.item;return i.a.createElement("div",{onClick:function(){return t(l)},className:p()(bm.a.item,a?bm.a.active:"","row-flex-center cursor-pointer"),style:{height:32,paddingLeft:8}},i.a.createElement(g.a,{name:"table",style:{marginRight:10}}),i.a.createElement(fm,{title:n,tooltipProps:c},i.a.createElement(Am,{text:n,highlight:o})))}function ym(e){T()(bm.a);var n=e.items,t=void 0===n?[]:n,a=e.onItemClick,r=e.tableName,o=e.tooltipProps,c=e.isLoading,l=e.search,s=e.emptyPlaceHolder,u=e.customPlaceHolder,d={tooltipProps:o,onItemClick:a};return i.a.createElement("div",{className:"scroll-y content-full"},c&&i.a.createElement(Nl.a,null),!c&&0===t.length&&i.a.createElement(i.a.Fragment,null,s?i.a.createElement(mm,{icon:"empty gd-color-desc-icon",style:{height:"100%"}},i.a.createElement(f.a,{className:"font-m"},s||Object(mn.c)(Em))):i.a.createElement(f.a,{style:{height:32,lineHeight:"32px",paddingLeft:10},className:"font-m",color:"desc-icon"},u||Object(mn.c)(Em))),!c&&t.map((function(e){return i.a.createElement(Om,en()({key:e.name},d,{item:e,search:l||r||"",active:e.name===r,name:e.name}))})))}var Cm,hm,vm,Im=mm,Nm=t(1037),Tm=t.n(Nm),xm=t(1048),Bm=t(1049),jm=t.n(Bm);function wm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Sm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wm(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dm=function(e){var n=e.columns,t=e.cellMaxWidth,a=e.cellMinWidth;return(n||[]).map((function(e){if(e){var n=null,r=null;return null!=e.maxWidth?(n=parseInt(e.maxWidth,10),isNaN(n)&&(n=e.maxWidth)):null!=t&&(n=parseInt(t,10),isNaN(n)&&(n=t)),null!=e.minWidth?(r=parseInt(e.minWidth,10),isNaN(r)&&(r=e.minWidth)):null!=a&&(r=parseInt(a,10),isNaN(r)&&(r=a)),null===n&&null===r?{th:null,td:null}:{th:Sm({},null!==n?{maxWidth:isNaN(n)?n:n+44}:{},{},null!==r?{minWidth:isNaN(r)?r:r+44}:{}),tdInner:Sm({},null!==r&&r>200?{maxWidth:r}:{},{},null!==n?{maxWidth:n}:{},{},null!==r?{minWidth:r}:{})}}return{th:null,td:null}}))},_m=function(e){return e.getBoundingClientRect?e.getBoundingClientRect().width:e.offsetWidth},km=function(e){return e.getBoundingClientRect?e.getBoundingClientRect().height:e.offsetHeight},Pm=zt()(jm.a)((vm=hm=function(e){function n(n){var t;return t=e.call(this,n)||this,r()(Bn()(t),"columnMaxWidth",null),r()(Bn()(t),"scrollerWidth",null),r()(Bn()(t),"onScroll",(function(e){t.pinnedTable.style.transform="translateY(-"+e.target.scrollTop+"px)",t.tableHeader.style.transform="translateX(-"+e.target.scrollLeft+"px)"})),r()(Bn()(t),"onResize",(function(){if(t.scrollContainer){var e=t.scrollContainer.scrollHeight>t.scrollContainer.clientHeight;e&&null===t.scrollerWidth&&(t.scrollerWidth=t.scrollContainer.offsetWidth-t.scrollContainer.clientWidth),t.tableHeaderContainer&&(t.tableHeaderContainer.style.right=e?t.scrollerWidth+"px":0),t.props.autoMaxWidth&&Object(xm.toggleClass)(t.scrollContainer,"auto-td-width",!(t.scrollContainer.scrollWidth>t.scrollContainer.clientWidth))}if(t.dataTableHeaderTr&&t.pinnedHeaderTr){var n=t.dataTableHeaderTr.childNodes,a=t.pinnedHeaderTr.childNodes;if(n&&n.length&&(Array.prototype.forEach.call(n,(function(e,n){a[n].childNodes[0].style.width=_m(e.childNodes[0])+"px"})),n[0])){var r=km(n[0]);t.padder&&(t.padder.style.height=km(n[0])+"px"),t.padderCurtain&&(t.padderCurtain.style.height=r+"px")}t.tableHeader.style.display="block"}if(t.dataTableTbody&&t.pinnedTableTbody){var o=t.dataTableTbody.childNodes,i=t.pinnedTableTbody.childNodes;o&&o.length&&Array.prototype.forEach.call(o,(function(e,n){i[n].childNodes[0].style.height=km(e)+"px"}))}})),r()(Bn()(t),"renderDataTable",(function(){return i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",{ref:function(e){return t.dataTableHeaderTr=e}},(t.props.columns||[]).map((function(e,n){return e&&i.a.createElement("th",{key:e.key,style:t.columnMaxWidth[n].th},i.a.createElement("div",{className:p()("thInner","large"===e.headerInnerSize?jm.a.large:"")},i.a.createElement("div",{className:"titleWrapper"},e.title)))})))),i.a.createElement("tbody",{ref:function(e){return t.dataTableTbody=e}},(t.props.data||[]).map((function(e,n){return i.a.createElement("tr",{key:"dt_r_"+n,className:t.props.isRowResponseAction&&"rowResponse"},e.map((function(a,r){var o=(t.props.columns||[])[r];if(!o)return null;var c=o.rowSpan?o.rowSpan(a,e,n,r):null;return-1===c?null:i.a.createElement("td",{key:"dt_r_"+n+"_c_"+r,rowSpan:null!=c?""+c:void 0,className:p()({first:0===r&&t.props.isRowResponseAction}),onClick:0===r?function(){return t.props.isRowResponseAction&&t.props.rowActionCallback&&t.props.rowActionCallback(n)}:null},i.a.createElement("div",{className:"tdInner",style:t.columnMaxWidth[r].tdInner},o&&o.render?o.render(a,e,n,r):null===a?"null":a))})))}))))})),r()(Bn()(t),"renderPinnedTable",(function(){return i.a.createElement("table",null,i.a.createElement("thead",null,t.props.columns.length>0&&i.a.createElement("tr",null,i.a.createElement("td",{ref:function(e){return t.padder=e},className:p()("rowLabel","padder","gd-color-desc")}))),i.a.createElement("tbody",{ref:function(e){return t.pinnedTableTbody=e}},(t.props.data||[]).map((function(e,n){return i.a.createElement("tr",{key:"pt_r_"+n},i.a.createElement("td",{className:p()("rowLabel","gd-color-desc")},n+1+t.props.rowIdxOffset))}))))})),r()(Bn()(t),"renderPinnedHeader",(function(){return i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",{ref:function(e){return t.pinnedHeaderTr=e}},(t.props.columns||[]).map((function(e,n){return e&&i.a.createElement("th",{key:e.key,style:t.columnMaxWidth[n].th},i.a.createElement("div",{className:p()("thInner","large"===e.headerInnerSize?"large":"")},i.a.createElement("div",{className:"titleWrapper"},e.title)))})))))})),t.columnMaxWidth=Dm(n),t}wn()(n,e);var t=n.prototype;return t.componentDidMount=function(){this.onResize()},t.UNSAFE_componentWillReceiveProps=function(e){this.columnMaxWidth=Dm(e)},t.componentDidUpdate=function(){this.onResize()},t.render=function(){var e=this,n=this.props.columns&&this.props.columns.length;return i.a.createElement("div",{className:p()("gd-preview-table",this.props.className,{hasHeader:n,maxHeight:this.props.autoMaxHeight,maxWidth:this.props.autoMaxWidth}),style:this.props.style},i.a.createElement(Tm.a,{target:"window",onResizeCapture:this.onResize}),i.a.createElement("div",{ref:function(n){return e.scrollContainer=n},className:"dataTableOuterWrapper w2x-scroll",style:this.props.tableOuterWrapperStyle,onScroll:this.onScroll},i.a.createElement("div",{className:"dataTableWrapper"},this.renderDataTable(),0===(this.props.data||[]).length&&i.a.createElement("div",{className:"pos-absolute-full row-flex-center jc-center"},i.a.createElement(Im,{iconSrc:"/assets/img/empty.svg"},this.props.emptyText||Object(mn.c)({id:"NO_DATA",cn:"暂无数据",en:"No Data"}))))),i.a.createElement("div",{className:"tableHeader",ref:function(n){return e.tableHeaderContainer=n}},i.a.createElement("div",{className:"pinnedHeaderWrapper",ref:function(n){return e.tableHeader=n}},this.renderPinnedHeader())),i.a.createElement("div",{className:"pinnedTable",ref:function(n){return e.pinnedTable=n}},this.renderPinnedTable()),i.a.createElement("div",{className:p()("padderCurtain","padder-curtain"),ref:function(n){return e.padderCurtain=n}}),i.a.createElement("div",{className:p()("loadingSpinner",{active:this.props.loading})},this.props.loading?i.a.createElement(Nl.a,null):null))},n}(o.Component),r()(hm,"propTypes",{columns:l.a.arrayOf(l.a.shape({title:l.a.node,key:l.a.oneOfType([l.a.string,l.a.number]),render:l.a.func,rowSpan:l.a.func,maxWidth:l.a.oneOfType([l.a.string,l.a.number]),minWidth:l.a.oneOfType([l.a.string,l.a.number]),headerInnerSize:l.a.oneOf(["default","large"])})),data:l.a.arrayOf(l.a.arrayOf(l.a.any)),loading:l.a.bool,autoMaxHeight:l.a.bool,autoMaxWidth:l.a.bool,cellMaxWidth:l.a.oneOfType([l.a.string,l.a.number]),cellMinWidth:l.a.oneOfType([l.a.string,l.a.number]),rowIdxOffset:l.a.number,isRowResponseAction:l.a.bool,rowActionCallback:l.a.func,className:l.a.string,style:l.a.object,tableOuterWrapperStyle:l.a.object,emptyText:l.a.oneOfType([l.a.string,l.a.node])}),r()(hm,"defaultProps",{autoMaxHeight:!0,autoMaxWidth:!1,rowIdxOffset:0}),Cm=vm))||Cm,Lm=t(1051),Rm=t.n(Lm);function Mm(e){var n=e.data,t=void 0===n?{}:n,a=e.hiddenFdType,r=void 0!==a&&a,o=e.height,c=void 0===o?300:o;if(T()(Rm.a),!t)return null;var l,s=t.columns,u=void 0===s?[]:s,d=t.preview,m=void 0===d?[]:d,A={className:"",columns:(l={color:"title",ellipsis:!0},u.map((function(e){var n=wl(e);return{title:i.a.createElement("div",{key:e.key,className:Rm.a.columnNameWrapper},i.a.createElement("div",{className:Rm.a.columnName},i.a.createElement("div",{className:"row-flex-center text-ellipsis"},i.a.createElement(yn.a,{title:n,placement:"top"},i.a.createElement(f.a,en()({},l,{style:{fontWeight:"initial"}}),n)),i.a.createElement("div",{style:{width:16,height:16,marginLeft:4},className:p()("cursor-pointer")})),!r&&i.a.createElement(f.a,{color:"disabled",style:{marginLeft:20,fontWeight:"initial"}},e.type))),key:e.name,headerInnerSize:"large"}}))),data:m.slice(0,30),autoMaxWidth:!0,autoMaxHeight:!0,style:{height:c}};return i.a.createElement(Pm,A)}Mm.propTypes={data:l.a.object,hiddenFdType:l.a.bool,height:l.a.number};var Um=Mm,Ym={id:"DATA_PREVIEW",cn:"数据预览",en:"Data Preview"},Fm={id:"PREVIEW_FAIL",cn:"预览失败",en:"Preview Fail"};var Vm=i.a.memo((function(e){var n=e.params,t=e.onCancel,a=n.sql,r=n.dataSourceId,o=Object(s.e)(Ko,[],{sql:a,dataSourceId:r}),c=o[0],l=c[0],u=c[1],d=o[1];return i.a.createElement(Dn.a,{visible:!0,width:900,title:Object(mn.c)(Ym),bodyStyle:{padding:10},confirmLoading:d,onCancel:t,noFooter:!0},d?i.a.createElement("div",{style:{height:150}},i.a.createElement(Nl.a,null)):u?i.a.createElement(Im,{icon:"empty gd-color-desc-icon",style:{height:150}},i.a.createElement(f.a,{className:"font-m"},Object(mn.c)(Fm))):i.a.createElement(Um,{data:l}))})),Wm={id:"SEARCH_TABLE",cn:"搜索数据表",en:"Search table"},Gm={id:"PREVIEW",cn:"预览",en:"Preview"},Hm={id:"EDITOR",cn:"编辑器",en:"Editor"},Qm={id:"NO_SUPPORT_GUAN",cn:"暂不支持数据表预览",en:"No support"},Jm={id:"EMPTY_TABLE",cn:"暂无数据表",en:"Empty table"},zm=function(e){return e===X.GUANDATA?Object(mn.c)(Qm):Object(mn.c)(Jm)};var qm=i.a.memo((function(e){var n=e.tables,t=e.sql,a=e.onConfirm,r=e.onCancel,c=e.onPreview,l=e.dataSourceType,u=Object(s.l)(),d=u[0],p=u[1],m=Object(o.useState)(""),A=m[0],b=m[1],O=Object(o.useState)(t),y=O[0],C=O[1],h=Object(o.useState)(""),v=h[0],I=h[1],N=Object(o.useRef)(null),T=Object(s.c)(A,200),x=Object(o.useMemo)((function(){return T?n.filter((function(e){return e.name.match(Object(qt.safeNewRegExp)(T,"i"))})):n}),[T,n]);return i.a.createElement(Dn.a,{visible:!0,width:800,title:Object(mn.c)(Hm),bodyStyle:{padding:0},onCancel:r,onOK:function(){return a(y)},version:""+d},i.a.createElement("div",{className:"row-flex pos-relative",style:{height:410,borderBottom:"1px solid var(--color-grey-400)"}},i.a.createElement("div",{className:"column-flex",style:{padding:8,width:240,borderRight:"none",marginBottom:6}},i.a.createElement(bo,{style:{marginBottom:8},placeholder:Object(mn.c)(Wm),value:A,onChange:function(e){return b(e.target.value)}}),i.a.createElement(ym,{emptyPlaceHolder:zm(l),tableName:v,items:x,onItemClick:function(e){I(e.name),C(y+" "+e.sql),p()},tooltipProps:{placement:"right"}})),i.a.createElement(E.a,{type:"vertical",style:{width:"1px",margin:0}}),i.a.createElement("div",{className:"flex1 column-flex",style:{padding:16}},i.a.createElement("div",{className:"row-flex-center jc-space",style:{marginBottom:10}},i.a.createElement(f.a,null,"SQL"),i.a.createElement("div",{className:"row-flex-center cursor-pointer",onClick:function(){c(y)}},i.a.createElement(g.a,{name:"view_column"}),i.a.createElement(f.a,null,Object(mn.c)(Gm)))),i.a.createElement(Xn,{ref:N,key:d,value:y||"",options:{mode:"sql"},onChange:C,className:"content-h-full",style:{minHeight:350,maxHeight:350}}))))})),Km={id:"SEARCH_TABLE",cn:"搜索数据表",en:"Search db table"},Xm={id:"EDIT",cn:"编辑",en:"Edit"},Zm={id:"PREVIEW",cn:"预览",en:"Preview"},$m=function(e,n){return n===X.GUANDATA},ef=function(){};var nf=i.a.memo((function(e){var n=e.definition,t=n.model,a=t.type,r=t.insertSql,c=t.dataSourceIdFieldName,l=t.dataSourceTypeFieldName,u=t.supperAutoGenerateSql,d=Ba(n),m=d[0],f=d[1],A=d[2],b=Xo(c,l,$m),O=b[0],y=b[1],C=b[2],v=b[3],I=Object(o.useState)(""),N=I[0],T=I[1],x=Object(o.useState)(""),B=x[0],j=x[1],w=Object(s.m)(),S=w[0],D=w[1],_=w[2],k=Object(s.m)(),P=k[0],L=k[1],R=k[2],M=Object(s.l)(),U=M[0],Y=M[1],F=Object(o.useRef)(""),V=Object(s.c)(N,200),W=Object(o.useMemo)((function(){return V?O.filter((function(e){return e.name.match(Object(qt.safeNewRegExp)(V,"i"))})):O}),[V,O]),G=Object(s.b)(f,200),H=p()("row-flex-center",A?"gd-color-disable gd-disabled cursor-not-allowed":"cursor-pointer");return i.a.createElement("div",{className:p()("flex1 row-flex pos-relative"),style:{height:160}},i.a.createElement("div",{className:"column-flex gd-border-table no-shrink",style:{padding:8,width:240,borderRight:"none",marginBottom:6}},i.a.createElement(bo,{style:{marginBottom:8},placeholder:Object(mn.c)(Km),value:N,onChange:function(e){return T(e.target.value)}}),i.a.createElement(ym,{emptyPlaceHolder:zm(v),search:N,isLoading:y,tableName:B,items:W,onItemClick:function(e){if(j(e.name),u){var n=r?r.replace("table",e.name):""+m+e.sql;f(n),Y()}},tooltipProps:{placement:"right"}})),i.a.createElement("div",{className:"flex1",style:{minWidth:0}},i.a.createElement(Xn,{key:U,value:m||"",options:{mode:"sql",readOnly:A},onChange:function(e){return G(e)},className:"content-h-full",style:{minHeight:150,maxHeight:150},supportSenior:a===h.TEXT_CODE})),a!==h.TEXT_CODE&&i.a.createElement("div",{className:"gd-bgColor-grey0 pos-absolute row-flex-center",style:{right:8,top:8,height:26,padding:"5px 8px",zIndex:10}},i.a.createElement("div",{className:H,onClick:A?ef:L},i.a.createElement(g.a,{name:"pannelRename",style:{marginRight:8}}),i.a.createElement("span",null,Object(mn.c)(Xm))),i.a.createElement(E.a,{type:"vertical",style:{width:"1px"}}),i.a.createElement("div",{className:H,onClick:A?ef:D},i.a.createElement(g.a,{name:"view_column",style:{marginRight:8}}),i.a.createElement("span",null,Object(mn.c)(Zm)))),S&&i.a.createElement(Vm,{params:{sql:F.current||m,dataSourceId:C},onCancel:_}),P&&i.a.createElement(qm,{dataSourceType:v,tables:O,sql:m,onConfirm:function(e){f(e),R(),Y()},onCancel:R,onPreview:function(e){F.current=e,D()}}))})),tf=t(221);function af(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var rf={id:"PLS_ENTER_TABLE_NAME",cn:"请输入目标表名 (表不存在则新建)",en:"Please enter the target table name (new table does not exist)"},of={id:"TABLE_NO_EXIST",cn:"表不存在则新建",en:"The table is created if it does not exist"},cf=function(){};function lf(e){var n=e.definition,t=e.tables,a=e.loading,r=Ba(n),c=r[0],l=r[1],u=r[2],d=Object(s.m)(),p=d[0],m=d[1],A=d[2],b=Object(o.useRef)(null),E=Object(o.useCallback)((function(e){return l(e.target.value)}),[l]),O=Object(o.useCallback)((function(e){return l(e.name)}),[l]);Object(s.h)(b,(function(){A()}));var y=Object(s.c)(c,200),C=Object(o.useMemo)((function(){return y?t.filter((function(e){return e.name.match(Object(qt.safeNewRegExp)(y,"i"))})):t}),[y,t]);return i.a.createElement(hn.a,{placement:"bottom",disabled:u,hideArrow:!0,content:!u&&i.a.createElement("div",{className:"scroll-y",style:{maxHeight:150,width:b.current?b.current.offsetWidth:void 0}},a&&i.a.createElement("div",{style:{height:150}},i.a.createElement(Nl.a,null)),!a&&0===t.length&&i.a.createElement(f.a,{className:"gd-color-desc-icon",style:{height:32,lineHeight:"32px",paddingLeft:10}},Object(mn.c)(of)),!a&&t.length>0&&i.a.createElement(ym,{tableName:c,items:C,onItemClick:O,customPlaceHolder:Object(mn.c)(of)})),visible:p,noPadding:!0},i.a.createElement("div",{className:"flex1",ref:b,onClick:u?cf:m},i.a.createElement(bo,{prefix:i.a.createElement(g.a,{name:"table"}),placeholder:Object(mn.c)(rf),value:c,onChange:E,disabled:u})))}function sf(e){var n=e.definition,t=e.tables,a=Rn()(e,["definition","tables"]),c=Object(o.useMemo)((function(){var e=(t||[]).map((function(e){return e.name}));return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?af(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):af(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{model:{labels:e,values:e,icons:e.map((function(){return{type:"name",value:"table"}}))}})}),[n,t]);return i.a.createElement(Dr,en()({definition:c},a,{allowClear:!0}))}var uf=i.a.memo((function(e){var n=e.definition,t=Rn()(e,["definition"]),a=n.model,r=a.supportInput,o=Xo(a.dataSourceIdFieldName),c=o[0],l=o[1];return i.a.createElement(tf.a,null,r&&i.a.createElement(lf,{definition:n,tables:c,loading:l}),!r&&i.a.createElement(sf,en()({definition:n,tables:c,loading:l},t)))}));function df(e){var n=e.type,t=e.model;switch(n){case G.DATASOURCE:return Ti;case G.RETRY:return Di;case G.TIMEOUT:return Ui;case G.TYPEMAP:return Ji;case G.STATIC_INPUTS:return ic;case G.VARIABLE_INPUTS:return gc;case G.STATIC_OUTPUTS:return hc;case G.VARIABLE_OUTPUTS:return _c;case G.RESOURCE_SELECTOR:return Gc;case G.RESOURCE_SELECTOR_MULTI_VALUE:return Qc;case G.DATASET:return ks;case G.ETL:return gu;case G.ETL_INPUTS:return Cu;case G.ETL_OUTPUTS:return ju;case G.PROCESS_SELECTOR:return ed;case G.DEPENDENT:return Gd;case G.PROCESS_PARAMS:return Kd;case G.FOLDER_SELECTOR:return Xd;case G.OUTPUT_SELECTOR:return tp;case G.DATASOURCE_SELECTOR:return cp;case G.FTP_OPERATION_SELECTOR:return up;case G.FTP_FILL_SUFFIX:return bp;case h.MODEL:switch(t&&t.modelType){case G.VALIDATION_RULES:return cm;case G.TABLE_NAME_SQL:return nf;case G.TABLE_SELECTOR:return uf;default:return ei(e)}default:return ei(e)}}function pf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function mf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pf(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ff=[{id:"BASIC-SETTINGS",cn:"基本设置",en:"Basic settings",icon:"general",key:v.CONVENTIONAL},{id:"CONFIGURATION",cn:"节点配置",en:"Configuration",icon:"setting",key:v.NODE_CONFIG},{id:"RUN-OPTION",cn:"运行选项",en:"Run option",icon:"options",key:v.RUN_OPTION}];function Af(e){return i.a.createElement(xa,{def:e.def,style:mf({width:140,paddingRight:20,height:32},e.style),titleProps:{className:"text-ellipsis",style:{maxWidth:120}},prefix:e.prefix,suffix:e.suffix})}Af.propTypes={def:l.a.object,prefix:l.a.node,suffix:l.a.node,style:l.a.object};var gf={getTargetCFGClass:df,TitleClass:Af};function bf(e){var n,t=e.task,a=e.definitions,r=e.onChange,c=e.readonly,l=e.outside,s=e.style,u=Object(o.useState)(ff[1].key),d=u[0],p=u[1],m=Object(o.useState)(t),f=m[0],A=m[1],g=Object(o.useCallback)((function(e){var n=Q(a,e);A(n),r&&r(n,0===Oa(a,n).length)}),[a,r]);return i.a.createElement(je,{definitions:a,readonly:c,config:f,onChange:g},i.a.createElement(Nr,{outside:l},i.a.createElement(ri.Provider,{value:gf},(n=a.filter((function(e){return d===v.NODE_CONFIG?!e.panelType:e.panelType===d})),i.a.createElement("div",{className:"row-flex",style:{height:"calc(100% - 45px)"}},i.a.createElement(ca,{items:ff,activeKey:d,onChange:p}),i.a.createElement("div",{className:"flex1 scroll-xy row-flex-center"},i.a.createElement("div",{style:{height:"100%",width:"90%",margin:"0 auto",minWidth:400}},i.a.createElement(li,{definitions:n,style:mf({padding:"20px 0"},s),getCustomCFGClass:df}))))))))}function Ef(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Of(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ef(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ef(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}bf.propTypes={task:l.a.object,definitions:l.a.array,onChange:l.a.func,readonly:l.a.bool,outside:l.a.object,style:l.a.object};var yf={id:"DUPLICATE_DS_NAME",cn:"数据集名称已存在",en:"Duplicate dataset name exists"};var Cf=function(e,n){return function(e,n){return n[Object(de.f)(e)]||{definitions:[]}}(e,n)},hf=function(e,n,t){return n.filter((function(n){return n.id!==e.id})).map((function(e){return Of({id:e.id,name:e.name},ke(Cf(e,t).definitions,e))}))},vf=function(e){return e.params.dataset&&"SAVE_DATA"===e.params.operationType};function If(e,n,t,a,r){var i=Object(o.useReducer)((function(e){return e+1}),0)[1],c=Object(o.useRef)(e.map(B.a.prop("id"))),l=Object(o.useRef)(e.map(B.a.prop("id"))),u=Object(o.useRef)(e.filter((function(e){return(n||[]).some((function(n){return n.id===D()(e,"params.datasource")}))})).map(B.a.prop("id"))),d=Object(o.useRef)([]),p=Object(s.j)(e),m=Object(o.useRef)(!1),f=function(n){void 0===n&&(n=e);var t=n.filter(vf);if(t.length){var a=(p||[]).filter(vf),o=t.filter((function(e){if(!p)return!1;var n=a.find((function(n){return n.id===e.id}));return!(n&&e.params.dataset.name===n.params.dataset.name&&e.params.dirId===n.params.dirId)}));o.length?(m.current=!0,function(e,n){return Promise.all(e.map((function(e){var t=e.params,a=t.dataset,r=t.dirId,o={name:a.name,taskId:e.id,processDefinitionId:n};return r&&(o.dirId=r),Il(o).catch((function(){return null}))}))).then((function(n){return n.map((function(n,t){return Of({},n,{name:e[t].params.dataset.name,dirId:e[t].params.dirId,id:e[t].id})}))}))}(o,r).then((function(e){d.current.length=0,e.forEach((function(e){e.isValid||(w.a.warn(Object(mn.c)(yf)),d.current.push(e))})),m.current=!1,i()}))):d.current.length=0}};return Object(o.useEffect)((function(){l.current=[],c.current=[],u.current=[],e.forEach((function(a){var r;!function(e){if("SQL"===e.type){var t=D()(e,"params.datasource");t&&(n||[]).some((function(e){return!t||e.id===t}))&&!u.current.includes(e.id)&&u.current.push(e.id)}}(a),function(n,a){void 0===a&&(a=e);var r=ke(Cf(n,t).definitions,n).inputs,o=hf(n,a,t);r.every((function(e){if(!e.depTaskId)return!0;var n=o.find((function(n){return n.id===e.depTaskId}));return n&&n.outputs.some((function(n){return n.name===e.depTaskOutputLane}))}))&&l.current.push(n.id)}(a,e),0===Oa(Cf(r=a,t).definitions,r).length&&c.current.push(r.id)})),!a&&f(e),i()}),[e]),{inputsValidTasks:l,datasourceValidTasks:u,configValidTasks:c,datasetInValidTasks:d,isTesting:m}}var Nf={id:"OR",cn:"或",en:" or"},Tf={id:"IMPORT",cn:"导入",en:"Import"};function xf(e){var n=e.type,t=e.handleImport;return i.a.createElement("div",{className:"pos-absolute",style:{left:"50%",top:"50%",marginLeft:"-45px",marginTop:"-5px",zIndex:2}},""+ht(n),Object(mn.c)(Nf),i.a.createElement("span",{className:"gd-color-primary cursor-pointer",style:{marginLeft:3},onClick:t},""+Object(mn.c)(Tf)+Ct(n)))}t(684);var Bf=t(1055),jf=t(1056);function wf(e){var n=e.scale,t=e.min,a=e.max,r=e.onChange;return i.a.createElement("div",{className:"row-flex-center jc-around pos-absolute gd-bgColor-grey0 btn-shadow",style:{top:12,right:18,width:100,height:30,borderRadius:14,zIndex:1}},i.a.createElement("div",null,i.a.createElement(g.a,{className:"font-m",name:"minus",style:{color:"var(--color-grey-500)"},onClick:function(){return r(Math.max(n-10,t))}})),i.a.createElement("div",{className:"gd-color-title"},n,"%"),i.a.createElement("div",null,i.a.createElement(g.a,{className:"font-m",name:"btn-add",style:{color:"var(--color-grey-500)"},onClick:function(){return r(Math.min(n+10,a))}})))}var Sf={id:"AUTO_LAYOUT",cn:"自动布局",en:"Auto Layout"},Df={id:"REVOKE_HINT",cn:"撤销 Cmd/Ctrl+Z",en:"Revoke Cmd/Ctrl+Z"},_f="row-flex-center jc-space gd-bgColor-grey0 btn-shadow gd-color-desc",kf=function(){};function Pf(e){var n=e.handleAutoLayout,t=e.handleRevoke,a=e.canUndo;return i.a.createElement("div",{className:"row-flex"},i.a.createElement("div",{className:p()(_f,"gd-hover-primary gd-hover-opacity-border cursor-pointer"),style:{width:88,height:30,padding:10},onClick:n},i.a.createElement(g.a,{className:"font-l",name:"autolayout",style:{color:"inherit"}}),i.a.createElement("span",{className:""},Object(mn.c)(Sf))),a&&i.a.createElement(yn.a,{title:a?Object(mn.c)(Df):"",mouseLeaveDelay:.1,placement:"bottomLeft"},i.a.createElement("div",{className:p()(_f,a?"gd-hover-primary gd-hover-opacity-border cursor-pointer":"gd-color-disable cursor-not-allowed"),style:{height:30,zIndex:1,padding:10,marginLeft:10},onClick:a?t:kf},i.a.createElement(g.a,{className:"font-l",name:"rollback",style:{color:"inherit"}}))))}t(714),t(1148);var Lf=function(e,n,t,a){var r=a.x,o=a.y,i=a.zoom,c={x:0,y:0},l=t.getBoundingClientRect(),s=e-l.left,u=n-l.top;return c.x=(s+t.scrollLeft)/i-r,c.y=(u+t.scrollTop)/i-o,c},Rf=function(e,n,t){var a={x:0,y:0},r=t.getBoundingClientRect(),o=e-r.left,i=n-r.top;return a.x=o,a.y=i,a},Mf=function(e,n,t,a,r,o){var i=Lf(t,a,r,o);return{x:i.x-e/2,y:i.y-n/2}},Uf=function(e,n,t,a){if(!e||!t)return"M 0 0 T 0 0";var r="M "+(e+5)+" "+n,o="Q "+(e+30)+" "+n+" "+(t+e)/2+" "+(a+n)/2,i="T "+t+" "+a;return Math.abs(a-n)<=4?r+" "+i:r+" "+o+" "+i},Yf=function(e,n){return e?e-10+","+(n-5)+" "+(e+","+n)+" "+(e-10+","+(n+5)):"0,0 0,0 0,0"};var Ff=function(e,n,t){var a=[];if(!t||!n)return a;var r=n.x-e.x,o=n.y-e.y,i=r>0?[e.x,n.x]:[n.x,e.x],c=o>0?[e.y,n.y]:[n.y,e.y];return Object.keys(t||[]).forEach((function(e){var n=t[e].x,r=t[e].y,o=n+Fe,l=r+Ve;i[0]<n&&i[1]>n&&c[0]<r&&c[1]>r?a.push(e):i[0]<o&&i[1]>o&&c[0]<l&&c[1]>l&&a.push(e)})),a};function Vf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var Wf={fromX:0,fromY:0,toX:0,toY:0};function Gf(e){var n=e.link,t=void 0===n?function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vf(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},Wf):n,a=t.fromX,o=t.fromY,c=t.toX,l=t.toY,s=Uf(a,o,c-10,l),u=Yf(c,l);return i.a.createElement("g",null,i.a.createElement("g",{className:"simulate"},i.a.createElement("path",{d:s,className:"edge dash"}),i.a.createElement("polyline",{points:u,className:"arrow"})))}var Hf=t(1149),Qf=t.n(Hf),Jf="row-flex-center jc-center drag-handle content-full cursor-pointer";function zf(e){var n;T()(Qf.a);var t=e.children,a=e.id,r=e.IOSpec,o=void 0===r?Ye:r,c=e.x,l=e.y,s=e.handleMouseDown,u=e.node,d=e.connections,m=e.multipleEndpoints,f=function(e){if(m&&-1!==o.inputNumber){if(u.targetarr&&u.targetarr.split&&u.targetarr.split(",").length===o.inputNumber)return!1;if(d.length&&d.every((function(n){return n.endPointTargetId===a&&e===n.targetIndex})))return!1}return!0},A={width:Fe,height:Ve,position:"absolute",touchAction:"none",zIndex:1};return i.a.createElement("foreignObject",{x:c,y:l,overflow:"visible",height:80,width:80},i.a.createElement("div",{onMouseDown:function(e){s(e,a)},onMouseUp:function(){var n=function(e,n,t){if(1===D()(n,"inputNumber",1))return 0;var a=D()(e,"targetarr","");if(!a)return 0;if(!t||!t.length)return 0;var r=[];return t.forEach((function(e){e.endPointSourceId===a&&r.push(e.targetIndex)})),[0,1,2,3].find((function(e){return!r.includes(e)}))}(u,o,d);f(n)&&e.handleLinkEnd(a,n)},onDragStart:function(){return!1},style:A},i.a.createElement("div",{className:p()(Qf.a.node,(n={},n[Qf.a.selected]=e.isSelected,n[Qf.a.prevent]=e.isMultiSelectMode,n),Jf)},t),e.renderNodePoint({IOSpec:o,onMouseDownRightAnchor:function(n,t){0===n.button&&e.handleLinkStart(c+Fe,l+Ve/2,a,t)},onMouseDownLeftAnchor:function(){},onMouseUpLeftAnchor:function(n,t){f(t)&&e.handleLinkEnd(a,t)}})))}var qf=function(e){function n(n){var t;return(t=e.call(this,n)||this).state={isLoaded:!1},t}wn()(n,e);var t=n.prototype;return t.componentDidMount=function(){this.setState({isLoaded:!0})},t.render=function(){var e=this,n=this.props,t=n.content,a=n.clientX,r=n.clientY;return i.a.createElement("div",{ref:function(n){e.anchorEl=n},style:{position:"fixed",left:a||0,top:r||0,width:0,height:0,zIndex:5}},i.a.createElement(hn.a,{visible:!1},t))},n}(o.Component);r()(qf,"propTypes",{content:l.a.node,clientX:l.a.number,clientY:l.a.number});var Kf={id:"DELETE",cn:"删除",en:"Delete"};function Xf(e){var n=e.position,t=e.onClick,a=i.a.createElement("div",{className:"row-flex-center jc-center gd-bgColor-grey0 btn-shadow br-2 gd-hover-grey cursor-pointer",style:{width:45,height:32},onMouseDown:t},i.a.createElement(f.a,{className:"gd-color-desc"},Object(mn.c)(Kf))),r={clientY:n.y+10,clientX:n.x,content:a};return i.a.createElement(qf,r)}var Zf=t(1152),$f=t.n(Zf),eA={id:"COPY",cn:"复制",en:"Copy"},nA={id:"DELETE",defaultMessage:"删除"};function tA(e){var n=e.position,t=e.onBatchCopy,a=e.onBatchDelete;T()($f.a);var r={className:"row-flex-center jc-space gd-hover-grey",style:{height:32,padding:"0 10px"}},o=i.a.createElement("div",{className:p()("column-flex gd-bgColor-grey0 btn-shadow cursor-pointer br-2",$f.a.container),style:{width:146,height:64}},i.a.createElement("div",en()({},r,{onMouseDown:t}),i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:"copy gd-color-desc-icon",style:{marginRight:6}}),i.a.createElement(f.a,{className:"gd-color-desc"},Object(mn.c)(eA))),i.a.createElement(f.a,{className:"gd-color-desc"},"Cmd+C")),i.a.createElement("div",en()({},r,{onMouseDown:a}),i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:"h_delete gd-color-desc-icon",style:{marginRight:6}}),i.a.createElement(f.a,{className:"gd-color-desc"},Object(mn.c)(nA))),i.a.createElement(f.a,{className:"gd-color-desc"},"Del"))),c={clientY:n.y+10,clientX:n.x,content:o};return i.a.createElement(qf,c)}function aA(e){var n=e.onDrop,t=Rn()(e,["onDrop"]),a=Object(Za.a)({accept:"TASK",drop:n})[1];return i.a.createElement("div",en()({className:"content-full",ref:a},t),e.children)}function rA(e){var n=e.activeId,t=e.setActiveId,a=e.annotation,r=e.setEventType,c=a||{},l=c.hidden,s=c.list,u=void 0===s?[]:s,d=Object(o.useCallback)((function(e,n){e.stopPropagation(),t(n),r(Re.DRAG_ANNOTATION)}),[t,r]);return l?null:i.a.createElement(i.a.Fragment,null,u.map((function(e){var t=e.width,a=e.height,r=e.x,o=e.y,c=e.content,l=e.id;return i.a.createElement("foreignObject",{key:l,x:r,y:o,width:t,height:a},i.a.createElement("div",{key:l,className:"br-2",style:{display:n===l?"none":"block",height:"100%",backgroundColor:"var(--color-comment)",border:"1px solid var(--color-yellow)",padding:12,wordBreak:"break-all",lineHeight:"18px"},onClick:function(e){return d(e,l)}},c))})))}function oA(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function iA(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oA(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oA(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var cA={id:"EDIT",cn:"编辑",en:"Edit"},lA={id:"CANCEL",cn:"取消",en:"Cancel"},sA={id:"DELETE",cn:"删除",en:"Delete"},uA={id:"CONFIRM",cn:"确定",en:"Confirm"},dA={id:"PLEASE_INPUT",cn:"请输入",en:"Please input"},pA=function(e,n,t){var a=n||500,r=t||150;return e>a?a:e<r?r:e},mA={bottom:-5,right:-5,width:10,height:10,backgroundColor:"var(--color-yellow)",transform:"rotate(45deg)",cursor:"nwse-resize"},fA="cursor-pointer gd-hover-grey text-center";function AA(e){var n=e.id,t=e.annotation,a=e.annotationChange,r=e.transform,c=e.setEventType,l=e.processId,u=e.eventType,d=e.setActiveAnnotationId,p=Object(o.useState)(!1),m=p[0],A=p[1],b=Object(o.useState)(!1),E=b[0],O=b[1],y=Object(o.useRef)(null),C=Object(o.useRef)(null),h=Object(o.useRef)(null),v=Object(o.useState)((function(){return t.list.find((function(e){return e.id===n}))})),I=v[0],N=v[1],T=t.list.findIndex((function(e){return e.id===n})),x=I.x,B=I.y,j=I.width,w=I.height,S=I.content,D=Object(o.useState)(S),_=D[0],k=D[1];Object(s.d)("mousemove",(function(e){if(E){var n=document.getElementById("dag-container-1-"+l).childNodes[0].getBoundingClientRect(),t=n.left,a=n.top;switch(u){case Re.DRAG_ANNOTATION:var o=(e.clientX-t-y.current.x)/r.zoom-r.x,i=(e.clientY-a-y.current.y)/r.zoom-r.y;N(iA({},I,{x:o,y:i}));break;case Re.EXPAND_ANNOTATION:var c=(e.clientX-t)/r.zoom-r.x-x,s=(e.clientY-a)/r.zoom-r.y-B;N(iA({},I,{width:pA(c,500,128),height:pA(s,500,90)}))}window.getSelection().removeAllRanges()}})),Object(s.d)("mouseup",(function(){if(E){var e=t.list.slice();e[T]=I,a(iA({},t,{list:e})),O(!1),document.body.style.cursor="auto",window.getSelection().removeAllRanges()}}));var P=Object(o.useCallback)((function(){document.body.style.cursor="nwse-resize",O(!0),c(Re.EXPAND_ANNOTATION,!0)}),[c]),L=Object(o.useCallback)((function(e){var n=C.current.getBoundingClientRect(),t=n.top,a=n.left;y.current={x:e.clientX-a,y:e.clientY-t},O(!0),c(Re.DRAG_ANNOTATION,!0)}),[c]),R=Object(o.useCallback)((function(){N(iA({},I,{content:_}));var e=t.list.slice();e[T]=iA({},I,{content:_}),a(iA({},t,{list:e})),A(!1)}),[I,t,a,T,_]),M=Object(o.useCallback)((function(){var e=t.list.slice();e.splice(T,1),a(iA({},t,{list:e})),d(null)}),[t,a,T,d]),U=Object(o.useCallback)((function(e){e.stopPropagation(),A(!0),O(!1)}),[]),Y=i.a.createElement("div",{className:"br-2",style:{width:50}},i.a.createElement(f.a,{className:fA,style:{lineHeight:"25px"},onClick:U},Object(mn.c)(cA)),i.a.createElement(f.a,{className:fA,style:{lineHeight:"25px"},onClick:M},Object(mn.c)(sA)));return Object(s.d)("wheel",(function(e){return e.stopPropagation()}),h.current),i.a.createElement("div",{ref:h,className:"pos-absolute br-2 scroll-hidden",style:{left:(x+r.x)*r.zoom,top:(B+r.y)*r.zoom,width:j*r.zoom,height:w*r.zoom,backgroundColor:"var(--color-grey-000)",opacity:.8,border:"2px solid var(--color-yellow)"},onMouseDown:function(e){return e.stopPropagation()}},!m&&i.a.createElement("div",{ref:C,className:"pos-absolute-full scroll-y",onMouseDown:L,onDoubleClick:function(){return A(!0)},style:{padding:"11px 11px",lineHeight:"18px",wordBreak:"break-all"}},S),m&&i.a.createElement("div",{className:"pos-absolute-full column-flex",style:{padding:"8px 8px 0 8px"}},i.a.createElement(bt.TextArea,{value:_,onChange:function(e){return k(e.target.value)},className:"flex1",autoFocus:!0,placeholder:Object(mn.c)(dA),style:{wordBreak:"break-all",padding:8}}),i.a.createElement("div",{className:"row-flex-center jc-end",style:{height:40}},i.a.createElement(Jc.CancelButton,{size:"small",onClick:function(){return A(!1)},style:{minWidth:50}},Object(mn.c)(lA)),i.a.createElement(Jc.PrimaryButton,{size:"small",onClick:R,style:{minWidth:50}},Object(mn.c)(uA)))),i.a.createElement("div",{className:"pos-absolute",onMouseDown:P,style:mA}),!m&&i.a.createElement(hn.a,{content:Y,trigger:"hover",noPadding:!0,placement:"bottom",hideArrow:!0},i.a.createElement(g.a,{name:"more-ver",className:"pos-absolute font-xl",style:{right:0,top:2}})))}var gA,bA=t(1154),EA=t.n(bA);function OA(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function yA(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?OA(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):OA(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var CA={id:"DUPLICATE_NAME",cn:"名称已存在",en:"Duplicate name exists"},hA={id:"EMPTY_NAME",cn:"名称为空",en:"Empty name"},vA=function(e,n,t){if(!e)return!1;var a="";return""===e.name&&(a=""+vt(n)+Object(mn.c)(hA)),t.filter((function(n){return n.id!==e.id})).some((function(n){return n.name===e.name}))&&(a=""+vt(n)+Object(mn.c)(CA)),a&&w.a.warning(a),!a},IA=zt()(EA.a)(gA=function(e){function n(n){var t;return t=e.call(this,n)||this,r()(Bn()(t),"eventLocation",void 0),r()(Bn()(t),"isDragging",void 0),r()(Bn()(t),"currentNodeId",void 0),r()(Bn()(t),"containerRef",void 0),r()(Bn()(t),"frameSelectionBoxRef",void 0),r()(Bn()(t),"regionStartCoord",void 0),r()(Bn()(t),"scaledRegionStartCoord",void 0),r()(Bn()(t),"maskPoint",void 0),r()(Bn()(t),"eventType",void 0),r()(Bn()(t),"onDrop",(function(e,n){if(!t.props.isReadonly){var a=t.props,r=a.stageConfigMap,o=a.onAddNode,i=a.processId,c=a.pan,l=a.zoom,s=Qe(),u=e.stageSpec,d=u.stageType,p=u.name,m=u.label,f=r[p].initConfig||r[p].config,A=m+"-"+Math.ceil(1e5*Math.random()),g=yA({id:s,type:d},f,{name:A}),b=document.getElementById("dag-container-1-"+i).childNodes[0].getBoundingClientRect(),E=b.left,O=b.top;o({type:"ADD_NODE",id:s,name:A,x:Math.floor((n.getClientOffset().x-c.x-E-25)/l),y:Math.floor(n.getClientOffset().y-c.y-O-25)/l,task:g})}})),r()(Bn()(t),"onKeyDown",(function(e){t.props.isReadonly||((e.ctrlKey&&"z"===e.key||e.metaKey&&"z"===e.key)&&t.props.onUndo(),("Backspace"===e.key||8===e.keyCode)&&t.state.selectedIds.length>0&&t.handleBatchDeleteNode(),(e.ctrlKey&&"c"===e.key||e.metaKey&&"c"===e.key)&&t.state.selectedIds.length>0&&t.handleBatchCopyNode())})),r()(Bn()(t),"onMouseDownPlayground",(function(e){if(2===e.button){if(t.props.isReadonly||!t.state.selectedIds.length)return;return t.setState({popupPosition:yA({},t.getCoord(e.clientX,e.clientY))}),void t.setEventType(Re.NONE)}if(0===e.button)switch(t.eventType){case Re.DRAG_PANEL:case Re.DRAG_LINK:case Re.CLICK_NODE:document.addEventListener("mousemove",t.onMouseMove),document.addEventListener("mouseup",t.onMouseUp,{passive:!1});break;case Re.DRAG_NODE:case Re.FRAME_SELECT:break;default:document.addEventListener("mousemove",t.onMouseMove),document.addEventListener("mouseup",t.onMouseUp,{passive:!1}),e.ctrlKey||e.metaKey||e.shiftKey?(t.handleRegionSelectStart(e),t.setEventType(Re.FRAME_SELECT)):(t.setEventType(Re.DRAG_PANEL),t.props.setActiveAnnotationId(null))}})),r()(Bn()(t),"onMouseMove",(function(e){switch(t.eventType){case Re.DRAG_PANEL:break;case Re.DRAG_LINK:window.getSelection().removeAllRanges();var n=t.getScaleCoord(e.clientX,e.clientY);t.setState((function(e){return{link:yA({},e.link,{toX:n.x,toY:n.y})}}));break;case Re.CLICK_NODE:if(Math.abs(t.eventLocation.x-e.clientX)<2&&Math.abs(t.eventLocation.y-e.clientY)<2)return;t.eventType=Re.DRAG_NODE;break;case Re.DRAG_NODE:if(t.props.isReadonly)return;if(Math.abs(t.eventLocation.x-e.clientX)<2&&Math.abs(t.eventLocation.y-e.clientY)<2)return;t.isDragging||t.props.onInStack();var a=Mf(Fe,Ve,e.clientX,e.clientY,t.containerRef.current,t.props.transform);if(t.isDragging=!0,t.state.selectedIds.length>0){var r=t.props.nodesMap[t.currentNodeId],o=r.x,i=r.y;t.props.onBatchUpdatePosition({ids:t.state.selectedIds,x:a.x-o,y:a.y-i})}else t.props.onUpdatePosition({id:t.currentNodeId,x:a.x,y:a.y});break;case Re.FRAME_SELECT:if(t.props.isReadonly)return;if(Math.abs(t.eventLocation.x-e.clientX)<2&&Math.abs(t.eventLocation.y-e.clientY)<2)return;var c=t.regionStartCoord,l=t.getCoord(e.clientX,e.clientY),s=t.scaledRegionStartCoord,u=t.getScaleCoord(e.clientX,e.clientY),d=l.x-c.x,p=l.y-c.y,m={left:d>0?c.x:c.x+d,top:p>0?c.y:c.y+p,width:Math.abs(d),height:Math.abs(p)},f=t.frameSelectionBoxRef.current;f.style.left=m.left+"px",f.style.top=m.top+"px",f.style.width=m.width+"px",f.style.height=m.height+"px";var A=Ff(s,u,t.props.nodesMap);t.setState({selectedIds:A})}})),r()(Bn()(t),"onMouseUp",(function(){switch(t.eventType){case Re.DRAG_PANEL:t.handleCloseConfig(),t.setState({selectedConnection:null,popupPosition:null});break;case Re.DRAG_LINK:t.setState({link:null});break;case Re.CLICK_NODE:t.setEventType(Re.NONE),t.setState({selectedNodeId:t.currentNodeId,selectedIds:[]});break;case Re.DRAG_NODE:break;case Re.FRAME_SELECT:var e=t.frameSelectionBoxRef.current;e.style.display="none",e.style.width="0",e.style.height="0"}document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp),t.setEventType(Re.NONE)})),r()(Bn()(t),"onPlaygroundMove",(function(e){t.eventType===Re.DRAG_PANEL&&t.props.dagProps.onMouseMove(e)})),r()(Bn()(t),"onContextMenu",(function(e){return e&&e.preventDefault(),!1})),r()(Bn()(t),"handleDeleteConnection",(function(e){e.stopPropagation();var n=t.state.selectedConnection,a=n.sourceId,r=n.targetId,o=n.sourceIndex,i=n.targetIndex;t.props.onDeleteConnection(a,r,o,i),t.setState({selectedConnection:null})})),r()(Bn()(t),"handleClickConnection",(function(e,n){if(!t.props.isReadonly){n.stopPropagation();var a=t.getCoord(n.clientX,n.clientY);t.setState({selectedConnection:yA({sourceId:e.endPointSourceId,targetId:e.endPointTargetId,id:e.endPointSourceId,sourceIndex:e.sourceIndex,targetIndex:e.targetIndex},a)})}})),r()(Bn()(t),"handleClickNode",(function(e,n){if(0===e.button){var a=t.state,r=a.selectedIds,o=a.selectedNodeId;if(t.eventLocation={x:e.clientX,y:e.clientY},t.eventType===Re.NONE){if(e.ctrlKey||e.metaKey||e.shiftKey){var i=r.findIndex((function(e){return e===n})),c=o?[].concat(r,[o]):[].concat(r);return-1===i?c.push(n):c.splice(i,1),void t.setState({selectedIds:c,selectedNodeId:""})}r.length>0&&!r.includes(n)&&t.setState({selectedIds:[]}),t.setEventType(Re.CLICK_NODE),t.getCurrentTask(t.state.selectedNodeId)&&!t.checkConfigNameValid()||(t.currentNodeId=n)}}})),r()(Bn()(t),"handleLinkStart",(function(e,n,a,r){t.props.isReadonly||(t.setEventType(Re.DRAG_LINK),t.setState({link:{fromX:e,fromY:n,toX:e,toY:n,sourceId:a,sourceIndex:r},selectedIds:[]}))})),r()(Bn()(t),"handleLinkEnd",(function(e,n){if(t.eventType===Re.DRAG_LINK){var a=t.state.link,r={sourceId:a.sourceId,targetId:e};Xe(r,t.props.nodesMap)&&t.props.onAddConnection(a.sourceId,e,a.sourceIndex,n),t.setState({link:null})}})),r()(Bn()(t),"handleRegionSelectStart",(function(e){t.setEventType(Re.FRAME_SELECT),t.eventLocation={x:e.clientX,y:e.clientY},t.regionStartCoord=t.getCoord(e.clientX,e.clientY),t.scaledRegionStartCoord=t.getScaleCoord(e.clientX,e.clientY),t.frameSelectionBoxRef.current.style.display="block"})),r()(Bn()(t),"handleBatchCopyNode",(function(e){e&&e.stopPropagation();var n=t.props.onBatchCopyNode(t.state.selectedIds);t.setState({selectedIds:n,popupPosition:null})})),r()(Bn()(t),"handleBatchDeleteNode",(function(){t.props.onBatchDeleteNode(t.state.selectedIds),t.setState({selectedIds:[],popupPosition:null})})),r()(Bn()(t),"handleCloseConfig",(function(){(t.checkConfigNameValid()||t.state.selectedIds.length>0)&&t.setState({selectedNodeId:"",selectedIds:[]})})),r()(Bn()(t),"checkConfigNameValid",(function(e){var n=t.getCurrentTask(e||t.state.selectedNodeId);return vA(n,t.props.type,t.props.tasks)})),r()(Bn()(t),"setEventType",(function(e,n){t.eventType=e,n&&t.forceUpdate()})),r()(Bn()(t),"getCurrentTask",(function(e){return t.props.tasks.find((function(n){return n.id===e||n.id===t.state.selectedNodeId}))})),r()(Bn()(t),"getIOSpec",(function(e){var n=t.props,a=n.tasks,r=n.stageConfigMap;return Je(a.find((function(n){return n.id===e})),r).IOSpec})),r()(Bn()(t),"getScaleCoord",(function(e,n){return Lf(e,n,t.containerRef.current,t.props.transform)})),r()(Bn()(t),"getCoord",(function(e,n){return Rf(e,n,t.containerRef.current)})),r()(Bn()(t),"renderEdges",(function(){var e=t.props,n=e.connections,a=void 0===n?[]:n,r=e.nodesMap;return a?a.map((function(e){var n=e.endPointSourceId,a=e.endPointTargetId,o=e.sourceIndex,i=e.targetIndex,c=yA({},{endPointSourceId:n,endPointTargetId:a,sourceIndex:o,targetIndex:i,sourceNode:r[n],targetNode:r[a]},{},{sourceNodeIOSpec:t.getIOSpec(n),targetNodeIOSpec:t.getIOSpec(a)},{key:n+"-"+a+"-"+o+"-"+i,onClickConnection:t.handleClickConnection,connection:e});return t.props.renderEdge(c)})):null})),r()(Bn()(t),"renderNodes",(function(){var e=t.state,n=e.selectedNodeId,a=e.selectedIds,r=t.props,o=r.nodesMap,c=r.tasks,l=r.stageConfigMap,s=r.connections,u=r.multipleEndpoints;return Object.keys(o||[]).map((function(e,r){var d=o[e],p=d.x,m=d.y,f=d.name,A=e+"-"+r,g=c.find((function(n){return n.id===e})),b=Je(g,l);return g?i.a.createElement(zf,{node:o[e],connections:s,multipleEndpoints:u,key:A,x:p,y:m,handleMouseDown:t.handleClickNode,handleLinkStart:t.handleLinkStart,handleLinkEnd:t.handleLinkEnd,id:e,name:f,IOSpec:b.IOSpec,renderNodePoint:t.props.renderNodePoint,isSelected:n===e||a.includes(e),isMultiSelectMode:t.state.selectedIds.length>0},t.props.renderNodeContent(g)):null}))})),r()(Bn()(t),"renderSimulateEdge",(function(){return t.state.link?i.a.createElement(Gf,{link:t.state.link}):null})),r()(Bn()(t),"renderDeletePop",(function(){return t.state.selectedConnection?i.a.createElement(Xf,{position:t.state.selectedConnection,onClick:t.handleDeleteConnection}):null})),r()(Bn()(t),"renderFrameSelection",(function(){return i.a.createElement("div",{style:{},className:EA.a.frameSelectionBox,ref:t.frameSelectionBoxRef})})),r()(Bn()(t),"renderOperationButton",(function(){return t.state.popupPosition?i.a.createElement(tA,{position:t.state.popupPosition,onBatchCopy:t.handleBatchCopyNode,onBatchDelete:t.handleBatchDeleteNode}):null})),r()(Bn()(t),"onMaskMouseDown",(function(e){t.maskPoint.x=e.clientX,t.maskPoint.y=e.clientY})),r()(Bn()(t),"onMaskMouseUp",(function(e){if(t.maskPoint.x===e.clientX&&t.maskPoint.y===e.clientY){var n=t.props,a=n.processId,r=n.pan,o=n.zoom,i=n.annotation,c=n.annotationChange,l=n.setIsAddAnnotation,s=n.setActiveAnnotationId,u=document.getElementById("dag-container-1-"+a).childNodes[0].getBoundingClientRect(),d=u.left,p=u.top,m=""+(new Date).getTime(),f={x:Math.floor((e.clientX-d)/o-r.x),y:Math.floor((e.clientY-p)/o-r.y),width:250,height:250,content:"",id:m};c(yA({},i,{list:(i&&i.list||[]).concat(f)})),l(!1),s(m)}})),r()(Bn()(t),"renderAnnotation",(function(){var e=t.props,n=e.annotation,a=e.type,r=e.activeAnnotationId,o=e.setActiveAnnotationId;return a!==It.DATAFLOW?null:i.a.createElement(rA,{activeId:r,setActiveId:o,annotation:n,setEventType:t.setEventType})})),t.state={link:null,popupPosition:null,selectedNodeId:"",selectedConnection:null,selectedIds:[]},t.containerRef=i.a.createRef(),t.frameSelectionBoxRef=i.a.createRef(),t.eventLocation=null,t.isDragging=!1,t.currentNodeId="",t.regionStartCoord=null,t.maskPoint={x:0,y:0},t.eventType=Re.NONE,t}wn()(n,e);var t=n.prototype;return t.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDown)},t.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDown)},t.render=function(){var e,n=this.props,t=n.width,a=n.height,r=n.zoom,o=n.transform,c=n.dagProps,l=n.multipleEndpoints,s=n.renderConfig,u=n.isReadonly,d=n.isAddAnnotation,m=n.annotation,f=n.annotationChange,A=n.processId,g=n.activeAnnotationId,b=n.setActiveAnnotationId,E=-o.x+","+-o.y+","+t/r+","+a/r,O=p()("content-full",l?EA.a.dataflow:EA.a.workflow);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",en()({className:O},c,{onMouseMove:this.onPlaygroundMove,onContextMenu:this.onContextMenu}),i.a.createElement(aA,{onDrop:this.onDrop,onMouseDown:this.onMouseDownPlayground},i.a.createElement("div",{ref:this.containerRef,className:p()(EA.a.dagContainer,(e={},e[EA.a.small]=r<1,e))},i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMin meet",viewBox:E,width:t,height:a},this.renderAnnotation(),this.renderEdges(),this.renderNodes(),this.renderSimulateEdge()),this.renderDeletePop(),this.renderOperationButton(),this.renderFrameSelection(),g&&i.a.createElement(AA,{key:g,id:g,setActiveAnnotationId:b,annotation:m,annotationChange:f,transform:o,setEventType:this.setEventType,eventType:this.eventType,processId:A}))),d&&i.a.createElement("div",{onMouseUp:this.onMaskMouseUp,onMouseDown:this.onMaskMouseDown,className:"pos-absolute-full",style:{cursor:"text"}})),s&&s(this.getCurrentTask(),this.handleCloseConfig,u))},n}(o.Component))||gA;function NA(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var TA={id:"ADD_ANNOTATION",cn:"添加注释",en:"Add Annotation"},xA={id:"CLICK_TO_SHOW_ANNOTATION",cn:"点击显示注释",en:"Click to show annotation"},BA={id:"CLICK_TO_HIDE_ANNOTATION",cn:"点击隐藏注释",en:"Click to hide annotation"},jA="row-flex-center gd-bgColor-grey0 btn-shadow gd-color-desc";function wA(e){var n=e.isAddAnnotation,t=e.setIsAddAnnotation,a=e.annotation,c=e.annotationChange,l=e.setActiveAnnotationId,s=a&&a.hidden,u=Object(o.useCallback)((function(){c(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?NA(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):NA(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},a,{hidden:!s})),l(null)}),[a,c,s,l]);return i.a.createElement("div",{className:jA,style:{marginLeft:10}},i.a.createElement(yn.a,{title:Object(mn.c)(TA)},i.a.createElement("div",{className:"cursor-pointer row-flex-center jc-center",style:{width:28,height:28},onClick:function(){return t(!n)}},i.a.createElement(g.a,{name:"comment_add",className:p()("gd-hover-primary font-l",{"gd-color-primary":n})}))),i.a.createElement(E.a,{type:"vertical",style:{height:15,margin:0}}),i.a.createElement(yn.a,{title:s?Object(mn.c)(xA):Object(mn.c)(BA)},i.a.createElement("div",{className:"cursor-pointer row-flex-center jc-center",onClick:u,style:{width:28,height:28}},i.a.createElement(g.a,{name:s?"hide":"show",className:"gd-hover-primary font-l"}))))}var SA=t(1156),DA=t.n(SA);function _A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function kA(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_A(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var PA={width:Fe,height:Ve},LA=function(e,n,t){n.forEach((function(n){var a=n.id;e.setNode(a,kA({label:a},PA));var r=t[a].targetarr;r&&r.split(",").forEach((function(n){e.setEdge(n,a)}))}))};function RA(e){T()(DA.a);var n=e.nodesMap,t=e.connections,a=e.tasks,r=e.isReadonly,c=e.processId,l=e.onUndo,s=e.canUndo,u=e.type,d=e.annotation,m=e.annotationChange,f=Object(Bf.a)({minZoom:.3,maxZoom:2,zoomSensitivity:.001}),A=f.setContainer,g=f.transform,b=f.pan,E=f.zoom,O=f.setZoom,y=f.panZoomHandlers,C=Object(o.useState)(!1),h=C[0],v=C[1],I=Object(o.useState)(null),N=I[0],x=I[1],B=parseInt((100*E).toFixed(0),10),j=function(e){y.onMouseMove(e)},w=kA({ref:function(e){A(e)}},y,{id:"dag-container-1-"+c}),S=e.isReadonly?w:kA({},w,{onMouseMove:j});return i.a.createElement("div",{id:"dag-container-"+c,className:p()(DA.a.container,"content-full")},i.a.createElement(IA,en()({transform:g,zoom:E,pan:b,dagProps:S,onPanMouseMove:j,isAddAnnotation:h,setIsAddAnnotation:v,activeAnnotationId:N,setActiveAnnotationId:x},e)),i.a.createElement(wf,{scale:B,onChange:function(e){O(e/100)},handleRevert:function(){O(1)},min:30,max:200}),i.a.createElement("div",{className:"pos-absolute row-flex",style:{top:12,left:18,zIndex:1}},!r&&a.length>0&&i.a.createElement(Pf,{handleAutoLayout:function(){var r=new jf.graphlib.Graph;r.setGraph({ranksep:100,nodesep:60,rankdir:"LR",marginx:200,marginy:20}),r.setDefaultEdgeLabel((function(){return{}})),LA(r,a,n),Object(jf.layout)(r);var o={};r.nodes().forEach((function(e){o[e]=kA({},n[e],{},r.node(e))})),e.onAutoPosition(a,o,t),O(1)},canUndo:s,handleRevoke:l}),u===It.DATAFLOW&&i.a.createElement(wA,{isAddAnnotation:h,setIsAddAnnotation:v,annotation:d,annotationChange:m,setActiveAnnotationId:x})))}function MA(e){var n=Object(s.n)().height,t=Object(o.useState)(!1),a=t[0],r=t[1],c=Object(o.useRef)(null),l=Object(o.useMemo)((function(){return c.current?[c.current.offsetWidth,c.current.offsetHeight]:[0,0]}),[c.current,n]);return Object(o.useEffect)((function(){r(!0)}),[]),i.a.createElement("div",{className:"content-full",ref:c},a&&i.a.createElement(RA,en()({width:l[0],height:l[1]},e)))}var UA=5;function YA(e){var n,t=e.sourceNode,a=e.targetNode,r=e.offset,o=void 0===r?-5:r,c=e.onClickConnection,l=e.connection,s=e.sourceIndex,u=void 0===s?0:s,d=e.targetIndex,p=void 0===d?0:d,m=(t.IOSpec||Ye).outputNumber,f=(a.IOSpec||Ye).inputNumber,A=t.x+Fe+UA+o,g=t.y+Ve*Me[m-1][u],b=a.x-o;n=-1===f?a.y+Ve*Me[0][0]:a.y+Ve*Me[Math.abs(f)-1][p];var E=Uf(A,g,b-15,n),O=Yf(b-10,n);return i.a.createElement("g",null,i.a.createElement("circle",{cx:A,cy:g,r:UA,className:"endpoint"}),i.a.createElement("g",{className:"path"},i.a.createElement("path",{d:E,className:"edge-ghost",onClick:function(e){c(l,e)}}),i.a.createElement("path",{d:E,className:"edge",onClick:function(e){c(l,e)}}),i.a.createElement("polyline",{points:O,className:"arrow"})))}var FA=t(620),VA=t.n(FA);function WA(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function GA(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?WA(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WA(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var HA={right:-5,width:10,height:10,borderRadius:"50%"},QA={left:-5,width:10,height:10,borderRadius:"50%"},JA=function(e){var n=e.style,t=void 0===n?{}:n,a=e.onMouseDownRightAnchor,r=e.sourceIndex;return i.a.createElement("div",{className:"pos-absolute output-point",style:GA({},HA,{},t),onMouseDown:function(e){a(e,r)}})},zA=function(e){var n=e.style,t=void 0===n?{}:n,a=e.onMouseUpLeftAnchor,r=e.targetIndex;return i.a.createElement("div",{className:"pos-absolute input-point",style:GA({},QA,{},t),onMouseUp:function(e){e.stopPropagation(),a(e,r)}})};function qA(e){var n=e.IOSpec,t=e.onMouseDownRightAnchor,a=e.onMouseUpLeftAnchor,r=n.inputNumber,c=n.outputNumber;return i.a.createElement(o.Fragment,null,r>0&&VA()(B.a.identity,r).map((function(e){return i.a.createElement(zA,{key:e,style:We[r-1][e],targetIndex:e,onMouseUpLeftAnchor:a})})),c>0&&VA()(B.a.identity,c).map((function(e){return i.a.createElement(JA,{key:e,style:We[c-1][e],sourceIndex:e,onMouseDownRightAnchor:t})})))}function KA(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function XA(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?KA(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):KA(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ZA={id:"ETL-INVALID",cn:"数据流存在风险, 请重新选择",en:"Dataflow has risks, please reselect"},$A={id:"PROCESS-INVALID",cn:"子工作流不存在, 请重新选择",en:"SubProcess was deleted, please reselect"};function eg(e,n){return n[Object(de.f)(e)]||{definitions:[]}}var ng=Object(o.forwardRef)((function(e,n){var t=e.customStage,a=e.configOutside,r=void 0===a?{}:a,c=e.processId,l=e.isInstance,u=function(e,n,t){void 0===n&&(n=Dt);var a=Object(o.useReducer)(n,e),r=a[0],i=r.locations,c=r.connects,l=r.tasks,s=r.stacks,u=r.annotation,d=a[1],p=Object(o.useRef)(Pt(!1)),m=Object(o.useCallback)((function(e){p.current=Pt(!0);["IN_STACK","UNDO","UPDATE_POSITION","AUTO_LAYOUT","BATCH_UPDATE_POSITION"].includes(e.type)||d({type:"IN_STACK"}),d(e)}),[d]),f=s.length>0;return{nodesMap:i,connections:c,tasks:l,onAdd:function(e){m(e)},onCopy:function(e){var n=i[e],t=Qe(),a=n.name+"-"+Math.ceil(100*Math.random()),r=kt({},L()(l.find((function(n){return n.id===e}))),{id:t,name:a});m({type:"COPY_NODE",id:t,name:a,x:n.x,y:n.y+100,task:r})},onAddConnection:function(e,n,a,r){void 0===a&&(a=0),void 0===r&&(r=0),t&&t.invalidate(n,c),m({type:"ADD_CONNECTION",source:e,target:n,sourceIndex:a,targetIndex:r})},onDeleteNode:function(e){t&&t.invalidate(e,c),m({type:"DELETE_NODE",id:e})},onDeleteConnection:function(e,n,a,r){void 0===a&&(a=0),void 0===r&&(r=0),t&&t.invalidate(n,c),m({type:"REMOVE_CONNECTION",source:e,target:n,sourceIndex:a,targetIndex:r})},onUpdateNode:function(e){t&&t.invalidate(e.id,c),m({type:"UPDATE_TASK",task:e})},onUpdatePosition:function(e){return m(kt({type:"UPDATE_POSITION"},e))},modifiedStatus:p,refreshTasks:function(e,n,t,a){m({type:"REFRESH_TASKS",tasks:e,nodesMap:n,connections:t,annotation:a})},onAutoLayout:function(e,n,t){m({type:"AUTO_LAYOUT",tasks:e,nodesMap:n,connections:t})},onInStack:function(){m({type:"IN_STACK"})},onUndo:function(){m({type:"UNDO"})},canUndo:f,onBatchUpdatePosition:function(e){return m(kt({type:"BATCH_UPDATE_POSITION"},e))},onBatchDeleteNode:function(e){m({type:"BATCH_DELETE_NODE",ids:e})},onBatchCopyNode:function(e){var n=Ze(e,i,l,c),t=n.copyIds,a=n.copyTasks,r=n.copyConnections,o=n.copyLocations;return m({type:"BATCH_COPY_NODE",tasks:a,connects:r,locations:o}),t},annotation:u,annotationChange:function(e){m({type:"ANNOTATION",annotation:e})}}}({locations:e.nodesMap,connects:e.connects,tasks:e.tasks,stacks:[]}),d=u.nodesMap,m=u.connections,f=u.tasks,A=u.onAdd,g=u.onCopy,b=u.onAddConnection,E=u.onDeleteNode,y=u.onDeleteConnection,C=u.onUpdateNode,h=u.onUpdatePosition,v=u.onAutoLayout,I=u.onUndo,N=u.onInStack,T=u.modifiedStatus,x=u.canUndo,j=u.onBatchUpdatePosition,w=u.onBatchDeleteNode,S=u.onBatchCopyNode,_=new Qt("TASK-FLOW",c);Object(o.useEffect)((function(){T.current.unsaved&&_.save({locations:d,connects:m,tasks:f})}),[m,_,T,d,c,f]),Object(s.f)((function(){T.current.unsaved&&_.refreshSession()}));var P=If(f,e.datasource,e.stageConfigMap,e.isInstance,e.processId),R=P.inputsValidTasks,U=P.datasourceValidTasks,Y=P.configValidTasks,F=P.datasetInValidTasks,V=P.isTesting,W=function(n){return eg(n,e.stageConfigMap)},G=Object(o.useCallback)((function(){var n=U.current.length===f.filter((function(e){return"SQL"===e.type&&D()(e,"params.datasource")})).length,t=Y.current.length===f.length,a=R.current.length===f.length,r=f.map((function(e){return e.name})),o=tn()(r).length===r.length,i=!F.current.length;e.onValidationChange&&e.onValidationChange(t&&n&&a&&o&&i&&!V.current)}),[U,f,Y,R,F,V]);Object(o.useImperativeHandle)(n,(function(){return{getDAGParams:function(){return{tasks:B.a.pipe(B.a.map((function(e){return function(e){return e&&"PLUGIN"===e.type?Object(M.getNewState)(e,(function(e){var n=D()(e,H);if(n){var t=Object.keys(n).map((function(e){return{name:e,value:n[e]}}));k()(e,H,t)}})):e}(e)})),B.a.map((function(e){return XA({},e,{preTasks:B.a.filter(B.a.identity)((d[e.id].targetarr||"").split(",")).map((function(e){return d[e].name}))})})),Pe(W))(f),locations:d,connects:m}},hasUnsavedModification:function(){return T.current.unsaved},clearUnsavedStatus:function(){return T.current.unsaved=!1}}}));var Q=function(e){C(e),O.b.emit(O.a.UPDATE_ETL_CONFIG,e)};return G(),i.a.createElement("div",{className:"row-flex gd-bgColor-default flex1 scroll-hidden"},!l&&i.a.createElement(En,{stageSpecs:e.stageSpecs,isReadonly:e.isReadonly}),i.a.createElement("div",{className:p()("pos-relative scroll-hidden flex1 row-flex",e.className),style:XA({backgroundColor:"var(--color-grey-50)"},e.style)},0===f.length&&i.a.createElement(xf,{type:It.PROCESS,handleImport:e.handleImport}),i.a.createElement(MA,en()({},e,{isReadonly:e.isReadonly,renderNodeContent:function(n){var a,o=n.id,c=t.renderStatusBar&&function(){return t.renderStatusBar(o)},s=l&&n.state!==ol.a.SUCCESS;if(!c){var u=[];"NORMAL"!==n.runFlag&&u.push(lt.FORBIDDEN_RUN),Y.current.includes(o)||u.push(lt.EMPTY),R.current.includes(o)||u.push(lt.INPUTS_MISSING),"SQL"===n.type&&D()(n,"params.datasource")&&!U.current.includes(o)&&u.push(lt.DATASOURCE_MISSING);var p=Ke([n]);if(p&&-1!==r.referencedProcess.ids.indexOf(p.processDefinitionId)){var m=p.processDefinitionId,f=p.processType,A=r.referencedProcess[m],b=null;f!==de.a.DATAFLOW?b=!A&&[lt.INVALID,Object(mn.c)($A)]:(!(a=A)||!1===a.isValid||function(e,n){var t=mu(e,n),a=t[0],r=t[1],o=t[2];return a===uu.VALID&&(r||o)}(B.a.path(["params","etl"],n),A))&&(b=[lt.INVALID,Object(mn.c)(ZA)]),b&&u.push(b)}vf(n)&&0!==F.current.length&&F.current.every((function(e){return e.id===o}))&&u.push(lt.DATASET_NAME_INVALID),c=function(){return i.a.createElement(mt,{items:u})}}var O=eg(n,e.stageConfigMap),y=O.spec,C=void 0===y?{}:y,h=O.definitions,v=void 0===h?[]:h,I=s?"gd-bgColor-default shadow-bottom-ins":"gd-bgColor-grey0 shadow-bottom";return i.a.createElement(nt,{id:o,task:n,label:d[o].label,style:{height:"100%",width:"100%"},renderOpsBar:function(){return t.renderOpsBar(n,g,E)},renderStatusBar:c,name:n.name,className:I,isInstance:l,spec:{definitions:v}},i.a.createElement(dn,{type:C.stageType,subtype:C.subtype,name:C.name,iconBase64:C.iconBase64}))},renderConfig:function(e,n,t){return i.a.createElement(ra,{container:"#dag-container-"+c,visible:!!e,onClose:n,title:i.a.createElement(Tt,{type:It.PROCESS,key:e&&e.name,task:e,tasks:f,onUpdateNode:Q,readonly:t}),placement:"bottom",extent:353,id:e&&e.id||""},e&&i.a.createElement(bf,{key:e.id,task:e,definitions:W(e).definitions,onChange:C,readonly:t,outside:XA({},r,{upstreamStages:(a=e,o=f,o.filter((function(e){return e.id!==a.id})).map((function(e){return XA({id:e.id,name:e.name},ke(W(e).definitions,e))}))),config:e})}));var a,o},renderEdge:function(e){return i.a.createElement(YA,e)},renderNodePoint:function(e){return i.a.createElement(qA,e)},tasks:f,nodesMap:d,connections:m,onAddConnection:b,onUpdatePosition:h,onBatchUpdatePosition:j,onDeleteConnection:y,onAddNode:A,onBatchDeleteNode:w,onBatchCopyNode:S,processId:c,onAutoPosition:v,onUndo:I,onInStack:N,canUndo:x,type:It.PROCESS}))))}));ng.propTypes={isReadonly:l.a.bool,isInstance:l.a.bool,style:l.a.object,className:l.a.string,stageSpecs:l.a.array,customStage:l.a.shape({renderStatusBar:l.a.func,renderOpsBar:l.a.func}),stageConfigMap:l.a.object,configOutside:l.a.object,processId:l.a.number};var tg=ng;function ag(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var rg={id:"PROCESS_SETTING",cn:"工作流设置",en:"PROCESS SETTING"},og={id:"ETL_SETTING",cn:"数据流设置",en:"Data Flow SETTING"},ig={id:"NAME",cn:"名称",en:"Name"},cg={id:"POSITION",cn:"位置",en:"Position"},lg={id:"DESC",cn:"描述",en:"Description",key:"desc"},sg={id:"TIMEOUT_LIMIT",cn:"超时限制",en:"Timeout limit"},ug={id:"TIMEOUT_STRATEGY",cn:"超时策略",en:"Timeout strategy"},dg={id:"PH-DESC",cn:"请输入描述",en:"Please input description"},pg={id:"MINUTE",cn:"分",en:"Minute"},mg={WARN:"WARN",FAILED:"FAILED"},fg=[{label:Object(mn.c)({id:"TIMEOUT_WARNING",cn:"超时告警",en:"Timeout warning"}),value:mg.WARN},{label:Object(mn.c)({id:"TIMEOUT_FAIL",cn:"超时停止",en:"Timeout fail"}),value:mg.FAILED}];function Ag(e){var n=e.type,t=e.settings,a=e.disabled,c=t.name,l=t.dirId,s=t.description,u=t.timeout,d=t.timeoutStrategy,p=void 0===d?"":d,m=Object(o.useState)(c),A=m[0],g=m[1],b=Object(o.useState)(l),E=b[0],O=b[1],y=Object(o.useState)(s),C=y[0],h=y[1],v=Object(o.useState)(u),I=v[0],N=v[1],T=Object(o.useState)(!!u),x=T[0],B=T[1],j=Object(o.useState)(null!==p?p.split(","):[mg.WARN]),w=j[0],S=j[1],D=n===It.PROCESS;return i.a.createElement(Dn.a,{visible:e.visible,title:Object(mn.c)(D?rg:og),onOK:function(){var n={name:A,description:C,dirId:E};e.onOk(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ag(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ag(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{timeout:x?I:0,timeoutStrategy:w.join(","),globalParams:t.globalParams}))},onCancel:e.onClose,okButtonProps:{disabled:!(""!==A)},bodyStyle:{padding:"15px 24px"}},i.a.createElement("div",{className:"column-flex jc-start scroll-y",style:{maxHeight:400}},i.a.createElement("div",{className:"row-flex-center"},i.a.createElement("div",{style:{width:80},className:"text-ellipsis"},i.a.createElement(f.a,null,Object(mn.c)(ig))),i.a.createElement(Et.a,{style:{width:400},value:A,onChange:function(e){return g(e.target.value)},disabled:a})),i.a.createElement("div",{className:"row-flex-center",style:{marginTop:10}},i.a.createElement(f.a,{style:{width:80}},Object(mn.c)(cg)),i.a.createElement(hs,{disabled:a,dirId:E,onChange:O,style:{width:400},type:n})),i.a.createElement("div",{className:"row-flex-center",style:{marginTop:10}},i.a.createElement("div",{style:{width:80},className:"text-ellipsis"},i.a.createElement(f.a,null,Object(mn.c)(lg))),i.a.createElement(bt.TextArea,{style:{width:400},autoSize:{minRows:3,maxRows:3},value:C,onChange:function(e){return h(e.target.value)},placeholder:Object(mn.c)(dg),disabled:a})),D&&i.a.createElement(o.Fragment,null,i.a.createElement("div",{className:"row-flex-center",style:{height:32,marginTop:10}},i.a.createElement("div",{style:{width:80},className:"text-ellipsis"},i.a.createElement(f.a,null,Object(mn.c)(sg))),i.a.createElement("div",{className:"row-flex-center",style:{width:400}},i.a.createElement(Pa.a,{checked:x,onChange:function(e){B(e),u<1&&N(1)},disabled:a,size:"small"}),x&&i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(bt.InputNumber,{style:{width:96,marginLeft:24},value:I,onChange:N,precision:0,min:1,disabled:a}),i.a.createElement(f.a,{style:{marginLeft:8}},Object(mn.c)(pg))))),x&&i.a.createElement("div",{className:"row-flex-center",style:{height:32,marginTop:10}},i.a.createElement("div",{style:{width:80},className:"text-ellipsis"},i.a.createElement(f.a,null,Object(mn.c)(ug))),i.a.createElement("div",{className:"row-flex-center",style:{width:400}},i.a.createElement(Ma.CheckBoxGroup,{disabled:a,options:fg,defaultValue:w,onChange:S}))))))}Ag.defaultProps={type:de.a.WORKFLOW},Ag.propTypes={visible:l.a.bool,type:l.a.number,onClose:l.a.func,settings:l.a.shape({name:l.a.string,desc:l.a.string,timeout:l.a.number,globalParams:l.a.array}),disabled:l.a.bool};var gg=Ag,bg=t(679),Eg=t.n(bg);function Og(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function yg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Og(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Og(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Cg(e){var n=e.status,t=e.style,a=void 0===t?{}:t,r=Rn()(e,["status","style"]),o=[ol.d[n],ol.c[n]],c=o[0],l=o[1],s=Object(mn.c)(ol.b.find((function(e){return e.value===n}))),u=ol.a.RUNNING_EXEUTION===n;return i.a.createElement(yn.a,en()({title:s,hideArrow:!0},r),i.a.createElement(g.a,{name:c,spin:u,style:yg({},a,{color:l,fontSize:u?10:12})}))}Cg.propTypes={status:l.a.string,style:l.a.object};var hg,vg=Cg;!function(e){e.ASC="ascend",e.DESC="descend"}(hg||(hg={}));var Ig,Ng={orderType:hg.DESC,orderBy:"update_time"};!function(e){e.CREATE="create_time",e.UPDATE="update_time",e.START="start_time",e.END="end_time",e.JOIN="join_time"}(Ig||(Ig={}));var Tg,xg=t(1158),Bg=t.n(xg);function jg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var wg={id:"PROCESS_INS",cn:"工作流实例",en:"Process Instance"},Sg={id:"REFRESH",cn:"刷新",en:"Refresh"},Dg={id:"VIEW_ALL_INS",cn:"查看更多",en:"View all Instance"},_g={id:"NO_PROCESS_INS",cn:"暂无工作流实例",en:"No process Instance"},kg={id:"RECENT_RUN",cn:"最近运行",en:"Recent Run"},Pg={id:"RUNNING",cn:"运行中..",en:"Running"},Lg=zt()(Bg.a)(Tg=function(e){function n(n){var t;return t=e.call(this,n)||this,r()(Bn()(t),"fetchData",(function(){var e=t.props.processId;t.setState({inReq:!0}),Object(wu.e)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jg(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({pageNo:1,pageSize:5,processDefinitionId:e},Ng)).then((function(e){t.setState({list:e.totalList,inReq:!1,total:e.total})}))})),r()(Bn()(t),"handleRefresh",(function(){t.fetchData()})),r()(Bn()(t),"handleLink",(function(){var e=t.props,n=e.processId,a=e.name;window.open(Object(yt.c)()+"/definition/list/"+n+"/instances?name="+a)})),r()(Bn()(t),"handleClickItem",(function(e){t.props.hide(),O.b.emit(O.a.UPDATE_TABS,{id:e.id,name:e.name,isTaskFlowInstance:!0})})),r()(Bn()(t),"renderItem",(function(e,n){var a=e.name,r=e.state,o=e.startTime,c=e.endTime,l=r===ol.a.RUNNING_EXEUTION;return i.a.createElement("div",{key:e.id,className:p()(Bg.a.item,"cursor-pointer"),onClick:function(){return t.handleClickItem(e)}},i.a.createElement("div",{className:"row-flex-center jc-space"},i.a.createElement("div",{className:"row-flex-center"},i.a.createElement("div",{className:"file-type-s workflow-instance no-shrink",style:{marginRight:4}}),i.a.createElement(f.a,{className:"text-ellipsis"},a)),0===n&&i.a.createElement("span",{className:p()(Bg.a.tag,"gd-color-primary no-shrink font-s")},Object(mn.c)(kg)),i.a.createElement(vg,{status:r})),i.a.createElement("div",{className:p()(Bg.a.time,"gd-color-desc-icon text-ellipsis row-flex-center")},i.a.createElement("span",null,Object(Xa.b)(o)),i.a.createElement(E.a,{type:"vertical",className:Bg.a.divider}),i.a.createElement("span",null,l&&Object(mn.c)(Pg),!l&&pp()(c).diff(pp()(o),"seconds")+"s")))})),t.state={inReq:!1,list:[],total:0},t}wn()(n,e);var t=n.prototype;return t.componentDidMount=function(){this.fetchData()},t.render=function(){var e=this.state,n=e.list,t=e.inReq,a=e.total,r=!t&&n.length>0;return i.a.createElement("div",{className:Bg.a.container},i.a.createElement("div",{className:p()(Bg.a.header,"row-flex-center jc-space")},i.a.createElement(f.a,null,Object(mn.c)(wg)),i.a.createElement("div",{className:"row-flex-center cursor-pointer gd-hover-primary",onClick:this.handleRefresh},i.a.createElement(g.a,{name:"renew font-m",style:{marginRight:4}}),i.a.createElement("span",null,Object(mn.c)(Sg)))),i.a.createElement(E.a,null),i.a.createElement("div",{className:p()(Bg.a.body,r?Bg.a.auto:"")},t&&i.a.createElement(Nl.a,null),r&&n.map(this.renderItem),!t&&0===n.length&&i.a.createElement(Im,{icon:"empty gd-color-desc-icon",style:{height:280,opacity:.6}},i.a.createElement(f.a,{className:"font-m gd-color-desc-icon"},Object(mn.c)(_g)))),a>0&&i.a.createElement("div",{className:p()(Bg.a.footer,"row-flex-center jc-center")},n.length>0&&i.a.createElement(f.a,{onClick:this.handleLink,className:"cursor-pointer gd-color-primary row-flex-center jc-center"},Object(mn.c)(Dg),i.a.createElement(g.a,{name:"pagination-arrow-right",style:{marginLeft:2}}))))},n}(o.Component))||Tg,Rg=t(1160),Mg=t.n(Rg);function Ug(e){T()(Mg.a);var n=e.open,t=e.text,a=e.canCancel,r=e.onCancel,c=Object(o.useRef)(null);return Object(o.useEffect)((function(){n&&c.current&&c.current.focus()})),i.a.createElement(Dn.a,{className:"loading-spinner-modal",width:"auto",closable:!1,bodyStyle:{padding:15,minHeight:30},noFooter:!0,visible:n},i.a.createElement("div",{className:"loading-spinner-body row-flex-center"},i.a.createElement(g.a,{spin:!0,name:"loading"}),i.a.createElement("div",{className:"text-ellipsis",style:{padding:"0 10px"}},t),a&&i.a.createElement(g.a,{name:"modal-close",className:"font-l gd-color-primary",onClick:r}),i.a.createElement("input",{ref:c,hidden:!0})))}Ug.propTypes={open:l.a.bool,text:l.a.node,canCancel:l.a.bool,onCancel:l.a.func};t(1162);var Yg,Fg,Vg=t(1163),Wg=t.n(Vg),Gg=t(1164),Hg=t.n(Gg),Qg=t(1172),Jg=t.n(Qg),zg={id:"DC.UPLOAD-LIMIT-WARN",defaultMessage:"上传文件大小超过限制（{num}M）"},qg={id:"DC.UPLOADING",defaultMessage:"上传中"},Kg={id:"DC.UPLOADING",defaultMessage:"解析中"},Xg={id:"DC.CLICK-TO-UPLOAD",defaultMessage:"点击上传文件"},Zg={id:"DC.DRAG-TO-UPLOAD",defaultMessage:"或拖拽上传"},$g={id:"ETL.JSON-LIMIT",defaultMessage:"仅支持JSON格式文件"},eb={id:"UPLOAD-AGAIN",defaultMessage:"重新上传"},nb={id:"IMPORT-COMPLETE",defaultMessage:"导入完成"},tb={id:"DC.WRONG_FILE_FORMAT",defaultMessage:"文件格式不正确"},ab={id:"DC.WRONG_FILE_FORMAT",defaultMessage:"请上传JSON格式文件"},rb={id:"WRONG_FILE_PARSE",defaultMessage:"无法解析"},ob={id:"AGAIN-PICK-FILE",defaultMessage:"请重新选择文件"};function ib(e){if(null==e)return"0 Bytes";var n,t=parseFloat(e);n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.UPLOAD_DOING=1]="UPLOAD_DOING",e[e.UPLOAD_DONE=2]="UPLOAD_DONE",e[e.UPLOAD_ERROR=3]="UPLOAD_ERROR",e[e.READ_DOING=4]="READ_DOING",e[e.READ_DONE=5]="READ_DONE"}(Fg||(Fg={}));var cb,lb,sb={dragIn:!1,limit:500,status:Fg.DEFAULT,fileInfo:{content:"",size:"",name:""},accept:["json"],progressPercent:0,error:null},ub=function(){function e(e,n){r()(this,"file",void 0),r()(this,"reader",void 0),r()(this,"options",void 0),this.file=e,this.options=n,this.reader=new FileReader}var n=e.prototype;return n.validType=function(){var e=this.options.type;if(!e)return!1;var n=this.file.name.replace(/^.*\./,"").toLowerCase();return e.includes(n)},n.validLimit=function(){var e=this.options.limit;return!(this.file.size>1024*e*1024)},n.getSize=function(){return this.file.size},n.read=function(){var e=this.reader,n=this.file;return new Promise((function(t){e.readAsText(n),e.onloadend=function(e){if(e.target.readyState===FileReader.DONE&&"string"==typeof e.target.result){var a=JSON.parse(e.target.result);t({name:n.name,size:ib(n.size),content:a})}}}))},e}(),db=zt()(Jg.a)(Yg=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,r()(Bn()(n),"state",sb),r()(Bn()(n),"fileInputRef",i.a.createRef()),r()(Bn()(n),"rAF",void 0),r()(Bn()(n),"handleDragIn",(function(e){n.setState({dragIn:!0}),e.preventDefault(),e.stopPropagation()})),r()(Bn()(n),"handleDragOut",(function(e){n.setState({dragIn:!1}),e.preventDefault(),e.stopPropagation()})),r()(Bn()(n),"handleDropFile",(function(e){n.handleDragOut(e);var t=e.dataTransfer.files;n.handleFileChange(t)})),r()(Bn()(n),"handleFileInputChange",(function(e){var t=e.target.files;t.length<1||n.handleFileChange(t)})),r()(Bn()(n),"handleFileInputClick",(function(){n.fileInputRef.current&&n.fileInputRef.current.click()})),r()(Bn()(n),"handleFileChange",function(){var e=Tn()(In.a.mark((function e(t){var a,r,o,i,c,l;return In.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.validFile(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.props.onUpload){e.next=7;break}return n.count(),n.props.onUpload(t).then((function(){var e=t[0],a=e.size,r=e.name,o=e.content;n.setState({progressPercent:100,fileInfo:{size:a,name:r,content:o},status:Fg.READ_DONE}),window.cancelAnimationFrame(n.rAF)})).catch((function(e){n.setState({progressPercent:0,error:e,status:Fg.UPLOAD_ERROR}),window.cancelAnimationFrame(n.rAF)})),e.abrupt("return");case 7:if(a=n.state,r=a.accept,o=a.limit,(i=new ub(t[0],{type:r,limit:o})).validLimit()){e.next=12;break}return w.a.warning(Object(mn.c)(zg,{num:o})),e.abrupt("return");case 12:if(!i.validType()){e.next=27;break}return e.prev=13,e.next=16,i.read();case 16:c=e.sent,w.a.success(Object(mn.c)(nb)),e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(13),w.a.warning(Object(mn.c)(tb)),e.abrupt("return");case 24:n.setState({fileInfo:c,status:Fg.READ_DONE}),(l=n.props.onChange)&&l(c);case 27:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(n){return e.apply(this,arguments)}}()),r()(Bn()(n),"validFile",(function(e){var t=n.state,a=t.accept,r=t.limit,o=new ub(e[0],{type:a,limit:r});return o.validLimit()?!!o.validType()||(w.a.warning(Object(mn.c)(ab)),!1):(w.a.warning(Object(mn.c)(zg,{num:r})),!1)})),r()(Bn()(n),"count",(function(){var e=Math.min(96,n.state.progressPercent+.1);n.setState({progressPercent:e}),n.rAF=window.requestAnimationFrame((function(){n.count()}))})),r()(Bn()(n),"renderContent",(function(){var e=n.state,t=e.status,a=e.fileInfo;switch(t){case Fg.UPLOAD_DOING:return i.a.createElement(f.a,{color:"highlight",className:p()(Jg.a.upload,"row-flex-baseline")},i.a.createElement(g.a,{className:Jg.a.icon,name:"loading",spin:!0}),Object(mn.c)(qg));case Fg.READ_DONE:return i.a.createElement("div",{className:p()(Jg.a.read,"column-flex-center jc-center")},i.a.createElement(g.a,{className:p()(Jg.a.icon),name:"file_json  gd-color-primary"}),i.a.createElement("span",{className:p()(Jg.a.name,"gd-color-hint gd-ellipsis")},a.name),i.a.createElement("span",{className:p()(Jg.a.size,"gd-color-desc")},ib(a.size)),i.a.createElement(zc.a,{onClick:n.handleFileInputClick,className:p()("gd-color-hint")},Object(mn.c)(eb)));case Fg.UPLOAD_ERROR:return i.a.createElement("div",{className:p()(Jg.a.read,"column-flex-center jc-center")},i.a.createElement(g.a,{className:p()(Jg.a.icon),name:"df_json gd-color-red"}),i.a.createElement("span",{className:p()(Jg.a.name,"gd-color-hint gd-ellipsis")},Object(mn.c)(rb)),i.a.createElement("span",{className:p()(Jg.a.size,"gd-color-desc")},Object(mn.c)(ob)),i.a.createElement(zc.a,{onClick:n.handleFileInputClick,className:p()("gd-color-hint")},Object(mn.c)(eb)));default:return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{color:"title",className:p()(Jg.a.upload,"row-flex-baseline")},i.a.createElement("span",{className:"gd-color-primary",onClick:n.handleFileInputClick},i.a.createElement(g.a,{className:Jg.a.icon,name:"btn-add font-m"}),Object(mn.c)(Xg)),Object(mn.c)(Zg)),i.a.createElement(f.a,{className:Jg.a.hint,color:"desc"},Object(mn.c)($g)))}})),n}return wn()(n,e),n.prototype.render=function(){var e,n=this.state,t=n.dragIn,a=n.accept,r=n.progressPercent,o=r>0&&r<100;return i.a.createElement("div",{className:p()(Jg.a.container,"gd-border-dashed font-m column-flex-center jc-center",{"gd-color-bg":t}),onDragOver:this.handleDragIn,onDragEnter:this.handleDragIn,onDragLeave:this.handleDragOut,onDragExit:this.handleDragOut,onDrop:this.handleDropFile},r>0&&r<100&&i.a.createElement(Hg.a,{size:"small",percent:parseInt(String(r),10),status:"active",showInfo:!1,strokeWidth:2,className:Jg.a.progress}),o&&i.a.createElement("div",{className:"gd-color-primary"},i.a.createElement(g.a,{spin:!0,name:"loading",style:{marginRight:10}}),i.a.createElement("span",null,r>50?Object(mn.c)(Kg):Object(mn.c)(qg))),!o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:p()(Jg.a.content,"column-flex-center jc-center")},this.renderContent()),i.a.createElement("input",{ref:this.fileInputRef,accept:(e=a,e.map((function(e){return"."+e})).join(",")),onChange:this.handleFileInputChange,style:{display:"none"},type:"file"})))},n}(o.Component))||Yg,pb=t(1174),mb=t.n(pb);function fb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ab(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fb(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fb(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.IMPORT_FILE=0]="IMPORT_FILE"}(lb||(lb={}));var gb={title:{id:"IMPORT",defaultMessage:"导入"},cancel:{id:"CANCEL",defaultMessage:"取消"},confirm:{id:"CONFIRM",defaultMessage:"确定"},adjustTitle:{id:"UPLOAD-FILE",defaultMessage:"上传文件"},reselect:{id:"RESELECT",defaultMessage:"重新选择"},IMPORT_LEGEND:{id:"ETL.IMPORT-LEGEND",defaultMessage:"导入说明"},IMPORT_LEGEND_CONTENT1:{id:"ETL.IMPORT-LEGEND-CONTENT1",defaultMessage:"1. 新的 Smart ETL 中输入数据集及输出数据集将与原有的完成映射"},IMPORT_LEGEND_CONTENT2:{id:"ETL.IMPORT-LEGEND-CONTENT2",defaultMessage:"2. 原有 Smart ETL 中的数据处理节点将被清除替换为新的节点"},IMPORT_LEGEND_CONTENT3:{id:"ETL.IMPORT-LEGEND-CONTENT3",defaultMessage:"3. 原有 Smart ETL 中的节点间关系将被清除替换为新的节点间关系"},IMPORT_TITLE_INPUT:{id:"ETL.IMPORT-TITLE-INPUT",defaultMessage:"导入的输入数据集"},IMPORT_TITLE_ORIGIN_INPUT:{id:"ETL.IMPORT-TITLE-ORIGIN-INPUT",defaultMessage:"原有输入数据集"},IMPORT_TITLE_OUTPUT:{id:"ETL.IMPORT-TITLE-OUTPUT",defaultMessage:"导入的输出数据集"},IMPORT_TITLE_ORIGIN_OUTPUT:{id:"ETL.IMPORT-TITLE-ORIGIN-OUTPUT",defaultMessage:"原有输出数据集"},IMPORT_SELECT_TIPS:{id:"ETL.IMPORT-SELECT-TIPS",defaultMessage:"请选择对应数据集"},PLEASE_SELECT:{id:"PLEASE-SELECT",defaultMessage:"请选择"},UPLOADING:{id:"UPLOADING",defaultMessage:"上传中"},PARSING:{id:"PARSING",defaultMessage:"解析中"}},bb={id:"DC.WRONG_FILE_FORMAT",defaultMessage:"文件格式不正确"},Eb={step:lb.IMPORT_FILE,fileInfo:null,importInputs:[],importOutputs:[],exchangeInputs:{},isUploading:!1},Ob=zt()(mb.a)(cb=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,r()(Bn()(n),"state",Eb),r()(Bn()(n),"validateData",(function(e){return!!Array.isArray(D()(e,"content.meta"))})),r()(Bn()(n),"getInitialExchangeInputs",(function(e){var n=[].concat([]).map((function(e){return e.id})),t={};return e.forEach((function(e){n.includes(e.id)&&(t[e.id]=e.id)})),t})),r()(Bn()(n),"onFileUploadChange",(function(e){if(n.validateData(e)){var t=e.content.meta,a=e.content.meta;n.setState({fileInfo:e,importInputs:t,importOutputs:a,exchangeInputs:n.getInitialExchangeInputs(D()(e,"content.meta"))})}else w.a.warning(Object(mn.c)(bb))})),r()(Bn()(n),"onUpload",(function(e){return n.setState({isUploading:!0}),n.props.type===It.DATAFLOW?Object(rl.d)(e[0],n.props.id).then((function(t){return n.setState({fileInfo:{content:t,name:e[0].name,size:e[0].size}}),t})):Object(wu.j)(e[0],n.props.id).then((function(t){return n.setState({fileInfo:{content:t,name:e[0].name,size:e[0].size}}),t}))})),r()(Bn()(n),"renderImport",(function(){return i.a.createElement("div",{className:p()(mb.a.import),style:{display:n.isStepImportFile?"block":"none"}},i.a.createElement(db,{onUpload:n.onUpload,onChange:n.onFileUploadChange}))})),r()(Bn()(n),"onInputsChange",(function(e,t){var a;n.setState({exchangeInputs:Ab({},n.state.exchangeInputs,(a={},a[t]=e,a))})})),r()(Bn()(n),"renderSelect",(function(e,t){var a=n.state.exchangeInputs,r=t.filter((function(e){return!Object.entries(a).map((function(e){return e[1]})).filter(Boolean).includes(e.id)}));return i.a.createElement("div",{className:p()("row-flex-center")},a[e]===e?i.a.createElement(Cr.a,{className:p()(mb.a.select,"flex1"),placeholder:Object(mn.c)(gb.PLEASE_SELECT),onChange:function(t){return n.onInputsChange(t,e)},value:a[e],allowClear:!0,disabled:!0},t.map((function(e){return i.a.createElement(yr.Option,{key:e.id,value:e.id},i.a.createElement("div",{className:p()(mb.a.selectItem)},i.a.createElement("i",{className:p()(mb.a.selectIcon,"etl-icon",e.icon)}),e.name))}))):i.a.createElement(Cr.a,{className:p()(mb.a.select,"flex1"),placeholder:Object(mn.c)(gb.PLEASE_SELECT),onChange:function(t){return n.onInputsChange(t,e)},allowClear:!0},r.map((function(e){return i.a.createElement(yr.Option,{key:e.id,value:e.id},i.a.createElement("div",{className:p()(mb.a.selectItem)},i.a.createElement("i",{className:p()(mb.a.selectIcon,"etl-icon",e.icon)}),e.name))}))))})),r()(Bn()(n),"renderMappingList",(function(e,t,a,r,o){return i.a.createElement("table",{className:p()(mb.a.list)},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"gd-weight-6"},a)),i.a.createElement("td",null,i.a.createElement("div",{className:"gd-weight-6"},r)))),i.a.createElement("tbody",null,e.map((function(e){return i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,i.a.createElement("div",{className:p()(mb.a.title,"row-flex-center")},i.a.createElement("div",{style:{marginRight:8},className:p()("ds-icon-m","ds-icons dataflow-type")}),i.a.createElement("div",{className:"text-ellipsis",style:{maxWidth:280}},e.name))),i.a.createElement("td",null,n.renderSelect(e.id,t)))}))))})),r()(Bn()(n),"onConfirm",(function(){var e=n.state.fileInfo;n.props.onOk(e)})),r()(Bn()(n),"renderFooter",(function(){var e=Bn()(n).isStepImportFile,t=n.state.fileInfo,a=e&&t||!e;return i.a.createElement("div",{className:p()(mb.a.footer,"row-flex-center")},i.a.createElement("div",{className:p()("row-flex jc-end flex1")},i.a.createElement(zc.a,{type:"cancel",onClick:n.props.onCancel,style:{marginRight:"20px"}},Object(mn.c)(gb.cancel)),i.a.createElement(zc.a,{type:"primary",disabled:!a,onClick:n.onConfirm},Object(mn.c)(gb.confirm))))})),n}return wn()(n,e),n.prototype.render=function(){return i.a.createElement(Dn.a,{title:""+Ct(this.props.type)+Object(mn.c)(gb.title),visible:!0,noFooter:!0,width:665,onCancel:this.props.onCancel,bodyStyle:{padding:"0"}},i.a.createElement("div",{className:p()(mb.a.body)},this.renderImport()),this.renderFooter())},Wg()(n,[{key:"isStepImportFile",get:function(){return this.state.step===lb.IMPORT_FILE}}]),n}(o.Component))||cb;function yb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Cb(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yb(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yb(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var hb=function(e){return i.a.createElement("div",{style:Cb({padding:"0 8px",height:24},e.style),className:"gd-bgColor-default row-flex-center br-4"},i.a.createElement(g.a,{className:"font-m gd-color-"+(e.color||"desc"),name:e.icon}),i.a.createElement(f.a,{style:{marginLeft:7}},e.text))},vb={OUTPUT_DATASET:"com_guandata_plugin_spark_target_dataset_OutputDataset",OUTPUT_DATA_SOURCE:"com_guandata_plugin_spark_target_sql_OutputDatasourceTarget"};function Ib(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Nb(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ib(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ib(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Tb={id:"SAVE",cn:"保存",en:"Save"},xb={id:"EDIT-CANCEL",cn:"取消编辑",en:"Cancel edit"},Bb={id:"SETTINGS",cn:"设置",en:"Settings"},jb={id:"FULLSCREEN",cn:"全屏",en:"Fullscreen"},wb={id:"EXIT_FULLSCREEN",cn:"退出全屏",en:"Exit Full Screen"},Sb={id:"ALREADY_ONLINE",cn:"已上线",en:"Online"},Db={id:"READONLY",cn:"只读",en:"Readonly"},_b={id:"COMPLETE_CONFIG",cn:"请先完成节点配置",en:"Please complete configuration first"},kb={id:"IMPORT_SUCCESS",cn:"导入成功",en:"Importm Success"},Pb={id:"OFFLINE",cn:"下线",en:"Offline"},Lb={id:"SAVE-AND-ONLINE",cn:"保存并上线",en:"Save and online"},Rb={id:"CLOSE",cn:"关闭",en:"Close"},Mb={id:"RUN",cn:"运行",en:"Run"},Ub={id:"PARAMS_LIST",cn:"参数列表",en:"Parameters list"},Yb={id:"CHECK_INSTANCE",cn:"查看实例",en:"Check Instance"},Fb={id:"IMPORT",cn:"导入",en:"Import"},Vb={id:"EXPORT",cn:"导出",en:"Export"},Wb={id:"DOWNLOADING",cn:"正在下载",en:"Downloading"},Gb={id:"SAVE_AND_RUN",cn:"保存并运行",en:"Save and run"},Hb={id:"NO_TARGET_NODE_WARN",cn:"无输出数据集或插入数据节点",en:"no target node"},Qb={id:"SAVING",cn:"保存中...",en:"Saving"},Jb=function(){},zb={height:"30px",lineHeight:"30px",textAlign:"center",outline:"none"},qb={SETTING:0,PARAMS:1,RUNNING:2,INVALID_TASK:3,IMPORT_DATAFLOW:4,INSTANCE:5,IMPORT:6,EXPORT:7};function Kb(e,n){var t=Object(s.m)(),a=t[0],r=t[1],c=t[2],l=Object(o.useState)(!1),u=l[0],d=l[1],p=Object(o.useState)(!1),m=p[0],A=p[1],b=!e.tasks||0===e.tasks.length,O=e.tasks&&!e.tasks.some((function(e){var n=D()(e,"params.stageConfig.name");return n===vb.OUTPUT_DATASET||n===vb.OUTPUT_DATA_SOURCE})),y=function(){var n=Tn()(In.a.mark((function n(){return In.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return A(!0),n.next=3,Object(wu.a)(Nb({},e.genTaskParams()));case 3:A(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C=[{label:Object(mn.c)(Fb),icon:"import_json",value:qb.IMPORT,disabled:e.isReadonly},{label:Object(mn.c)(Vb),icon:"export_json",value:qb.EXPORT,disabled:b}],h=Object(Jl.useDropdownMenu)(C,(function(e){switch(Number(e)){case qb.IMPORT:d(!0);break;case qb.EXPORT:y()}}),(function(e){return i.a.createElement("div",{className:"row-flex-center "+(e.disabled?"gd-color-disable gd-disabled":"gd-color-desc")},i.a.createElement(g.a,{name:e.icon,style:{marginRight:10}}),i.a.createElement("span",null,e.label))}));return Object(o.useImperativeHandle)(n,(function(){return{handleImport:function(){return d(!0)},handleExport:function(){return y}}})),e.isLoading?null:i.a.createElement("div",{className:"row-flex-center jc-space gd-bgColor-grey0 no-shrink",style:{height:46,width:"100%",padding:"0 17px",borderBottom:"1px solid var(--color-grey-300)"},id:"process-container"},i.a.createElement("div",{className:"row-flex"},i.a.createElement(f.a,{className:"gd-weight-bold font-l text-ellipsis row-flex-center",style:{maxWidth:300}},e.name),!0===e.isReadonly&&i.a.createElement(i.a.Fragment,null,i.a.createElement(hb,{style:{marginLeft:10},text:Object(mn.c)(Sb),color:"primary",icon:"on_line"}),i.a.createElement(hb,{style:{marginLeft:10},text:Object(mn.c)(Db),icon:"read_only"}))),i.a.createElement("div",{className:"row-flex-center"},!0===e.isReadonly&&i.a.createElement(i.a.Fragment,null,i.a.createElement(zc.a,{type:"cancel",icon:"fg fg-off_line font-m",style:{color:"var(--color-red)"},onClick:e.offline},Object(mn.c)(Pb)),i.a.createElement(E.a,{type:"vertical",style:{height:23}})),i.a.createElement(zc.a,{onClick:function(){return e.openModal(qb.SETTING)},icon:"fg fg-setting",noBorder:!0},Object(mn.c)(Bb)),!e.isDataFlow&&i.a.createElement(zc.a,{onClick:function(){return e.openModal(qb.PARAMS)},icon:"fg fg-proplist",noBorder:!0},Object(mn.c)(Ub)),!e.isDataFlow&&i.a.createElement(hn.a,{visible:a,placement:"bottom",hideArrow:!0,content:a&&i.a.createElement(Lg,{processId:e.id,name:e.name,hide:c}),onVisibleChange:function(e){return!e&&c()},noPadding:!0},i.a.createElement(zc.a,{onClick:r,icon:"fg fg-instance_workflow",noBorder:!0},Object(mn.c)(Yb))),i.a.createElement(zc.a,{onClick:e.toggleFullScreen,icon:e.fullScreen?"fg fg-exit-full-screen":"fg fg-full-screen",noBorder:!0},Object(mn.c)(e.fullScreen?wb:jb)),i.a.createElement(E.a,{type:"vertical",style:{height:23,marginLeft:20}}),i.a.createElement(zc.a,{type:"cancel",onClick:e.close,style:{fontWeight:600,marginRight:6,minWidth:72}},Object(mn.c)(e.isReadonly?Rb:xb)),!e.isReadonly&&i.a.createElement(yn.a,{title:e.isValid?"":Object(mn.c)(_b)},i.a.createElement(Jl.DropdownButton,{disabled:!e.isValid||e.isReadonly,loading:e.isSaving,className:"row-flex-center",type:"primary",onClick:e.save,icon:"fg fg-arrow_down font-m",overlay:i.a.createElement(Eg.a,{style:{width:112}},e.isDataFlow?i.a.createElement(bg.Item,null,i.a.createElement(yn.a,{title:O?Object(mn.c)(Hb):"",placement:"bottomLeft"},i.a.createElement(zc.a,{type:"cancel",style:Nb({},zb,{cursor:O?"not-allowed":"pointer",color:O?"var(--color-grey-500)":"var(--color-grey-700)",width:"100%"}),onClick:O?Jb:e.saveAndRun},Object(mn.c)(Gb)))):i.a.createElement(bg.Item,null,i.a.createElement("div",{type:"cancel",onClick:function(){return e.save(null,{online:!0})},style:zb},Object(mn.c)(Lb))))},e.isSaving?Object(mn.c)(Qb):Object(mn.c)(Tb))),e.isReadonly&&i.a.createElement(zc.a,{icon:"fg fg-run",type:"primary",onClick:function(){return e.openRunModal(!1)}},Object(mn.c)(Mb)),i.a.createElement(zl.a,en()({},h,{trigger:["click"],placement:"bottomRight"}),i.a.createElement(g.a,{name:"more",onClick:function(e){return e&&e.stopPropagation()},style:{marginLeft:10}})),u&&i.a.createElement(Ob,{type:e.type,id:e.id,onCancel:function(){d(!1)},onOk:function(n){e.openImportModal(Nb({},n.content,{fileName:n.name})),w.a.success(Object(mn.c)(kb)),d(!1)}}),m&&i.a.createElement(Ug,{open:!0,text:Object(mn.c)(Wb)+"..."})))}Kb.propTypes={name:l.a.string,openModal:l.a.func,save:l.a.func,close:l.a.func,isReadonly:l.a.bool,toggleFullScreen:l.a.func,fullScreen:l.a.bool,isValid:l.a.bool,isSaving:l.a.bool,openImportModal:l.a.func,tasks:l.a.array,offline:l.a.func,isDataFlow:l.a.bool,openRunModal:l.a.func,isLoading:l.a.bool,id:l.a.number,type:l.a.number,saveAndRun:l.a.func};var Xb=Object(o.forwardRef)(Kb),Zb=t(1176),$b=t(1177),eE=t.n($b),nE=t(186),tE=t.n(nE),aE=t(1182),rE=t(1196);function oE(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function iE(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oE(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oE(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var cE="YYYY-MM-DD HH:mm:ss";function lE(e){var n=e.range,t=e.onChange,a=e.style,r=n.split(",");return i.a.createElement(rE.RangePicker,{format:cE,defaultValue:[pp()(r[0],cE),pp()(r[1],cE)],onOk:function(e){return t(e.map((function(e){return e.format(cE)})).join(","))},allowClear:!1,showTime:!0,style:iE({width:350,marginLeft:20},a)})}lE.propTypes={range:l.a.string,onChange:l.a.func,style:l.a.object};var sE=lE,uE=t(1230),dE=t.n(uE);function pE(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function mE(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pE(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pE(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fE={id:"PLEASE-INPUT-CORRECT-EMAIL",cn:"请输入正确的邮箱格式",en:"Please enter the correct email format"},AE={id:"PLEASE-INPUT-EMAIL",cn:"请输入邮箱",en:"Please enter email"},gE=function(e){return e?e.split(","):[]},bE=function(e){return e.join(",")},EE=/^([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,}$/,OE=["guandata.com","qq.com","163.com","126.com","gmail.com"];function yE(e){var n=e.email,t=e.onChange,a=e.style,r=Object(o.useState)(gE(n)),c=r[0],l=r[1],s=Object(o.useState)([]),u=s[0],d=s[1],p=Object(o.useState)(!1),m=p[0],f=p[1];return i.a.createElement("div",{onClick:function(){f(!0)},style:mE({width:"100%"},a)},i.a.createElement(Cr.a,{className:dE.a.select,value:c,mode:"tags",placeholder:Object(mn.c)(AE),onChange:function(e){var n=e[e.length-1];!e.length||EE.test(n)?(l(e),f(!1),t(bE(e))):w.a.warn(Object(mn.c)(fE))},onSearch:function(e){var n=e.substring(e.indexOf("@")-1);d(OE.map((function(e){return n+"@"+e})))},filterOption:!1,style:{width:"100%"},open:m,onDropdownVisibleChange:function(e){return!e&&f(!1)}},u.map((function(e){return i.a.createElement(yr.Option,{key:e},e)}))))}yE.propTypes={email:l.a.string,onChange:l.a.func,style:l.a.object};var CE,hE,vE,IE,NE,TE=zt()(dE.a)(yE);!function(e){e.SEND_NONE="NONE",e.SEND_OK="SUCCESS",e.SEND_FAIL="FAILURE",e.SEND_ALL="ALL"}(CE||(CE={})),function(e){e.HIGHEST="HIGHEST",e.HIGH="HIGH",e.MEDIUM="MEDIUM",e.LOW="LOW",e.LOWEST="LOWEST"}(hE||(hE={})),function(e){e.CONTINUE="CONTINUE",e.FINISH="END"}(vE||(vE={})),function(e){e.RUN_MODE_SERIAL="RUN_MODE_SERIAL",e.RUN_MODE_PARALLEL="RUN_MODE_PARALLEL"}(IE||(IE={})),function(e){e.TASK_ONLY="TASK_ONLY",e.TASK_PRE="TASK_PRE",e.TASK_POST="TASK_POST"}(NE||(NE={}));var xE=[{key:CE.SEND_NONE,content:Object(mn.c)({id:"SEND_NONE",cn:"都不发",en:"No notification"})},{key:CE.SEND_OK,content:Object(mn.c)({id:"SEND_OK",cn:"成功发",en:"Only on success"})},{key:CE.SEND_FAIL,content:Object(mn.c)({id:"SEND_FAIL",cn:"失败发",en:"Only on failure"})},{key:CE.SEND_ALL,content:Object(mn.c)({id:"SEND_ALL",cn:"成功或失败都发",en:"On success or failure"})}],BE=[{key:hE.HIGHEST,content:"HIGHEST",color:"red"},{key:hE.HIGH,content:"HIGH",color:"orange"},{key:hE.MEDIUM,content:"MEDIUM",color:"yellowgreen"},{key:hE.LOW,content:"LOW",color:"steelblue"},{key:hE.LOWEST,content:"LOWEST",color:"green"}],jE=[{value:vE.CONTINUE,label:Object(mn.c)({id:"CONTINUE",cn:"继续",en:"Continue"})},{value:vE.FINISH,label:Object(mn.c)({id:"FINISH",cn:"结束",en:"Finish"})}],wE="COMPLEMENT_DATA";var SE=[{desc:{id:"START_PROCESS",cn:"启动工作流",en:"Start Process"},id:"START_PROCESS"},{desc:{id:"START_CURRENT_TASK_PROCESS",cn:"从当前节点开始执行",en:"Execute from the current node"},id:"START_CURRENT_TASK_PROCESS"},{desc:{id:"RECOVER_TOLERANCE_FAULT_PROCESS",cn:"恢复被容错的工作流",en:"Recover tolerance fault process"},id:"RECOVER_TOLERANCE_FAULT_PROCESS"},{desc:{id:"RECOVER_SUSPENDED_PROCESS",cn:"恢复运行流程",en:"Resume the suspension process"},id:"RECOVER_SUSPENDED_PROCESS"},{desc:{id:"START_FAILURE_TASK_PROCESS",cn:"从失败节点开始执行",en:"Execute from the failed nodes"},id:"START_FAILURE_TASK_PROCESS"},{desc:{id:"COMPLEMENT_DATA",cn:"补数",en:"Complement Data"},id:"COMPLEMENT_DATA"},{desc:{id:"SCHEDULER",cn:"调度执行",en:"Scheduling execution"},id:"SCHEDULER"},{desc:{id:"REPEAT_RUNNING",cn:"重跑",en:"Rerun"},id:"REPEAT_RUNNING"},{desc:{id:"PAUSE",cn:"暂停",en:"Pause"},id:"PAUSE"},{desc:{id:"STOP",cn:"停止",en:"Stop"},id:"STOP"},{desc:{id:"RECOVER_WAITTING_THREAD",cn:"恢复等待线程",en:"Recovery waiting thread"},id:"RECOVER_WAITTING_THREAD"}],DE={id:"NTF_STRATEGY",cn:"通知策略",en:"Notification strategy"},_E={id:"PROCESS_PRIORITY",cn:"流程优先级",en:"Process Priority"},kE={id:"NTF_GROUP",cn:"通知组",en:"Notification group"},PE={id:"EMAIL_RE",cn:"收件人",en:"Recipient"},LE={id:"EMAIL_CC",cn:"抄送人",en:"Cc"},RE={id:"PLS_SEL_NTF_GRP",cn:"请选择通知组",en:"Please select a notification group"},ME={id:"PLEASE-INPUT-REPEAT-EMAIL",cn:"邮箱已存在!, 收件人和抄送人不能重复",en:"Mail already exists! The recipient and cc cannot be repeated"},UE={className:"row-flex-center",style:{marginBottom:10,height:32}},YE={width:80},FE={width:200},VE={width:400};function WE(e){var n=e.params,t=e.onChange,a=n.warningType,r=n.processInstancePriority,c=n.warningGroupId,l=n.receivers,s=n.receiversCc,u=Object(o.useState)([]),d=u[0],p=u[1],m=Object(o.useState)(1),A=m[0],b=m[1];Object(o.useEffect)((function(){Object(wu.b)().then((function(e){p([{id:0,groupName:"不选择"}].concat(e))}))}),[]);var E=function(e,n){if(gE(l).includes(n)||gE(s).includes(n))return w.a.warn(Object(mn.c)(ME)),void b(A+1);t(e,n)},O=Object(o.useMemo)((function(){var e=d.some((function(e){return e.id===c}));return 0!==c&&e?c:void 0}),[c,d]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",UE,i.a.createElement(f.a,{style:YE},Object(mn.c)(_E)),i.a.createElement(Cr.a,{key:r,defaultValue:r,onChange:function(e){return t("processInstancePriority",e)},style:FE},BE.map((function(e){return i.a.createElement(yr.Option,{key:e.key},(t=(n=e).color,a=n.content,i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:"arrow-high",style:{color:t,marginRight:5}}),a)));var n,t,a})))),i.a.createElement("div",UE,i.a.createElement(f.a,{style:YE},Object(mn.c)(DE)),i.a.createElement(Cr.a,{key:a,defaultValue:a,onChange:function(e){return t("warningType",e)},style:FE},xE.map((function(e){return i.a.createElement(yr.Option,{key:e.key},e.content)})))),i.a.createElement("div",UE,i.a.createElement(f.a,{style:YE},Object(mn.c)(kE)),i.a.createElement(Cr.a,{key:O,value:O,onChange:function(e){return t("warningGroupId",e)},style:FE,placeholder:Object(mn.c)(RE)},d.map((function(e){return i.a.createElement(yr.Option,{key:e.id,value:e.id},e.groupName)})))),i.a.createElement("div",en()({},UE,{style:{marginBottom:10,minHeight:32}}),i.a.createElement(f.a,{style:YE},Object(mn.c)(PE)),i.a.createElement(TE,{key:""+A+l,email:l,onChange:function(e){return E("receivers",e)},style:VE})),i.a.createElement("div",en()({},UE,{style:{marginBottom:10,minHeight:32}}),i.a.createElement(f.a,{style:YE},Object(mn.c)(LE)),i.a.createElement(TE,{key:""+A+s,email:s,onChange:function(e){return E("receiversCc",e)},style:VE})))}WE.propTypes={params:l.a.object,onChange:l.a.func};var GE=WE;function HE(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function QE(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?HE(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):HE(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var JE={id:"FALLBACK_STRATEGY",cn:"失败策略",en:"Fallback Strategy"},zE={id:"RUNNING_STRATEGY",cn:"运行策略",en:"Running Strategy"},qE={id:"RUNNING_SETTING",cn:"运行设置",en:"Running setting"},KE={id:"COMPLEMENT_DATA",cn:"补数",en:"Complement Data"},XE={id:"RUN_MODE",cn:"执行方式",en:"Run Mode"},ZE={id:"DATE",cn:"日期",en:"Date"},$E={id:"PARAMS",cn:"参数",en:"Params"},eO={id:"NORMAL",cn:"常规",en:"Normal"},nO={id:"RUN",cn:"运行",en:"Run"},tO={id:"GLOBAL_PARAMS_ARE_NOT_USED",cn:"未使用全局参数",en:"Global parameters are not used"},aO={minHeight:289,maxHeight:376},rO=[{label:"prop",fieldName:"props"},{label:Object(mn.c)({id:"TYPE",cn:"类型",en:"Type"}),fieldName:"type"},{label:"value",fieldName:"value"}];function oO(){return i.a.createElement("div",{className:"gd-bgColor-default row-flex-center",style:{height:32}},rO.map((function(e){return i.a.createElement(tE.a,{key:e.label,className:"flex1 gd-color-title",style:{paddingLeft:10}},e.label)})))}var iO=function(e){var n=e.params,t=e.onParamsChange,a=e.onExecTypeChange,r=n.failureStrategy,o=n.execType,c=n.runMode,l=n.scheduleTime,s=n.taskDependType,u=Rn()(n,["failureStrategy","execType","runMode","scheduleTime","taskDependType"]);return i.a.createElement("div",{style:aO},!e.isHideFailStrategy&&i.a.createElement("div",UE,i.a.createElement(tE.a,{style:YE},Object(mn.c)(JE)),i.a.createElement(Ja.RadioGroup,{value:r,onChange:function(e){t("failureStrategy",e.target.value)},options:jE})),e.runNodeMode&&i.a.createElement("div",UE,i.a.createElement(tE.a,{style:YE},Object(mn.c)(zE)),i.a.createElement(Ja.RadioGroup,{value:s,onChange:function(e){t("taskDependType",e.target.value)},options:[{value:NE.TASK_POST,label:Object(mn.c)({id:"BACKWARD_EXECUTION",cn:"向后运行",en:"Backward execution"})},{value:NE.TASK_PRE,label:Object(mn.c)({id:"FORWARD_EXECUTION",cn:"运行至当前节点",en:" Forward execution"})},{value:NE.TASK_ONLY,label:Object(mn.c)({id:"EXECUTE_CURRENT_NODE",cn:"仅运行当前节点",en:"Only execute the current node"})}]})),i.a.createElement(GE,{params:u,onChange:t}),i.a.createElement("div",UE,i.a.createElement(tE.a,{style:YE},Object(mn.c)(KE)),i.a.createElement(Pa.a,{checked:o===wE,onChange:a,size:"small"})),o===wE&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",UE,i.a.createElement(tE.a,{style:YE},Object(mn.c)(XE)),i.a.createElement(Ja.RadioGroup,{value:c,onChange:function(e){return t("runMode",e.target.value)},options:[{value:IE.RUN_MODE_SERIAL,label:Object(mn.c)({id:"RUN_MODE_SERIAL",cn:"串行执行",en:"Serial execution"})},{value:IE.RUN_MODE_PARALLEL,label:Object(mn.c)({id:"RUN_MODE_PARALLEL",cn:"并行执行",en:"Parallel execution"})}]})),i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(tE.a,{style:YE},Object(mn.c)(ZE)),i.a.createElement(sE,{range:l,onChange:function(e){return t("scheduleTime",e)},style:{marginLeft:0}}))))};iO.propTypes={params:l.a.object,isHideFailStrategy:l.a.bool,runNodeMode:l.a.bool,onParamsChange:l.a.func,onExecTypeChange:l.a.func};var cO={warningType:CE.SEND_NONE,processInstancePriority:hE.MEDIUM,warningGroupId:0,receivers:"",receiversCc:""},lO=QE({failureStrategy:vE.CONTINUE},cO,{execType:"",runMode:IE.RUN_MODE_SERIAL,scheduleTime:[new Date((new Date).setHours(0,0,0,0)),new Date].map((function(e){return pp()(e).format(cE)})).join(","),taskDependType:NE.TASK_POST,globalParamsWithDefault:[]}),sO={marginRight:10,paddingLeft:10};function uO(e){var n=Object(Zb.a)(QE({},lO,{globalParamsWithDefault:L()(e.config.combinedGlobalParams)||[]})),t=n[0],a=n[1],r=function(e,n){a((function(t){t[e]=n}))},c=function(e){r("execType",e?wE:"")},l=e.runNodeMode,s=e.handleOk,u=e.processId;Object(o.useEffect)((function(){u&&Object(wu.d)({processId:u}).then((function(e){return r("globalParamsWithDefault",e)}))}),[]);var d=[{tab:Object(mn.c)(eO),key:"normal",content:i.a.createElement(iO,{params:t,isHideFailStrategy:e.isHideFailStrategy,runNodeMode:e.runNodeMode,onExecTypeChange:c,onParamsChange:r})},{tab:Object(mn.c)($E),key:"params",content:i.a.createElement("div",{className:"column-flex",style:aO},i.a.createElement(oO,null),i.a.createElement("div",{className:"flex1 scroll-y"},0===t.globalParamsWithDefault.length&&i.a.createElement(tE.a,{color:"desc",className:"row-flex-center jc-center",style:{height:70}},Object(mn.c)(tO)),t.globalParamsWithDefault.map((function(e,n){return i.a.createElement("div",{className:"row-flex-center",key:e.prop,style:{marginTop:10}},i.a.createElement(tE.a,{className:"flex1",ellipsis:!0,style:sO},e.prop),i.a.createElement(tE.a,{className:"flex1",style:sO},e.type),i.a.createElement("div",{className:"flex1",style:sO},i.a.createElement(Et.a,{placeholder:e.defaultValue,onChange:function(e){return function(e,n){var a=t.globalParamsWithDefault.slice(0);a[n].value=e,r("globalParamsWithDefault",a)}(e.target.value,n)}})))}))))}];return i.a.createElement(Dn.a,{visible:!0,title:Object(mn.c)(qE),onOK:function(){s(l?t:eE()(t,"taskDependType"))},okText:Object(mn.c)(nO),onCancel:e.handleClose,bodyStyle:{padding:e.isHideFailStrategy?"23px 24px":"0px 24px"}},e.isHideFailStrategy?i.a.createElement(iO,{params:t,isHideFailStrategy:e.isHideFailStrategy,runNodeMode:e.runNodeMode,onExecTypeChange:c,onParamsChange:r}):i.a.createElement(aE.GDTabsHead,{defaultActiveKey:"normal",tabChildren:d,noBorder:!1}))}uO.propTypes={config:l.a.object,handleOk:l.a.func,handleClose:l.a.func,runNodeMode:l.a.bool,isHideFailStrategy:l.a.bool,processId:l.a.number},uO.defaultProps={runNodeMode:!1,isHideFailStrategy:!1};var dO=uO,pO=t(282),mO=t.n(pO),fO=t(1232),AO=t.n(fO),gO=function(e){var n=e.name,t=e.onClick,a=e.tooltip;return i.a.createElement(yn.a,{title:a,overlayClassName:"gd-color-desc"},i.a.createElement("div",{style:{width:20,height:20},className:p()(AO.a.operationIcon,"row-flex-center jc-center"),onClick:t},i.a.createElement(mO.a,{name:n,className:"gd-color-desc",style:{fontSize:12}})))};gO.propTypes={name:l.a.string,onClick:l.a.func,tooltip:l.a.string};var bO=zt()(AO.a)(gO),EO=t(727),OO=t(1252),yO=t(1243),CO=Object(EO.b)(yO.a);var hO=function(e){var n=e.children,t=Object(o.useRef)(CO);return i.a.createElement(OO.a,{manager:t.current.dragDropManager},n)};function vO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function IO(e){var n=B.a.map(B.a.prop("processDefinitionId"))(e);return Promise.all(e.map((function(e){var n=e.processDefinitionId;return e.processType===de.a.DATAFLOW?Object(rl.a)(n).catch((function(){return null})):Object(wu.g)({processId:n}).catch((function(){return null}))}))).then((function(t){return t.reduce((function(n,t,a){var o;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vO(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,((o={})[e[a].processDefinitionId]=t,o))}),{ids:n})}))}var NO=function(e){var n=e.icon,t=e.title,a=e.rightNode,r=void 0===a?null:a;return i.a.createElement("div",{className:"row-flex-center jc-space",style:{marginBottom:10}},i.a.createElement("div",{className:"row-flex-center"},i.a.createElement(g.a,{name:n,className:"gd-color-primary font-m",style:{marginRight:8}}),i.a.createElement(f.a,null,t)),r)};function TO(e){return i.a.createElement("div",{style:{marginBottom:24}},e.children)}var xO={id:"SETTINGS",cn:"设置",en:"Settings"},BO={id:"CANCEL",cn:"取消",en:"Cancel"},jO={id:"SAVE",cn:"保存",en:"Save"};var wO=function(e){var n=e.onSave,t=e.isEditing,a=e.setIsEditing,r={style:{minWidth:40},size:"small",noBorder:!0};return i.a.createElement("div",{className:"row-flex-center jc-space"},!t&&i.a.createElement(Jc.LinkButton,en()({},r,{onClick:function(){return a(!0)}}),Object(mn.c)(xO)),t&&i.a.createElement("div",null,i.a.createElement(Jc.CancelButton,en()({},r,{onClick:function(){return a(!1)}}),Object(mn.c)(BO)),i.a.createElement(Jc.LinkButton,en()({},r,{onClick:n}),Object(mn.c)(jO))))},SO=t(1234),DO=t.n(SO),_O=function(e){return Math.max(150,600/e)};function kO(e){var n=e.data,t=e.columns,a=e.polling;return T()(DO.a),i.a.createElement("div",{className:p()(DO.a.container,"scroll-x")},i.a.createElement("div",{className:p()(DO.a.header,"row-flex")},t.map((function(e){return i.a.createElement("div",{key:e.title,className:"text-ellipsis"},e.title)}))),i.a.createElement("div",{className:p()(DO.a.body)},Object.keys(n).map((function(e){return i.a.createElement("div",{key:e,className:p()(DO.a.td,"row-flex")},i.a.createElement("div",{className:DO.a.column,style:{maxWidth:_O(t.length),lineHeight:"32px"}},e),i.a.createElement("div",{className:"flex1"},(n[e].localParamsList||n[e]).map((function(e){return i.a.createElement("div",{className:"row-flex",key:""+e.prop+e.outputOrigin},t.map((function(n){if(n.dataIndex===t[0].dataIndex)return null;var r=e[n.alias]||e[n.dataIndex];return a&&["type","value"].includes(n.dataIndex)&&(r=i.a.createElement(g.a,{name:"running font-m",spin:!0})),i.a.createElement("div",{className:p()(DO.a.column,"text-ellipsis row-flex-center"),key:n.dataIndex,style:{height:32,width:_O(t.length),paddingLeft:10}},r)})))}))))}))))}var PO,LO=function(e){var n=e.data,t=e.columns,a=e.hideBody;return T()(DO.a),i.a.createElement("div",{className:p()(DO.a.container,"scroll-x")},i.a.createElement("div",{className:p()(DO.a.header,"row-flex")},t.map((function(e){return i.a.createElement("div",{key:e.title,className:"text-ellipsis"},e.title)}))),!a&&i.a.createElement("div",{className:p()(DO.a.body)},n.map((function(e){return i.a.createElement("div",{className:p()(DO.a.td,"row-flex"),key:""+e.prop+e.value},t.map((function(n){return i.a.createElement("div",{key:n.dataIndex,style:{height:32,width:_O(t.length)},className:p()(DO.a.column,"text-ellipsis row-flex-center")},e[n.dataIndex])})))}))))},RO={prop:"",direct:"IN",type:"VARCHAR",value:""},MO="prop ("+Object(mn.c)({id:"REQUIRED",defaultMessage:"必填"})+")",UO="value ("+Object(mn.c)({id:"OPTIONAL",defaultMessage:"选填"})+")",YO=["VARCHAR","INTEGER","LONG","FLOAT","DOUBLE","DATE","TIME","TIMESTAMP","BOOLEAN"].map((function(e){return{value:e}})),FO=Object(o.forwardRef)((function(e,n){var t=e.globalParams,a=Object(o.useState)(t),r=a[0],c=a[1],l=function(e,n,t){var a=L()(r);a[e][n]=t,c(a)},s=function(){return c(L()(r.concat([RO])))};return Object(o.useImperativeHandle)(n,(function(){return{getParams:function(){return r}}})),i.a.createElement("div",{className:"",style:{margin:8}},r.map((function(e,n){return i.a.createElement("div",{key:""+(n+1),className:"row-flex-center",style:{marginTop:12}},i.a.createElement(Et.a,{style:{width:190},value:e.prop,onChange:function(e){return l(n,"prop",e.target.value)},placeholder:MO}),i.a.createElement(yr.GDSelect,{value:e.type,items:YO,onChange:function(e){return l(n,"type",e)},style:{width:190,marginLeft:10}}),i.a.createElement(Et.a,{style:{width:122,marginLeft:10},value:e.value,onChange:function(e){return l(n,"value",e.target.value)},placeholder:UO}),i.a.createElement(g.a,{name:"delete_item",className:"gd-hover-blue-color font-m",style:{marginLeft:10},onClick:function(){return function(e){return c(r.slice(0,e).concat(r.slice(e+1)))}(n)}}),i.a.createElement(g.a,{name:"add_item",style:{marginLeft:10,visibility:Object(tt.a)("hidden","visible")(n!==r.length-1)},className:"gd-hover-blue-color font-m",onClick:s}))})))})),VO={id:"RUN_TYPE",cn:"运行类型",en:"Run Type",key:"commandType"},WO={id:"COMPLEMENT_RANGE",cn:"补数范围",en:"Complement range",key:"commandParam"},GO={id:"FAILURE_STRATEGY",cn:"失败策略",en:"Failure Strategy",key:"failureStrategy"},HO={id:"PROCESS_PRIORITY",cn:"流程优先级",en:"Process priority",key:"processInstancePriority"},QO={id:"WORKER_GROUP",cn:"Worker分组",en:"Worker group",key:"workerGroupId"},JO={id:"NOTIFICATION_STRATEGY",cn:"通知策略",en:"Notification strategy",key:"warningType"},zO={id:"NOTIFICATION_GROUP",cn:"通知组",en:"Notification group",key:"warningGroupId"},qO={id:"RECIPIENT",cn:"收件人",en:"Recipient",key:"receivers"},KO={id:"CC",cn:"抄送人",en:"Cc",key:"receiversCc"},XO={id:"CONTINUE",cn:"继续",en:"Continue"},ZO={id:"FINISH",cn:"结束",en:"Finish"},$O=function(e,n){var t=e.find((function(e){return e.id===n}));return t?t.desc||t.name:"-"},ey=function(e){var n=JSON.parse(e);return n&&n.complementStartDate?n.complementStartDate+"-"+n.complementEndDate:"-"};function ny(e){var n,t=e.startParams,a=e.warningGroupList,r=e.groupList;return i.a.createElement("div",{style:{marginLeft:20}},(n=[VO,WO,GO,HO,QO,JO,zO,qO,KO],i.a.createElement("div",null,n.map((function(e){return i.a.createElement(f.a,{className:"row-flex-baseline",key:e.key,style:{marginBottom:10}},i.a.createElement(f.a,{style:{marginRight:10}},Object(mn.c)(e),":")," ",function(e){switch(e){case VO.key:return Object(mn.c)($O(SE,t[e]));case WO.key:return ey(t[e]);case GO.key:return"END"===t[e]?Object(mn.c)(ZO):Object(mn.c)(XO);case QO.key:return-1===t[e]?"Default":$O(r,t[e]);case JO.key:return Object(mn.c)($O(ol.e,t[e]));case zO.key:return $O(a,t[e])||"-";default:return t[e]||"-"}}(e.key))})))))}var ty={id:"MINUTE",cn:"分",en:"Minute"},ay={id:"TIMEOUT_LIMIT",cn:"超时限制",en:"Timeout limit"},ry={id:"TIMEOUT_STRATEGY",cn:"超时策略",en:"Timeout strategy"},oy=((PO={})[mg.WARN]=Object(mn.c)({id:"TIMEOUT_WARNING",cn:"超时告警",en:"Timeout warning"}),PO[mg.FAILED]=Object(mn.c)({id:"TIMEOUT_FAIL",cn:"超时停止",en:"Timeout fail"}),PO),iy=function(e){return e.split(",").map((function(e){return oy[e]})).join(",")};function cy(e){var n=e.timeoutSetting;return i.a.createElement("div",{style:{marginLeft:20}},i.a.createElement(f.a,{className:"row-flex-baseline",style:{marginBottom:10}},i.a.createElement(f.a,{style:{marginRight:10}},Object(mn.c)(ay),":")," ",n.timeout,Object(mn.c)(ty)),i.a.createElement(f.a,{className:"row-flex-baseline",style:{marginBottom:10}},i.a.createElement(f.a,{style:{marginRight:10}},Object(mn.c)(ry),":")," ",iy(n.timeoutStrategy||"")))}var ly,sy={id:"PARAMS",cn:"参数",en:"Params"},uy={id:"NODE",cn:"节点",en:"node"},dy={id:"IO_OUTPUT",cn:"输出",en:"Output"},py={id:"COLUMN",cn:"列",en:"cols"},my={id:"EXIST_DUPLICATE_PARAMS",cn:"存在重复的参数",en:"There are duplicate parameters"},fy={id:"NO_PARAMS",cn:"暂无参数",en:"No Parameter"},Ay={GLOBAL:{icon:"prop_global",title:Object(mn.c)({id:"GLOBAL_PARAMS",cn:"全局参数",en:"Global params"})},VARIABLE:{icon:"variable",title:Object(mn.c)({id:"DYNAMIC_VARIABLE",cn:"动态变量",en:"Dynamic variable"})},PART:{icon:"node",title:Object(mn.c)({id:"LOCAL_PARAM",cn:"局部参数",en:"Local parameters"})},START:{icon:"start_parameter",title:Object(mn.c)({id:"RUNNING_PARAMS",cn:"运行参数",en:"Running params"})},TIMEOUT:{icon:"timing_b",title:Object(mn.c)({id:"TIMEOUT_SETTING",cn:"超时设置",en:"Timeout Setting"})}},gy=[{title:"prop",dataIndex:"prop"},{title:"type",dataIndex:"type"},{title:"value",dataIndex:"value"}],by=[{title:Object(mn.c)(uy),dataIndex:"node"},{title:"prop",dataIndex:"prop"},{title:"type",dataIndex:"type"},{title:"value",dataIndex:"value"}],Ey=[{title:"prop",dataIndex:"prop"},{title:"type",dataIndex:"type"},{title:"value",dataIndex:"value"},{title:Object(mn.c)(uy),dataIndex:"nodeName"},{title:i.a.createElement("div",null,i.a.createElement(g.a,{name:"output",className:"font-m gd-color-primary"}),Object(mn.c)(dy)),dataIndex:"outputOrigin",alias:"outputAlias"},{title:Object(mn.c)(py),dataIndex:"column"}],Oy=[{title:"prop",dataIndex:"prop"},{title:Object(mn.c)(uy),dataIndex:"nodeName"},{title:i.a.createElement("div",null,i.a.createElement(g.a,{name:"output",className:"font-m gd-color-primary"}),Object(mn.c)(dy)),dataIndex:"outputOrigin",alias:"outputAlias"},{title:Object(mn.c)(py),dataIndex:"column"}];function yy(e){var n=e.globalParams,t=e.onCancel,a=e.onOK,r=e.runtimeParams,c=e.startParams,l=e.warningGroupList,s=e.groupList,u=e.localParams,d=e.disabled,p=e.polling,m=e.timeoutSetting,A=Object(o.useState)(n||[]),g=A[0],b=A[1],E=Object(o.useState)(!1),O=E[0],y=E[1],C=Object(o.useRef)(null),h={onCancel:t,onSave:function(){var e=C.current.getParams().filter((function(e){return!!e.prop})),n=e.map((function(e){return e.prop})).sort();n.some((function(e,t){return e===n[t+1]}))?w.a.warning(Object(mn.c)(my)):(b(e),a(e),y(!1))},isEditing:O,setIsEditing:y};return i.a.createElement(Dn.a,{width:640,visible:!0,title:Object(mn.c)(sy),onCancel:t,noFooter:!0,bodyStyle:{maxHeight:"60vh",overflowY:"auto"}},i.a.createElement("div",{style:{paddingTop:10}},i.a.createElement(TO,null,i.a.createElement(NO,en()({},Ay.GLOBAL,{rightNode:!u&&!d&&i.a.createElement(wO,h)})),0===g.length&&!O&&i.a.createElement(f.a,{className:"gd-color-disable",style:{paddingLeft:20}},Object(mn.c)(fy)),i.a.createElement("div",{style:{border:O?"1px solid var(--color-grey-300)":"none"}},!O&&g.length>0&&i.a.createElement(LO,{data:g,columns:gy,hideBody:O}),O&&i.a.createElement(FO,{ref:C,globalParams:g.length>0?g:[{prop:"",direct:"IN",type:"VARCHAR",value:""}]}))),r&&i.a.createElement(TO,null,i.a.createElement(NO,Ay.VARIABLE),0===Object.keys(r).length&&i.a.createElement(f.a,{className:"gd-color-disable",style:{paddingLeft:20}},Object(mn.c)(fy)),Object.keys(r).length>0&&i.a.createElement(kO,{data:r,columns:u?Ey:Oy,polling:p})),u&&i.a.createElement(TO,null,i.a.createElement(NO,Ay.PART),0===Object.keys(u).length&&i.a.createElement(f.a,{className:"gd-color-disable",style:{paddingLeft:20}},Object(mn.c)(fy)),Object.keys(u).length>0&&i.a.createElement(kO,{data:u,columns:by})),c&&i.a.createElement(TO,null,i.a.createElement(NO,Ay.START),i.a.createElement(ny,{startParams:c,warningGroupList:l,groupList:s})),m&&!!m.timeout&&i.a.createElement(TO,null,i.a.createElement(NO,Ay.TIMEOUT),i.a.createElement(cy,{timeoutSetting:m}))))}!function(e){e[e.DELETED_PROCESS=50003]="DELETED_PROCESS",e[e.DELETED_INSTANCE=50001]="DELETED_INSTANCE"}(ly||(ly={}));var Cy=t(653),hy=t(1236),vy=t.n(hy);function Iy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ny(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Iy(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ty={id:"RUN_SUCCESS",cn:"运行成功",en:"Success"},xy={id:"OFFLINE_SUCCESS",cn:"下线成功",en:"Offline Success"},By={id:"COPY_NODE",cn:"复制节点",en:"Copy node"},jy={id:"REMOVE_NODE",cn:"删除节点",en:"Remove node"},wy={id:"RUN",cn:"运行",en:"Run"},Sy={id:"EDIT-RECOVERY",cn:"检测到上次为非正常退出，已为您加载退出前的编辑信息",en:"Find an unsaved draft, we recovery it for you"};function Dy(e){T()(vy.a);Object(Cy.a)().replaceUrl;var n=Object(o.useState)(!0),t=n[0],a=n[1],r=Object(o.useState)(!1),c=r[0],l=r[1],u=Object(o.useState)(!0),d=u[0],m=u[1],f=Object(o.useRef)({}),A=Object(o.useState)(null),g=A[0],b=A[1],E=Object(o.useState)(null),y=E[0],C=E[1],h=Object(o.useState)([]),v=h[0],I=h[1],N=Object(o.useState)({}),x=N[0],j=N[1],S=Object(o.useState)(null),D=S[0],_=S[1],k=Object(o.useState)(null),P=k[0],L=k[1],R=Object(o.useState)(!1),M=R[0],U=R[1],Y=Object(o.useState)(!1),F=Y[0],V=Y[1],W=Object(o.useState)(!0),G=W[0],H=W[1],Q=Object(o.useState)(qb.IMPORT),J=Q[0],z=Q[1],q=Object(s.l)(),K=q[0],X=q[1],Z=e.taskId,$=e.updateTabName,ee=e.close,ne=Object(o.useRef)(null),te=Object(o.useRef)(null),ae=Object(o.useContext)(si.b).mdFeature,re=Object(o.useMemo)((function(){return Object(de.e)(ae).concat((D||[]).map((function(e){return Ny({stageType:de.b.PLUGIN},e)})))}),[D,ae]),oe=Object(o.useMemo)((function(){return ze(v,re)}),[re,v]),ie=oe.tasks,ce=oe.stageConfigMap,le=new Qt("TASK-FLOW",Z),se=function(){var e=ne.current.getDAGParams();return Ny({processDefinitionJson:JSON.stringify(Ny({},B.a.pick(["globalParams","timeout","timeoutStrategy"],x),{tasks:e.tasks,tenantId:-1})),locations:JSON.stringify(e.locations),connects:JSON.stringify(e.connects),id:Z},B.a.pick(["name","description","dirId","timeout","timeoutStrategy"],x))},ue=Object(o.useCallback)((function(){Object(wu.h)({processId:Z}).then((function(e){var n=JSON.parse(e.processDefinitionJson);I(n.tasks),j(Ny({},x,{runtimeParamsMap:e.runtimeParamsMap}))}))}),[x,Z]),pe=function(){return V(!F)},me=function(e,n){l(!0),ne.current.clearUnsavedStatus();var t=n&&n.online;Object(wu.m)(Ny({},se(),{},n)).then((function(){le.remove();var a=t?Object(mn.c)({id:"SAVE-AND-ONLINE",cn:"保存并上线",en:"Save and online"}):Object(mn.c)({id:"SAVE",cn:"保存",en:"Save"});w.a.success(""+a+Object(mn.c)({id:"SUCCESS",cn:"成功",en:"Success"})),ue(),"function"==typeof e&&e(),n&&H(!1)})).finally((function(){return l(!1)}))},fe=function(n){Object(wu.l)(Ny({processDefinitionId:e.taskId,startNodeList:M||void 0,workerGroupId:M?-1:void 0},n)).then((function(){w.a.success(Object(mn.c)(Ty))})),z(null)},Ae=function(){var e={processId:Z,releaseState:0};Object(wu.k)(e).then((function(){H(!0),w.a.success(Object(mn.c)(xy))}))},ge=function(e){U(e),z(qb.RUNNING)};Object(o.useEffect)((function(){return O.b.on(O.a.REFRESH_TASKS,ue),function(){return O.b.off(O.a.REFRESH_TASKS,ue)}}),[ue]);var be=function(e,n,t){var a=Object(s.e)(Rc,[],{},(function(e){var n=e[0]||[];return{labels:n.map(B.a.prop("alias")),values:n.map(B.a.prop("alias")),resources:n}}))[0],r=Object(o.useMemo)((function(){return qe(e)}),[e]),i=Object(s.e)(IO,[r],s.a),c=i[0],l=i[2];Object(s.i)(r,l);var u=Object(o.useMemo)((function(){return c[0]||{ids:[]}}),[c]);return Object(o.useMemo)((function(){return{process:(e=n,{id:e.processDefinitionId||e.id,projectId:e.projectId}),fileResource:a,referencedProcess:u,processId:t};var e}),[n,a,u,t])}(v,f.current,Z);Object(o.useEffect)((function(){var n=!1;return Z?(Promise.all([Object(wu.h)({processId:Z}),gi({pageSize:1e3,pageNo:1}),Object(wu.f)()]).then((function(t){var r=t[0],o=t[1],i=t[2];if(!n){f.current=B.a.pick(["projectId"],r);var c=r.timeout,l=r.timeoutStrategy,s=r.name,u=r.dirId,d=r.description,p=r.globalParamList,m=void 0===p?[]:p,A=r.runtimeParamsMap,g=r.releaseState,E=r.combinedGlobalParams,O=le.getJSON();if(O)w.a.info(Object(mn.c)(Sy)),b(O.locations),C(O.connects),I(O.tasks),le.remove();else{var y=JSON.parse(r.processDefinitionJson);b(JSON.parse(r.locations)),C(JSON.parse(r.connects)),I(y.tasks)}j({timeout:c,timeoutStrategy:l,name:s,dirId:u,description:d,globalParams:m,combinedGlobalParams:E,runtimeParamsMap:A}),H("OFFLINE"===g),_(i),L(o.totalList),a(!1),$({name:s,id:Z}),e.setInitTabs({name:s,id:Z})}})).catch((function(e){})),function(){n=!0}):function(){n=!0}}),[Z]);var Ee=function(){te.current&&te.current.handleImport()};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:p()("column-flex",Object(tt.a)("pos-fixed-full z-index-fixed","flex1")(F)),style:e.style},i.a.createElement(Xb,{ref:te,name:x.name,openModal:z,save:me,close:function(){return ee(Z)},isReadonly:!G,toggleFullScreen:pe,fullScreen:F,isValid:d,isSaving:c,offline:Ae,openRunModal:ge,isLoading:t,id:Z,handleImport:Ee,genTaskParams:se,openImportModal:function(n){!function(n){var t=JSON.parse(n.processDefinitionJson);b(JSON.parse(n.locations)),C(JSON.parse(n.connects)),I(t.tasks),f.current=B.a.pick(["projectId"],n);var a=n.timeout,r=n.name,o=n.dirId,i=n.description,c=n.globalParamList,l=void 0===c?[]:c,s=n.runtimeParamsMap,u=n.releaseState,d=n.combinedGlobalParams;b(JSON.parse(n.locations)),C(JSON.parse(n.connects)),I(t.tasks),j({timeout:a,name:r,dirId:o,description:i,globalParams:l,combinedGlobalParams:d,runtimeParamsMap:s}),H("OFFLINE"===u),$({name:r,id:Z}),e.setInitTabs({name:r,id:Z}),X()}(n),z(null)},tasks:ne.current&&ne.current.getDAGParams().tasks||ie,disabledExport:0===ie.length,type:It.PROCESS}),i.a.createElement(hO,null,i.a.createElement("div",{className:p()(vy.a.container,"row-flex flex1"),style:{overflow:"auto"}},t?i.a.createElement(Nl.a,null):i.a.createElement(tg,{key:K,ref:ne,nodesMap:g,connects:y,tasks:ie,stageConfigMap:ce,className:"flex1",onValidationChange:function(e){m(e)},isReadonly:!G,datasource:P,customStage:{renderOpsBar:function(e,n,t){return G?i.a.createElement(i.a.Fragment,null,i.a.createElement(bO,{name:"copy",onClick:function(t){t.stopPropagation(),n(e.id)},tooltip:Object(mn.c)(By)}),i.a.createElement(bO,{name:"delete_item",onClick:function(n){n.stopPropagation(),t(e.id)},tooltip:Object(mn.c)(jy)})):i.a.createElement(bO,{name:"run_task",onClick:function(){return ge(e.name)},tooltip:Object(mn.c)(wy)})}},stageSpecs:re,processId:Z,configOutside:be,handleImport:Ee})))),function(){switch(J){case qb.SETTING:return i.a.createElement(gg,{type:It.PROCESS,visible:!0,onOk:function(e){j(e),$({name:e.name,id:Z,dirId:e.dirId}),z(null)},onClose:function(){return z(null)},settings:x,disabled:!G});case qb.RUNNING:return i.a.createElement(dO,{handleOk:fe,handleClose:function(){return z(null)},runNodeMode:!!M,isHideFailStrategy:!!M,config:x,processId:Z});case qb.PARAMS:return i.a.createElement(yy,{globalParams:x.globalParams,runtimeParams:x.runtimeParamsMap,onCancel:function(){return z(null)},onOK:function(e){j(Ny({},x,{globalParams:e}))},disabled:!G});default:return null}}())}Dy.propTypes={taskId:l.a.number,setInitTabs:l.a.func,updateTabName:l.a.func,close:l.a.func,style:l.a.object};var _y=Dy;function ky(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Py(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ky(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ky(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ly={id:"PROCESS_DEFN",cn:"工作流定义",en:"Process Definition"},Ry={id:"PROCESS_EDIT",cn:"工作流编辑",en:"Process Edit"},My=Object(tt.b)("grey-100");function Uy(e){return i.a.createElement("div",{className:"column-flex scroll-hidden content-h-full",style:{padding:"16px",background:My}},i.a.createElement(u.b,{title:Object(mn.c)({id:"TASK_SCHEDULING",cn:"任务调度",en:"Task Scheduling"}),suffix:i.a.createElement(u.a,{push:e.push,titles:[{name:Object(mn.c)(Ly),url:"/projects/"+Object(yt.b)()+"/definition"},{name:Object(mn.c)(Ry)}]})}),e.children)}function Yy(e){var n=Object(o.useRef)([]),t=Object(o.useState)(170),a=t[0],r=t[1],c=Object(s.l)(),l=c[0],u=c[1],d=Object(o.useCallback)((function(t,a){if(t&&t.stopPropagation(),1!==n.current.length){var o=n.current.findIndex((function(e){return e.id===a}));n.current.splice(o,1),r(n.current[o<1?0:o-1].id),u()}else e.history.length>2?e.history.goBack():e.history.push&&e.history.push("/projects/"+Object(yt.b)()+"/definition/root")}),[e.history,u]),p=function(e){if(n.current.some((function(n){return n.id===e.id})))r(e.id);else{var t=[].concat(n.current,[Py({},e)]);n.current=t,r(e.id)}};Object(o.useEffect)((function(){O.b.on(O.a.UPDATE_TABS,p)}),[]);return i.a.createElement(Uy,{push:e.history.push},i.a.createElement(I,{tabs:n.current,activeId:a,clickItem:function(e){return r(e)},deleteItem:d,key:l}),i.a.createElement(_y,{taskId:170,style:170!==a?{display:"none"}:{},setInitTabs:function(e){n.current.every((function(n){return n.name!==e.name}))&&(n.current=[e],u())},updateTabName:function(e){var t=e.id,a=e.name,r=e.dirId,o=n.current.findIndex((function(e){return e.id===t}));o<0||(n.current[o].name=a,n.current[o].dirId=r,u())},close:function(t){1!==n.current.length?d(null,t):e.history.length>2?e.history.goBack():e.history.push&&e.history.push("/projects/"+Object(yt.b)()+"/definition/root")}}))}Uy.propTypes={children:l.a.node,push:l.a.func},Yy.propTypes={match:l.a.object,history:l.a.object};n.default=Yy},860:function(e,n,t){var a=t(861),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},861:function(e,n,t){n=e.exports=t(25)(!0);var a=t(254),r=a(t(862)),o=a(t(863)),i=a(t(864));n.push([e.i,"\n    ._1rNFD:hover {\n        background: rgba(var(--color-primary-500R) ,.06)\n    }\n\n.dataflow-sprite {\n        background-image: url("+r+");\n        background-size: 46px 828px;\n        width: 46px;\n        height: 46px\n    }\n\n.dataflow-sprite.InputDatasetSource { background-position: 0 0; }\n\n.dataflow-sprite.OutputDataset { background-position: 0 -46px; }\n\n.dataflow-sprite.GroupByTransform { background-position: 0 -92px; }\n\n.dataflow-sprite.SelectColumnsTransform { background-position: 0 -138px; }\n\n.dataflow-sprite.CalculatorTransform { background-position: 0 -184px; }\n\n.dataflow-sprite.FieldReplacerTransform { background-position: 0 -230px; }\n\n.dataflow-sprite.RemoveDuplicateTransform { background-position: 0 -276px; }\n\n.dataflow-sprite.NullValueMapperTransform { background-position: 0 -322px; }\n\n.dataflow-sprite.RowFilterTransform { background-position: 0 -368px; }\n\n.dataflow-sprite.JoinTransform { background-position: 0 -414px; }\n\n.dataflow-sprite.UnionTransform { background-position: 0 -460px; }\n\n.dataflow-sprite.PlainSqlTransform { background-position: 0 -506px; }\n\n.dataflow-sprite.NaiveBayesModelTarget { background-position: 0 -552px; }\n\n.dataflow-sprite.NaiveBayesPredictTransform { background-position: 0 -598px; }\n\n.dataflow-sprite.OutputDatasourceTarget { background-position: 0 -644px; }\n\n.dataflow-sprite.OutputDatasetTarget { background-position: 0 -690px; }\n\n.dataflow-sprite.UnpivotTransform { background-position: 0 -736px; }\n\n.dataflow-sprite.PivotTransform { background-position: 0 -780px; }\n\n.dataflow-sprite.small {\n        background-size: 22px 396px;\n        width: 22px;\n        height: 22px\n    }\n\n.dataflow-sprite.small.InputDatasetSource { background-position: 0 0; }\n\n.dataflow-sprite.small.OutputDataset { background-position: 0 -22px; }\n\n.dataflow-sprite.small.GroupByTransform { background-position: 0 -44px; }\n\n.dataflow-sprite.small.SelectColumnsTransform { background-position: 0 -66px; }\n\n.dataflow-sprite.small.CalculatorTransform { background-position: 0 -88px; }\n\n.dataflow-sprite.small.FieldReplacerTransform { background-position: 0 -110px; }\n\n.dataflow-sprite.small.RemoveDuplicateTransform { background-position: 0 -132px; }\n\n.dataflow-sprite.small.NullValueMapperTransform { background-position: 0 -154px; }\n\n.dataflow-sprite.small.RowFilterTransform { background-position: 0 -176px; }\n\n.dataflow-sprite.small.JoinTransform { background-position: 0 -198px; }\n\n.dataflow-sprite.small.UnionTransform { background-position: 0 -220px; }\n\n.dataflow-sprite.small.PlainSqlTransform { background-position: 0 -242px; }\n\n.dataflow-sprite.small.NaiveBayesModelTarget { background-position: 0 -264px; }\n\n.dataflow-sprite.small.NaiveBayesPredictTransform { background-position: 0 -286px; }\n\n.dataflow-sprite.small.OutputDatasourceTarget { background-position: 0 -308px; }\n\n.dataflow-sprite.small.OutputDatasetTarget { background-position: 0 -330px; }\n\n.dataflow-sprite.small.UnpivotTransform { background-position: 0 -352px; }\n\n.dataflow-sprite.small.PivotTransform { background-position: 0 -374px; }\n\n.dataflow-sprite.taskbar {\n        background-image: url("+o+");\n    }\n\n.dataflow-node-type {\n        background-image: url("+i+");\n        background-size: 22px 110px;\n        width: 22px;\n        height: 22px\n    }\n\n.dataflow-node-type.category_dataset { background-position: 0 0; }\n\n.dataflow-node-type.category_edit_column { background-position: 0 -22px; }\n\n.dataflow-node-type.category_edit_data { background-position: 0 -44px; }\n\n.dataflow-node-type.category_combine { background-position: 0 -66px; }\n\n.dataflow-node-type.none { background-position: 0 -88px; }\n\n._3f-_X {\n    box-shadow:0px 3px 6px 0px rgba(0,0,0,0.06)\n}\n","",{version:3,sources:["TaskItem.scss"],names:[],mappings:";IACI;QACI;IACJ;;AAIA;QACI,+CAA6D;QAC7D,2BAA2B;QAC3B,WAAW;QACX;IAoBJ;;AAlBI,sCAAuB,wBAAwB,EAAE;;AACjD,iCAAkB,4BAA4B,EAAE;;AAChD,oCAAqB,4BAA4B,EAAE;;AACnD,0CAA2B,6BAA6B,EAAE;;AAC1D,uCAAwB,6BAA6B,EAAE;;AACvD,0CAA2B,6BAA6B,EAAE;;AAC1D,4CAA6B,6BAA6B,EAAE;;AAC5D,4CAA6B,6BAA6B,EAAE;;AAC5D,sCAAuB,6BAA6B,EAAE;;AACtD,iCAAkB,6BAA6B,EAAE;;AACjD,kCAAmB,6BAA6B,EAAE;;AAClD,qCAAsB,6BAA6B,EAAE;;AACrD,yCAA0B,6BAA6B,EAAE;;AACzD,8CAA+B,6BAA6B,EAAE;;AAC9D,0CAA2B,6BAA6B,EAAE;;AAC1D,uCAAwB,6BAA6B,EAAE;;AACvD,oCAAqB,6BAA6B,EAAE;;AACpD,kCAAmB,6BAA6B,EAAE;;AAGtD;QACI,2BAA2B;QAC3B,WAAW;QACX;IAsBJ;;AApBI,4CAAuB,wBAAwB,EAAE;;AACjD,uCAAkB,4BAA4B,EAAE;;AAChD,0CAAqB,4BAA4B,EAAE;;AAEnD,gDAA2B,4BAA4B,EAAE;;AACzD,6CAAwB,4BAA4B,EAAE;;AACtD,gDAA2B,6BAA6B,EAAE;;AAC1D,kDAA6B,6BAA6B,EAAE;;AAC5D,kDAA6B,6BAA6B,EAAE;;AAE5D,4CAAuB,6BAA6B,EAAE;;AACtD,uCAAkB,6BAA6B,EAAE;;AACjD,wCAAmB,6BAA6B,EAAE;;AAClD,2CAAsB,6BAA6B,EAAE;;AACrD,+CAA0B,6BAA6B,EAAE;;AACzD,oDAA+B,6BAA6B,EAAE;;AAC9D,gDAA2B,6BAA6B,EAAE;;AAC1D,6CAAwB,6BAA6B,EAAE;;AACvD,0CAAqB,6BAA6B,EAAE;;AACpD,wCAAmB,6BAA6B,EAAE;;AAGtD;QACI,+CAAqE;IACzE;;AAEA;QACI,+CAAgE;QAChE,2BAA2B;QAC3B,WAAW;QACX;IAOJ;;AALI,uCAAqB,wBAAwB,EAAE;;AAC/C,2CAAyB,4BAA4B,EAAE;;AACvD,yCAAuB,4BAA4B,EAAE;;AACrD,uCAAqB,4BAA4B,EAAE;;AACnD,2BAAS,4BAA4B,EAAE;;AAI/C;IACI;AACJ",file:"TaskItem.scss",sourcesContent:[".item {\n    &:hover {\n        background: rgba(var(--color-primary-500R) ,.06)\n    }\n}\n\n:global {\n    .dataflow-sprite {\n        background-image: url('../../assets/img/dataflow-sprite.png');\n        background-size: 46px 828px;\n        width: 46px;\n        height: 46px;\n\n        &.InputDatasetSource { background-position: 0 0; }\n        &.OutputDataset { background-position: 0 -46px; }\n        &.GroupByTransform { background-position: 0 -92px; }\n        &.SelectColumnsTransform { background-position: 0 -138px; }\n        &.CalculatorTransform { background-position: 0 -184px; }\n        &.FieldReplacerTransform { background-position: 0 -230px; }\n        &.RemoveDuplicateTransform { background-position: 0 -276px; }\n        &.NullValueMapperTransform { background-position: 0 -322px; }\n        &.RowFilterTransform { background-position: 0 -368px; }\n        &.JoinTransform { background-position: 0 -414px; }\n        &.UnionTransform { background-position: 0 -460px; }\n        &.PlainSqlTransform { background-position: 0 -506px; }\n        &.NaiveBayesModelTarget { background-position: 0 -552px; }\n        &.NaiveBayesPredictTransform { background-position: 0 -598px; }\n        &.OutputDatasourceTarget { background-position: 0 -644px; }\n        &.OutputDatasetTarget { background-position: 0 -690px; }\n        &.UnpivotTransform { background-position: 0 -736px; }\n        &.PivotTransform { background-position: 0 -780px; }\n    }\n\n    .dataflow-sprite.small {\n        background-size: 22px 396px;\n        width: 22px;\n        height: 22px;\n\n        &.InputDatasetSource { background-position: 0 0; }\n        &.OutputDataset { background-position: 0 -22px; }\n        &.GroupByTransform { background-position: 0 -44px; }\n\n        &.SelectColumnsTransform { background-position: 0 -66px; }\n        &.CalculatorTransform { background-position: 0 -88px; }\n        &.FieldReplacerTransform { background-position: 0 -110px; }\n        &.RemoveDuplicateTransform { background-position: 0 -132px; }\n        &.NullValueMapperTransform { background-position: 0 -154px; }\n\n        &.RowFilterTransform { background-position: 0 -176px; }\n        &.JoinTransform { background-position: 0 -198px; }\n        &.UnionTransform { background-position: 0 -220px; }\n        &.PlainSqlTransform { background-position: 0 -242px; }\n        &.NaiveBayesModelTarget { background-position: 0 -264px; }\n        &.NaiveBayesPredictTransform { background-position: 0 -286px; }\n        &.OutputDatasourceTarget { background-position: 0 -308px; }\n        &.OutputDatasetTarget { background-position: 0 -330px; }\n        &.UnpivotTransform { background-position: 0 -352px; }\n        &.PivotTransform { background-position: 0 -374px; }\n    }\n\n    .dataflow-sprite.taskbar {\n        background-image: url('../../assets/img/dataflow-sprite-taskbar.png');\n    }\n\n    .dataflow-node-type {\n        background-image: url('../../assets/img/dataflow-node-type.png');\n        background-size: 22px 110px;\n        width: 22px;\n        height: 22px;\n\n        &.category_dataset { background-position: 0 0; }\n        &.category_edit_column { background-position: 0 -22px; }\n        &.category_edit_data { background-position: 0 -44px; }\n        &.category_combine { background-position: 0 -66px; }\n        &.none { background-position: 0 -88px; }\n    }\n}\n\n.container {\n    box-shadow:0px 3px 6px 0px rgba(0,0,0,0.06)\n}\n"]}]),n.locals={item:"_1rNFD",container:"_3f-_X"}},862:function(e,n,t){e.exports=t.p+"images/dataflow-sprite.png?625761640b8d1d0dd98e85fefb6680f3"},863:function(e,n,t){e.exports=t.p+"images/dataflow-sprite-taskbar.png?a72e040a37f385e8a2afacb1a825513c"},864:function(e,n,t){e.exports=t.p+"images/dataflow-node-type.png?947d272c7fcb773bb86b74fc31019c63"},883:function(e,n,t){var a=t(884),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},884:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._6iasJ {\n    overflow-x: scroll;\n}\n\n    ._6iasJ ._3yrPQ {\n        right: 6px;\n        top: 6px;\n        height: 26px;\n        width: 64px;\n        background: var(--color-grey-000);\n        z-index: 2;\n        box-shadow: 0px 1px 10px 0px rgba(var(--color-grey-900R), 0.1);\n    }\n\n    ._6iasJ {\n        @-webkit-keyframes _3wqvG {\n            0% {}\n            50% { background-color: transparent; }\n            100% {}\n        }\n    }\n\n    /* BASICS */\n\n    ._6iasJ .CodeMirror {\n            /* Set height, width, borders, and global font properties here */\n            font-family: monospace;\n            color: black;\n            direction: ltr;\n            height: auto;\n        }\n\n    /* PADDING */\n\n    ._6iasJ .CodeMirror-lines {\n            padding: 4px 0; /* Vertical padding around content */\n        }\n\n    ._6iasJ .CodeMirror pre.CodeMirror-line,\n        ._6iasJ .CodeMirror pre.CodeMirror-line-like {\n            padding: 0 4px; /* Horizontal padding of content */\n        }\n\n    ._6iasJ .CodeMirror-scrollbar-filler, ._6iasJ .CodeMirror-gutter-filler {\n            background-color: white; /* The little square between H and V scrollbars */\n        }\n\n    /* GUTTER */\n\n    ._6iasJ .CodeMirror-gutters {\n            border-right: 1px solid #E9ECF1;\n            white-space: nowrap;\n        }\n\n    ._6iasJ .CodeMirror-linenumber {\n            text-align: center;\n            width: 16px;\n            color: #999;\n            white-space: nowrap;\n        }\n\n    ._6iasJ .CodeMirror-guttermarker { color: black; }\n\n    ._6iasJ .CodeMirror-guttermarker-subtle { color: #999; }\n\n    /* CURSOR */\n\n    ._6iasJ .CodeMirror-cursor {\n            border-left: 1px solid black;\n            border-right: none;\n            width: 0;\n        }\n\n    /* Shown when moving in bi-directional text */\n\n    ._6iasJ .CodeMirror div.CodeMirror-secondarycursor {\n            border-left: 1px solid silver;\n        }\n\n    ._6iasJ .cm-fat-cursor .CodeMirror-cursor {\n            width: auto;\n            border: 0 !important;\n            background: #7e7;\n        }\n\n    ._6iasJ .cm-fat-cursor div.CodeMirror-cursors {\n            z-index: 1;\n        }\n\n    ._6iasJ .cm-fat-cursor-mark {\n            background-color: rgba(20, 255, 20, 0.5);\n            -webkit-animation: blink 1.06s steps(1) infinite;\n            animation: blink 1.06s steps(1) infinite;\n        }\n\n    ._6iasJ .cm-animate-fat-cursor {\n            width: auto;\n            border: 0;\n            -webkit-animation: blink 1.06s steps(1) infinite;\n            animation: blink 1.06s steps(1) infinite;\n            background-color: #7e7;\n        }\n\n    @-webkit-keyframes _3wqvG {\n            0% {}\n            50% { background-color: transparent; }\n            100% {}\n        }\n\n    @keyframes _3wqvG {\n            0% {}\n            50% { background-color: transparent; }\n            100% {}\n        }\n\n    /* Can style cursor different in overwrite (non-insert) mode */\n\n    ._6iasJ .CodeMirror-overwrite .CodeMirror-cursor {}\n\n    ._6iasJ .cm-tab { display: inline-block; text-decoration: inherit; }\n\n    ._6iasJ .CodeMirror-rulers {\n            position: absolute;\n            left: 0; right: 0; top: -50px; bottom: 0;\n            overflow: hidden;\n        }\n\n    ._6iasJ .CodeMirror-ruler {\n            border-left: 1px solid #ccc;\n            top: 0; bottom: 0;\n            position: absolute;\n        }\n\n    /* DEFAULT THEME */\n\n    ._6iasJ .cm-s-default .cm-header {color: blue;}\n\n    ._6iasJ .cm-s-default .cm-quote {color: #090;}\n\n    ._6iasJ .cm-negative {color: #d44;}\n\n    ._6iasJ .cm-positive {color: #292;}\n\n    ._6iasJ .cm-header, ._6iasJ .cm-strong {font-weight: bold;}\n\n    ._6iasJ .cm-em {font-style: italic;}\n\n    ._6iasJ .cm-link {text-decoration: underline;}\n\n    ._6iasJ .cm-strikethrough {text-decoration: line-through;}\n\n    ._6iasJ .cm-s-default .cm-keyword {color: #708;}\n\n    ._6iasJ .cm-s-default .cm-atom {color: #219;}\n\n    ._6iasJ .cm-s-default .cm-number {color: #164;}\n\n    ._6iasJ .cm-s-default .cm-def {color: #00f;}\n\n    ._6iasJ .cm-s-default .cm-variable,\n        ._6iasJ .cm-s-default .cm-punctuation,\n        ._6iasJ .cm-s-default .cm-property,\n        ._6iasJ .cm-s-default .cm-operator {}\n\n    ._6iasJ .cm-s-default .cm-variable-2 {color: #05a;}\n\n    ._6iasJ .cm-s-default .cm-variable-3, ._6iasJ .cm-s-default .cm-type {color: #085;}\n\n    ._6iasJ .cm-s-default .cm-comment {color: #a50;}\n\n    ._6iasJ .cm-s-default .cm-string {color: #a11;}\n\n    ._6iasJ .cm-s-default .cm-string-2 {color: #f50;}\n\n    ._6iasJ .cm-s-default .cm-meta {color: #555;}\n\n    ._6iasJ .cm-s-default .cm-qualifier {color: #555;}\n\n    ._6iasJ .cm-s-default .cm-builtin {color: #30a;}\n\n    ._6iasJ .cm-s-default .cm-bracket {color: #997;}\n\n    ._6iasJ .cm-s-default .cm-tag {color: #170;}\n\n    ._6iasJ .cm-s-default .cm-attribute {color: #00c;}\n\n    ._6iasJ .cm-s-default .cm-hr {color: #999;}\n\n    ._6iasJ .cm-s-default .cm-link {color: #00c;}\n\n    ._6iasJ .cm-s-default .cm-error {color: #f00;}\n\n    ._6iasJ .cm-invalidchar {color: #f00;}\n\n    ._6iasJ .CodeMirror-composing { border-bottom: 2px solid; }\n\n    /* Default styles for common addons */\n\n    ._6iasJ div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\n\n    ._6iasJ div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n\n    ._6iasJ .CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n\n    ._6iasJ .CodeMirror-activeline-background {background: #e8f2ff;}\n\n    /* The rest of this file contains styles related to the mechanics of\n            the editor. You probably shouldn't touch them. */\n\n    ._6iasJ .CodeMirror {\n            position: relative;\n            overflow: hidden;\n            background: white;\n        }\n\n    /* STOP */\n\n    ._6iasJ .CodeMirror-scroll {\n            overflow: scroll !important; /* Things will break if this is overridden */\n            /* 30px is the magic margin used to hide the element's real scrollbars */\n            /* See overflow: hidden in .CodeMirror */\n            margin-bottom: -30px;\n            padding-bottom: 30px;\n            outline: none; /* Prevent dragging from highlighting the element */\n            position: relative;\n        }\n\n    ._6iasJ .CodeMirror-sizer {\n            position: relative;\n            border-right: 30px solid transparent;\n        }\n\n    /* The fake, visible scrollbars. Used to force redraw during scrolling\n            before actual scrolling happens, thus preventing shaking and\n            flickering artifacts. */\n\n    ._6iasJ .CodeMirror-vscrollbar, ._6iasJ .CodeMirror-hscrollbar, ._6iasJ .CodeMirror-scrollbar-filler, ._6iasJ .CodeMirror-gutter-filler {\n            position: absolute;\n            z-index: 6;\n            display: none;\n        }\n\n    ._6iasJ .CodeMirror-vscrollbar {\n            right: 0; top: 0;\n            overflow-x: hidden;\n            overflow-y: scroll;\n        }\n\n    ._6iasJ .CodeMirror-hscrollbar {\n            bottom: 0; left: 0;\n            outline: none;\n            overflow-y: hidden;\n            overflow-x: scroll;\n        }\n\n    ._6iasJ .CodeMirror-scrollbar-filler {\n            right: 0; bottom: 0;\n        }\n\n    ._6iasJ .CodeMirror-gutter-filler {\n            left: 0; bottom: 0;\n        }\n\n    ._6iasJ .CodeMirror-gutters {\n            position: absolute; left: 0; top: 0;\n            min-height: 100%;\n            z-index: 3;\n        }\n\n    ._6iasJ .CodeMirror-gutter {\n            white-space: normal;\n            background: rgba(250,251,252,1);\n            height: 100%;\n            display: inline-block;\n            vertical-align: top;\n            margin-bottom: -30px;\n        }\n\n    ._6iasJ .CodeMirror-gutter-wrapper {\n            position: absolute;\n            z-index: 4;\n            background: none !important;\n            border: none !important;\n        }\n\n    ._6iasJ .CodeMirror-gutter-background {\n            position: absolute;\n            top: 0; bottom: 0;\n            z-index: 4;\n        }\n\n    ._6iasJ .CodeMirror-gutter-elt {\n            position: absolute;\n            cursor: default;\n            z-index: 4;\n        }\n\n    ._6iasJ .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n    ._2cSmN ::-moz-selection { background-color: transparent }\n\n    ._6iasJ .CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n\n    ._6iasJ .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n    ._6iasJ .CodeMirror-lines {\n            cursor: text;\n            min-height: 1px; /* prevents collapsing before first draw */\n        }\n\n    ._6iasJ .CodeMirror pre.CodeMirror-line,\n        ._6iasJ .CodeMirror pre.CodeMirror-line-like {\n            /* Reset some styles that the rest of the page might have set */ border-radius: 0;\n            border-width: 0;\n            background: transparent;\n            font-family: inherit;\n            font-size: inherit;\n            margin: 0;\n            white-space: pre;\n            word-wrap: normal;\n            line-height: inherit;\n            color: inherit;\n            z-index: 2;\n            position: relative;\n            overflow: visible;\n            -webkit-tap-highlight-color: transparent;\n            -webkit-font-variant-ligatures: contextual;\n            font-feature-settings: \"calt\";\n            font-variant-ligatures: contextual;\n        }\n\n    ._6iasJ .CodeMirror-wrap pre.CodeMirror-line,\n        ._6iasJ .CodeMirror-wrap pre.CodeMirror-line-like {\n            word-wrap: break-word;\n            white-space: pre-wrap;\n            word-break: normal;\n        }\n\n    ._6iasJ .CodeMirror-linebackground {\n            position: absolute;\n            left: 0; right: 0; top: 0; bottom: 0;\n            z-index: 0;\n        }\n\n    ._6iasJ .CodeMirror-linewidget {\n            position: relative;\n            z-index: 2;\n            padding: 0.1px; /* Force widget margins to stay inside of the container */\n        }\n\n    ._6iasJ .CodeMirror pre.CodeMirror-placeholder { color: #ccc; }\n\n    ._6iasJ .CodeMirror-widget {}\n\n    ._6iasJ .CodeMirror-rtl pre { direction: rtl; }\n\n    ._6iasJ .CodeMirror-code {\n            outline: none;\n        }\n\n    /* Force content-box sizing for the elements where we expect it */\n\n    ._6iasJ .CodeMirror-scroll,\n        ._6iasJ .CodeMirror-sizer,\n        ._6iasJ .CodeMirror-gutter,\n        ._6iasJ .CodeMirror-gutters,\n        ._6iasJ .CodeMirror-linenumber {\n            box-sizing: content-box;\n        }\n\n    ._6iasJ .CodeMirror-measure {\n            position: absolute;\n            width: 100%;\n            height: 0;\n            overflow: hidden;\n            visibility: hidden;\n        }\n\n    ._6iasJ .CodeMirror-cursor {\n            position: absolute;\n            pointer-events: none;\n        }\n\n    ._6iasJ .CodeMirror-measure pre { position: static; }\n\n    ._6iasJ div.CodeMirror-cursors {\n            visibility: hidden;\n            position: relative;\n            z-index: 3;\n        }\n\n    ._6iasJ div.CodeMirror-dragcursors {\n            visibility: visible;\n        }\n\n    ._6iasJ .CodeMirror-focused div.CodeMirror-cursors {\n            visibility: visible;\n        }\n\n    ._6iasJ .CodeMirror-selected { background: #d9d9d9; }\n\n    ._6iasJ .CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n\n    ._6iasJ .CodeMirror-crosshair { cursor: crosshair; }\n\n    ._6iasJ .CodeMirror-line::-moz-selection, ._6iasJ .CodeMirror-line > span::-moz-selection, ._6iasJ .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n    ._2Uzs6::-moz-selection, ._2Uzs6 > span::-moz-selection, ._2Uzs6 > span > span::-moz-selection { background: #d7d4f0; }\n\n    ._6iasJ .CodeMirror-line::selection, ._6iasJ .CodeMirror-line > span::selection, ._6iasJ .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n\n    ._6iasJ .CodeMirror-line::-moz-selection, ._6iasJ .CodeMirror-line > span::-moz-selection, ._6iasJ .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n    ._6iasJ .cm-searching {\n            background-color: #ffa;\n            background-color: rgba(255, 255, 0, .4);\n        }\n\n    /* Used to force a border model for a node */\n\n    ._6iasJ .cm-force-border { padding-right: .1px; }\n\n    @media print {\n            /* Hide the cursor when printing */\n            ._6iasJ .CodeMirror div.CodeMirror-cursors {\n            visibility: hidden;\n            }\n        }\n\n    /* See issue #2901 */\n\n    ._6iasJ .cm-tab-wrap-hack:after { content: ''; }\n\n    /* Help users use markselection to safely style text background */\n\n    ._6iasJ span.CodeMirror-selectedtext { background: none; }\n\n    /*\n        THEME\n        MDN-LIKE Theme - Mozilla\n        Ported to CodeMirror by Peter Kroon <plakroon@gmail.com>\n        Report bugs/issues here: https://github.com/codemirror/CodeMirror/issues\n        GitHub: @peterkroon\n\n        The gd theme is inspired on the displayed code examples at: https://developer.mozilla.org/en-US/docs/Web/CSS/animation\n\n        */\n\n    ._6iasJ .cm-s-gd.CodeMirror { color: #999; background:rgba(250,251,252,1); border-radius:1px; border:1px solid rgba(233,236,241,1); width: 100%; height: 100% }\n\n    ._6iasJ .cm-s-gd div.CodeMirror-selected { background: #cfc; }\n\n    ._6iasJ .cm-s-gd .CodeMirror-line::-moz-selection, ._6iasJ .cm-s-gd .CodeMirror-line > span::-moz-selection, ._6iasJ .cm-s-gd .CodeMirror-line > span > span::-moz-selection { background: #cfc; }\n\n    ._2sA4x ._2Uzs6::-moz-selection, ._2sA4x ._2Uzs6 > span::-moz-selection, ._2sA4x ._2Uzs6 > span > span::-moz-selection { background: #cfc; }\n\n    ._6iasJ .cm-s-gd .CodeMirror-line::selection, ._6iasJ .cm-s-gd .CodeMirror-line > span::selection, ._6iasJ .cm-s-gd .CodeMirror-line > span > span::selection { background: #cfc; }\n\n    ._6iasJ .cm-s-gd .CodeMirror-line::-moz-selection, ._6iasJ .cm-s-gd .CodeMirror-line > span::-moz-selection, ._6iasJ .cm-s-gd .CodeMirror-line > span > span::-moz-selection { background: #cfc; }\n\n    ._6iasJ .cm-s-gd .CodeMirror-gutters { width: 17px; color: #333; }\n\n    ._6iasJ .cm-s-gd .CodeMirror-linenumber { color: #aaa; padding: 0; }\n\n    ._6iasJ .cm-s-gd .CodeMirror-cursor { border-left: 2px solid #aaa; }\n\n    ._6iasJ .cm-s-gd .cm-keyword { color: #6262FF; }\n\n    ._6iasJ .cm-s-gd .cm-atom { color: #F90; }\n\n    ._6iasJ .cm-s-gd .cm-number { color:  #ca7841; }\n\n    ._6iasJ .cm-s-gd .cm-def { color: #8DA6CE; }\n\n    ._6iasJ .cm-s-gd span.cm-variable-2, ._6iasJ .cm-s-gd span.cm-tag { color: #690; }\n\n    ._6iasJ .cm-s-gd span.cm-variable-3, ._6iasJ .cm-s-gd span.cm-def, ._6iasJ .cm-s-gd span.cm-type { color: #07a; }\n\n    ._6iasJ .cm-s-gd .cm-variable { color: #07a; }\n\n    ._6iasJ .cm-s-gd .cm-property { color: #905; }\n\n    ._6iasJ .cm-s-gd .cm-qualifier { color: #690; }\n\n    ._6iasJ .cm-s-gd .cm-operator { color: #cda869; }\n\n    ._6iasJ .cm-s-gd .cm-comment { color:#777; font-weight:normal; }\n\n    ._6iasJ .cm-s-gd .cm-string { color:#07a; font-style:italic; }\n\n    ._6iasJ .cm-s-gd .cm-string-2 { color:#bd6b18; }\n\n    /*?*/\n\n    ._6iasJ .cm-s-gd .cm-meta { color: #000; }\n\n    /*?*/\n\n    ._6iasJ .cm-s-gd .cm-builtin { color: #9B7536; }\n\n    /*?*/\n\n    ._6iasJ .cm-s-gd .cm-tag { color: #997643; }\n\n    ._6iasJ .cm-s-gd .cm-attribute { color: #d6bb6d; }\n\n    /*?*/\n\n    ._6iasJ .cm-s-gd .cm-header { color: #FF6400; }\n\n    ._6iasJ .cm-s-gd .cm-hr { color: #AEAEAE; }\n\n    ._6iasJ .cm-s-gd .cm-link { color:#ad9361; font-style:italic; text-decoration:none; }\n\n    ._6iasJ .cm-s-gd .cm-error { border-bottom: 1px solid red; }\n\n    ._6iasJ div.cm-s-gd .CodeMirror-activeline-background { background: #efefff; }\n\n    ._6iasJ div.cm-s-gd span.CodeMirror-matchingbracket { outline:1px solid grey; color: inherit; }\n/*\n    Hint\n    */\n.CodeMirror-hints {\n        position: absolute;\n        z-index: 1000;\n        overflow: hidden;\n        list-style: none;\n\n        margin: 0;\n        padding: 2px;\n        box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n        border-radius: 3px;\n        border: 1px solid silver;\n\n        background: white;\n        font-size: 90%;\n        font-family: monospace;\n\n        max-height: 20em;\n        overflow-y: auto;\n    }\n.CodeMirror-hint {\n        margin: 0;\n        padding: 0 4px;\n        border-radius: 2px;\n        white-space: pre;\n        color: black;\n        cursor: pointer;\n    }\nli.CodeMirror-hint-active {\n        background: #08f;\n        color: white;\n    }\n.CodeMirror-empty {\n        width: 100%;\n    }\n","",{version:3,sources:["CodeEditor.scss"],names:[],mappings:"AAAA;IACI,kBAAkB;AAyZtB;;IAvZI;QACI,UAAU;QACV,QAAQ;QACR,YAAY;QACZ,WAAW;QACX,iCAAiC;QACjC,UAAU;QACV,8DAA8D;IAClE;;IAEA;QA+EI;YACI,IAAI;YACJ,MAAM,6BAA6B,EAAE;YACrC,MAAM;QACV;IAyTJ;;IA3YI,WAAW;;IAEX;YACI,gEAAgE;YAChE,sBAAsB;YACtB,YAAY;YACZ,cAAc;YACd,YAAY;QAChB;;IAEA,YAAY;;IAEZ;YACI,cAAc,EAAE,oCAAoC;QACxD;;IACA;;YAEI,cAAc,EAAE,kCAAkC;QACtD;;IAEA;YACI,uBAAuB,EAAE,iDAAiD;QAC9E;;IAEA,WAAW;;IAEX;YACI,+BAA+B;YAC/B,mBAAmB;QACvB;;IACA;YACI,kBAAkB;YAClB,WAAW;YACX,WAAW;YACX,mBAAmB;QACvB;;IAEA,mCAA2B,YAAY,EAAE;;IACzC,0CAAkC,WAAW,EAAE;;IAE/C,WAAW;;IAEX;YACI,4BAA4B;YAC5B,kBAAkB;YAClB,QAAQ;QACZ;;IACA,6CAA6C;;IAC7C;YACI,6BAA6B;QACjC;;IACA;YACI,WAAW;YACX,oBAAoB;YACpB,gBAAgB;QACpB;;IACA;YACI,UAAU;QACd;;IACA;YACI,wCAAwC;YACxC,gDAAgD;YAEhD,wCAAwC;QAC5C;;IACA;YACI,WAAW;YACX,SAAS;YACT,gDAAgD;YAEhD,wCAAwC;YACxC,sBAAsB;QAC1B;;IAWA;YACI,IAAI;YACJ,MAAM,6BAA6B,EAAE;YACrC,MAAM;QACV;;IAJA;YACI,IAAI;YACJ,MAAM,6BAA6B,EAAE;YACrC,MAAM;QACV;;IAEA,8DAA8D;;IAC9D,kDAA0C;;IAE1C,kBAAU,qBAAqB,EAAE,wBAAwB,EAAE;;IAE3D;YACI,kBAAkB;YAClB,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS;YACxC,gBAAgB;QACpB;;IACA;YACI,2BAA2B;YAC3B,MAAM,EAAE,SAAS;YACjB,kBAAkB;QACtB;;IAEA,kBAAkB;;IAElB,kCAA0B,WAAW,CAAC;;IACtC,iCAAyB,WAAW,CAAC;;IACrC,sBAAc,WAAW,CAAC;;IAC1B,sBAAc,WAAW,CAAC;;IAC1B,wCAAwB,iBAAiB,CAAC;;IAC1C,gBAAQ,kBAAkB,CAAC;;IAC3B,kBAAU,0BAA0B,CAAC;;IACrC,2BAAmB,6BAA6B,CAAC;;IAEjD,mCAA2B,WAAW,CAAC;;IACvC,gCAAwB,WAAW,CAAC;;IACpC,kCAA0B,WAAW,CAAC;;IACtC,+BAAuB,WAAW,CAAC;;IACnC;;;4CAG4B;;IAC5B,sCAA8B,WAAW,CAAC;;IAC1C,sEAAsD,WAAW,CAAC;;IAClE,mCAA2B,WAAW,CAAC;;IACvC,kCAA0B,WAAW,CAAC;;IACtC,oCAA4B,WAAW,CAAC;;IACxC,gCAAwB,WAAW,CAAC;;IACpC,qCAA6B,WAAW,CAAC;;IACzC,mCAA2B,WAAW,CAAC;;IACvC,mCAA2B,WAAW,CAAC;;IACvC,+BAAuB,WAAW,CAAC;;IACnC,qCAA6B,WAAW,CAAC;;IACzC,8BAAsB,WAAW,CAAC;;IAClC,gCAAwB,WAAW,CAAC;;IAEpC,iCAAyB,WAAW,CAAC;;IACrC,yBAAiB,WAAW,CAAC;;IAE7B,gCAAwB,wBAAwB,EAAE;;IAElD,qCAAqC;;IAErC,wDAAgD,WAAW,CAAC;;IAC5D,2DAAmD,WAAW,CAAC;;IAC/D,kCAA0B,iCAAiC,EAAE;;IAC7D,2CAAmC,mBAAmB,CAAC;;IAIvD;4DACoD;;IAEpD;YACI,kBAAkB;YAClB,gBAAgB;YAChB,iBAAiB;QACrB;;IATA,SAAS;;IAWT;YACI,2BAA2B,EAAE,4CAA4C;YACzE,wEAAwE;YACxE,wCAAwC;YACxC,oBAAoB;YACpB,oBAAoB;YACpB,aAAa,EAAE,mDAAmD;YAClE,kBAAkB;QACtB;;IACA;YACI,kBAAkB;YAClB,oCAAoC;QACxC;;IAEA;;mCAE2B;;IAC3B;YACI,kBAAkB;YAClB,UAAU;YACV,aAAa;QACjB;;IACA;YACI,QAAQ,EAAE,MAAM;YAChB,kBAAkB;YAClB,kBAAkB;QACtB;;IACA;YACI,SAAS,EAAE,OAAO;YAClB,aAAa;YACb,kBAAkB;YAClB,kBAAkB;QACtB;;IACA;YACI,QAAQ,EAAE,SAAS;QACvB;;IACA;YACI,OAAO,EAAE,SAAS;QACtB;;IAEA;YACI,kBAAkB,EAAE,OAAO,EAAE,MAAM;YACnC,gBAAgB;YAChB,UAAU;QACd;;IACA;YACI,mBAAmB;YACnB,+BAA+B;YAC/B,YAAY;YACZ,qBAAqB;YACrB,mBAAmB;YACnB,oBAAoB;QACxB;;IACA;YACI,kBAAkB;YAClB,UAAU;YACV,2BAA2B;YAC3B,uBAAuB;QAC3B;;IACA;YACI,kBAAkB;YAClB,MAAM,EAAE,SAAS;YACjB,UAAU;QACd;;IACA;YACI,kBAAkB;YAClB,eAAe;YACf,UAAU;QACd;;IACA,sDAAyC,8BAA8B;;IAAvE,2BAAyC,8BAA8B;;IAAvE,iDAAyC,8BAA8B;;IACvE,sDAA8C,8BAA8B;;IAE5E;YACI,YAAY;YACZ,eAAe,EAAE,0CAA0C;QAC/D;;IACA;;YAEI,+DAA+D,EACd,gBAAgB;YACjE,eAAe;YACf,uBAAuB;YACvB,oBAAoB;YACpB,kBAAkB;YAClB,SAAS;YACT,gBAAgB;YAChB,iBAAiB;YACjB,oBAAoB;YACpB,cAAc;YACd,UAAU;YACV,kBAAkB;YAClB,iBAAiB;YACjB,wCAAwC;YACxC,0CAA0C;YAC1C,6BAAkC;YAAlC,kCAAkC;QACtC;;IACA;;YAEI,qBAAqB;YACrB,qBAAqB;YACrB,kBAAkB;QACtB;;IAEA;YACI,kBAAkB;YAClB,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS;YACpC,UAAU;QACd;;IAEA;YACI,kBAAkB;YAClB,UAAU;YACV,cAAc,EAAE,yDAAyD;QAC7E;;IAEA,iDAAyC,WAAW,EAAE;;IACtD,4BAAoB;;IAEpB,8BAAsB,cAAc,EAAE;;IAEtC;YACI,aAAa;QACjB;;IAEA,iEAAiE;;IACjE;;;;;YAMI,uBAAuB;QAC3B;;IAEA;YACI,kBAAkB;YAClB,WAAW;YACX,SAAS;YACT,gBAAgB;YAChB,kBAAkB;QACtB;;IAEA;YACI,kBAAkB;YAClB,oBAAoB;QACxB;;IACA,kCAA0B,gBAAgB,EAAE;;IAE5C;YACI,kBAAkB;YAClB,kBAAkB;YAClB,UAAU;QACd;;IACA;YACI,mBAAmB;QACvB;;IAEA;YACI,mBAAmB;QACvB;;IAEA,+BAAuB,mBAAmB,EAAE;;IAC5C,mDAA2C,mBAAmB,EAAE;;IAChE,gCAAwB,iBAAiB,EAAE;;IAC3C,oJAA6G,mBAAmB,EAAE;;IAAlI,iGAA6G,mBAAmB,EAAE;;IAAlI,qIAA6G,mBAAmB,EAAE;;IAClI,oJAA4H,mBAAmB,EAAE;;IAEjJ;YACI,sBAAsB;YACtB,uCAAuC;QAC3C;;IAEA,4CAA4C;;IAC5C,2BAAmB,mBAAmB,EAAE;;IAExC;YACI,kCAAkC;YAClC;YACA,kBAAkB;YAClB;QACJ;;IAEA,oBAAoB;;IACpB,kCAA0B,WAAW,EAAE;;IAEvC,iEAAiE;;IACjE,uCAA+B,gBAAgB,EAAE;;IAGjD;;;;;;;;;SASC;;IACD,8BAAsB,WAAW,EAAE,8BAA8B,EAAE,iBAAiB,EAAE,oCAAoC,EAAE,WAAW,EAAE,aAAa;;IACtJ,2CAAmC,gBAAgB,EAAE;;IACrD,+KAAwI,gBAAgB,EAAE;;IAA1J,yHAAwI,gBAAgB,EAAE;;IAA1J,gKAAwI,gBAAgB,EAAE;;IAC1J,+KAAuJ,gBAAgB,EAAE;;IAEzK,uCAA+B,WAAW,EAAE,WAAW,EAAE;;IACzD,0CAAkC,WAAW,EAAE,UAAU,EAAE;;IAC3D,sCAA8B,2BAA2B,EAAE;;IAE3D,+BAAuB,cAAc,EAAE;;IACvC,4BAAoB,WAAW,EAAE;;IACjC,8BAAsB,eAAe,EAAE;;IACvC,2BAAmB,cAAc,EAAE;;IACnC,oEAAoD,WAAW,EAAE;;IACjE,mGAA2E,WAAW,EAAE;;IAExF,gCAAwB,WAAW,EAAE;;IACrC,gCAAwB,WAAW,EAAE;;IACrC,iCAAyB,WAAW,EAAE;;IAEtC,gCAAwB,cAAc,EAAE;;IACxC,+BAAuB,UAAU,EAAE,kBAAkB,EAAE;;IACvD,8BAAsB,UAAU,EAAE,iBAAiB,EAAE;;IACrD,gCAAwB,aAAa,EAAE;;IAAE,IAAI;;IAC7C,4BAAoB,WAAW,EAAE;;IAAE,IAAI;;IACvC,+BAAuB,cAAc,EAAE;;IAAE,IAAI;;IAC7C,2BAAmB,cAAc,EAAE;;IACnC,iCAAyB,cAAc,EAAE;;IAAE,IAAI;;IAC/C,8BAAsB,cAAc,EAAE;;IACtC,0BAAkB,cAAc,EAAE;;IAClC,4BAAoB,aAAa,EAAE,iBAAiB,EAAE,oBAAoB,EAAE;;IAC5E,6BAAqB,4BAA4B,EAAE;;IAEnD,wDAAgD,mBAAmB,EAAE;;IACrE,sDAA8C,sBAAsB,EAAE,cAAc,EAAE;AAI1F;;KAEC;AACD;QACI,kBAAkB;QAClB,aAAa;QACb,gBAAgB;QAChB,gBAAgB;;QAEhB,SAAS;QACT,YAAY;QAIZ,sCAAsC;QACtC,kBAAkB;QAClB,wBAAwB;;QAExB,iBAAiB;QACjB,cAAc;QACd,sBAAsB;;QAEtB,gBAAgB;QAChB,gBAAgB;IACpB;AAEA;QACI,SAAS;QACT,cAAc;QACd,kBAAkB;QAClB,gBAAgB;QAChB,YAAY;QACZ,eAAe;IACnB;AAEA;QACI,gBAAgB;QAChB,YAAY;IAChB;AACA;QACI,WAAW;IACf",file:"CodeEditor.scss",sourcesContent:[".container {\n    overflow-x: scroll;\n\n    .edit {\n        right: 6px;\n        top: 6px;\n        height: 26px;\n        width: 64px;\n        background: var(--color-grey-000);\n        z-index: 2;\n        box-shadow: 0px 1px 10px 0px rgba(var(--color-grey-900R), 0.1);\n    }\n\n    :global {\n        /* BASICS */\n\n        .CodeMirror {\n            /* Set height, width, borders, and global font properties here */\n            font-family: monospace;\n            color: black;\n            direction: ltr;\n            height: auto;\n        }\n\n        /* PADDING */\n\n        .CodeMirror-lines {\n            padding: 4px 0; /* Vertical padding around content */\n        }\n        .CodeMirror pre.CodeMirror-line,\n        .CodeMirror pre.CodeMirror-line-like {\n            padding: 0 4px; /* Horizontal padding of content */\n        }\n\n        .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n            background-color: white; /* The little square between H and V scrollbars */\n        }\n\n        /* GUTTER */\n\n        .CodeMirror-gutters {\n            border-right: 1px solid #E9ECF1;\n            white-space: nowrap;\n        }\n        .CodeMirror-linenumber {\n            text-align: center;\n            width: 16px;\n            color: #999;\n            white-space: nowrap;\n        }\n\n        .CodeMirror-guttermarker { color: black; }\n        .CodeMirror-guttermarker-subtle { color: #999; }\n\n        /* CURSOR */\n\n        .CodeMirror-cursor {\n            border-left: 1px solid black;\n            border-right: none;\n            width: 0;\n        }\n        /* Shown when moving in bi-directional text */\n        .CodeMirror div.CodeMirror-secondarycursor {\n            border-left: 1px solid silver;\n        }\n        .cm-fat-cursor .CodeMirror-cursor {\n            width: auto;\n            border: 0 !important;\n            background: #7e7;\n        }\n        .cm-fat-cursor div.CodeMirror-cursors {\n            z-index: 1;\n        }\n        .cm-fat-cursor-mark {\n            background-color: rgba(20, 255, 20, 0.5);\n            -webkit-animation: blink 1.06s steps(1) infinite;\n            -moz-animation: blink 1.06s steps(1) infinite;\n            animation: blink 1.06s steps(1) infinite;\n        }\n        .cm-animate-fat-cursor {\n            width: auto;\n            border: 0;\n            -webkit-animation: blink 1.06s steps(1) infinite;\n            -moz-animation: blink 1.06s steps(1) infinite;\n            animation: blink 1.06s steps(1) infinite;\n            background-color: #7e7;\n        }\n        @-moz-keyframes blink {\n            0% {}\n            50% { background-color: transparent; }\n            100% {}\n        }\n        @-webkit-keyframes blink {\n            0% {}\n            50% { background-color: transparent; }\n            100% {}\n        }\n        @keyframes blink {\n            0% {}\n            50% { background-color: transparent; }\n            100% {}\n        }\n\n        /* Can style cursor different in overwrite (non-insert) mode */\n        .CodeMirror-overwrite .CodeMirror-cursor {}\n\n        .cm-tab { display: inline-block; text-decoration: inherit; }\n\n        .CodeMirror-rulers {\n            position: absolute;\n            left: 0; right: 0; top: -50px; bottom: 0;\n            overflow: hidden;\n        }\n        .CodeMirror-ruler {\n            border-left: 1px solid #ccc;\n            top: 0; bottom: 0;\n            position: absolute;\n        }\n\n        /* DEFAULT THEME */\n\n        .cm-s-default .cm-header {color: blue;}\n        .cm-s-default .cm-quote {color: #090;}\n        .cm-negative {color: #d44;}\n        .cm-positive {color: #292;}\n        .cm-header, .cm-strong {font-weight: bold;}\n        .cm-em {font-style: italic;}\n        .cm-link {text-decoration: underline;}\n        .cm-strikethrough {text-decoration: line-through;}\n\n        .cm-s-default .cm-keyword {color: #708;}\n        .cm-s-default .cm-atom {color: #219;}\n        .cm-s-default .cm-number {color: #164;}\n        .cm-s-default .cm-def {color: #00f;}\n        .cm-s-default .cm-variable,\n        .cm-s-default .cm-punctuation,\n        .cm-s-default .cm-property,\n        .cm-s-default .cm-operator {}\n        .cm-s-default .cm-variable-2 {color: #05a;}\n        .cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n        .cm-s-default .cm-comment {color: #a50;}\n        .cm-s-default .cm-string {color: #a11;}\n        .cm-s-default .cm-string-2 {color: #f50;}\n        .cm-s-default .cm-meta {color: #555;}\n        .cm-s-default .cm-qualifier {color: #555;}\n        .cm-s-default .cm-builtin {color: #30a;}\n        .cm-s-default .cm-bracket {color: #997;}\n        .cm-s-default .cm-tag {color: #170;}\n        .cm-s-default .cm-attribute {color: #00c;}\n        .cm-s-default .cm-hr {color: #999;}\n        .cm-s-default .cm-link {color: #00c;}\n\n        .cm-s-default .cm-error {color: #f00;}\n        .cm-invalidchar {color: #f00;}\n\n        .CodeMirror-composing { border-bottom: 2px solid; }\n\n        /* Default styles for common addons */\n\n        div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\n        div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n        .CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n        .CodeMirror-activeline-background {background: #e8f2ff;}\n\n        /* STOP */\n\n        /* The rest of this file contains styles related to the mechanics of\n            the editor. You probably shouldn't touch them. */\n\n        .CodeMirror {\n            position: relative;\n            overflow: hidden;\n            background: white;\n        }\n\n        .CodeMirror-scroll {\n            overflow: scroll !important; /* Things will break if this is overridden */\n            /* 30px is the magic margin used to hide the element's real scrollbars */\n            /* See overflow: hidden in .CodeMirror */\n            margin-bottom: -30px;\n            padding-bottom: 30px;\n            outline: none; /* Prevent dragging from highlighting the element */\n            position: relative;\n        }\n        .CodeMirror-sizer {\n            position: relative;\n            border-right: 30px solid transparent;\n        }\n\n        /* The fake, visible scrollbars. Used to force redraw during scrolling\n            before actual scrolling happens, thus preventing shaking and\n            flickering artifacts. */\n        .CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n            position: absolute;\n            z-index: 6;\n            display: none;\n        }\n        .CodeMirror-vscrollbar {\n            right: 0; top: 0;\n            overflow-x: hidden;\n            overflow-y: scroll;\n        }\n        .CodeMirror-hscrollbar {\n            bottom: 0; left: 0;\n            outline: none;\n            overflow-y: hidden;\n            overflow-x: scroll;\n        }\n        .CodeMirror-scrollbar-filler {\n            right: 0; bottom: 0;\n        }\n        .CodeMirror-gutter-filler {\n            left: 0; bottom: 0;\n        }\n\n        .CodeMirror-gutters {\n            position: absolute; left: 0; top: 0;\n            min-height: 100%;\n            z-index: 3;\n        }\n        .CodeMirror-gutter {\n            white-space: normal;\n            background: rgba(250,251,252,1);\n            height: 100%;\n            display: inline-block;\n            vertical-align: top;\n            margin-bottom: -30px;\n        }\n        .CodeMirror-gutter-wrapper {\n            position: absolute;\n            z-index: 4;\n            background: none !important;\n            border: none !important;\n        }\n        .CodeMirror-gutter-background {\n            position: absolute;\n            top: 0; bottom: 0;\n            z-index: 4;\n        }\n        .CodeMirror-gutter-elt {\n            position: absolute;\n            cursor: default;\n            z-index: 4;\n        }\n        .CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n        .CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n        .CodeMirror-lines {\n            cursor: text;\n            min-height: 1px; /* prevents collapsing before first draw */\n        }\n        .CodeMirror pre.CodeMirror-line,\n        .CodeMirror pre.CodeMirror-line-like {\n            /* Reset some styles that the rest of the page might have set */\n            -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n            border-width: 0;\n            background: transparent;\n            font-family: inherit;\n            font-size: inherit;\n            margin: 0;\n            white-space: pre;\n            word-wrap: normal;\n            line-height: inherit;\n            color: inherit;\n            z-index: 2;\n            position: relative;\n            overflow: visible;\n            -webkit-tap-highlight-color: transparent;\n            -webkit-font-variant-ligatures: contextual;\n            font-variant-ligatures: contextual;\n        }\n        .CodeMirror-wrap pre.CodeMirror-line,\n        .CodeMirror-wrap pre.CodeMirror-line-like {\n            word-wrap: break-word;\n            white-space: pre-wrap;\n            word-break: normal;\n        }\n\n        .CodeMirror-linebackground {\n            position: absolute;\n            left: 0; right: 0; top: 0; bottom: 0;\n            z-index: 0;\n        }\n\n        .CodeMirror-linewidget {\n            position: relative;\n            z-index: 2;\n            padding: 0.1px; /* Force widget margins to stay inside of the container */\n        }\n\n        .CodeMirror pre.CodeMirror-placeholder { color: #ccc; }\n        .CodeMirror-widget {}\n\n        .CodeMirror-rtl pre { direction: rtl; }\n\n        .CodeMirror-code {\n            outline: none;\n        }\n\n        /* Force content-box sizing for the elements where we expect it */\n        .CodeMirror-scroll,\n        .CodeMirror-sizer,\n        .CodeMirror-gutter,\n        .CodeMirror-gutters,\n        .CodeMirror-linenumber {\n            -moz-box-sizing: content-box;\n            box-sizing: content-box;\n        }\n\n        .CodeMirror-measure {\n            position: absolute;\n            width: 100%;\n            height: 0;\n            overflow: hidden;\n            visibility: hidden;\n        }\n\n        .CodeMirror-cursor {\n            position: absolute;\n            pointer-events: none;\n        }\n        .CodeMirror-measure pre { position: static; }\n\n        div.CodeMirror-cursors {\n            visibility: hidden;\n            position: relative;\n            z-index: 3;\n        }\n        div.CodeMirror-dragcursors {\n            visibility: visible;\n        }\n\n        .CodeMirror-focused div.CodeMirror-cursors {\n            visibility: visible;\n        }\n\n        .CodeMirror-selected { background: #d9d9d9; }\n        .CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n        .CodeMirror-crosshair { cursor: crosshair; }\n        .CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n        .CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n        .cm-searching {\n            background-color: #ffa;\n            background-color: rgba(255, 255, 0, .4);\n        }\n\n        /* Used to force a border model for a node */\n        .cm-force-border { padding-right: .1px; }\n\n        @media print {\n            /* Hide the cursor when printing */\n            .CodeMirror div.CodeMirror-cursors {\n            visibility: hidden;\n            }\n        }\n\n        /* See issue #2901 */\n        .cm-tab-wrap-hack:after { content: ''; }\n\n        /* Help users use markselection to safely style text background */\n        span.CodeMirror-selectedtext { background: none; }\n\n\n        /*\n        THEME\n        MDN-LIKE Theme - Mozilla\n        Ported to CodeMirror by Peter Kroon <plakroon@gmail.com>\n        Report bugs/issues here: https://github.com/codemirror/CodeMirror/issues\n        GitHub: @peterkroon\n\n        The gd theme is inspired on the displayed code examples at: https://developer.mozilla.org/en-US/docs/Web/CSS/animation\n\n        */\n        .cm-s-gd.CodeMirror { color: #999; background:rgba(250,251,252,1); border-radius:1px; border:1px solid rgba(233,236,241,1); width: 100%; height: 100% }\n        .cm-s-gd div.CodeMirror-selected { background: #cfc; }\n        .cm-s-gd .CodeMirror-line::selection, .cm-s-gd .CodeMirror-line > span::selection, .cm-s-gd .CodeMirror-line > span > span::selection { background: #cfc; }\n        .cm-s-gd .CodeMirror-line::-moz-selection, .cm-s-gd .CodeMirror-line > span::-moz-selection, .cm-s-gd .CodeMirror-line > span > span::-moz-selection { background: #cfc; }\n\n        .cm-s-gd .CodeMirror-gutters { width: 17px; color: #333; }\n        .cm-s-gd .CodeMirror-linenumber { color: #aaa; padding: 0; }\n        .cm-s-gd .CodeMirror-cursor { border-left: 2px solid #aaa; }\n\n        .cm-s-gd .cm-keyword { color: #6262FF; }\n        .cm-s-gd .cm-atom { color: #F90; }\n        .cm-s-gd .cm-number { color:  #ca7841; }\n        .cm-s-gd .cm-def { color: #8DA6CE; }\n        .cm-s-gd span.cm-variable-2, .cm-s-gd span.cm-tag { color: #690; }\n        .cm-s-gd span.cm-variable-3, .cm-s-gd span.cm-def, .cm-s-gd span.cm-type { color: #07a; }\n\n        .cm-s-gd .cm-variable { color: #07a; }\n        .cm-s-gd .cm-property { color: #905; }\n        .cm-s-gd .cm-qualifier { color: #690; }\n\n        .cm-s-gd .cm-operator { color: #cda869; }\n        .cm-s-gd .cm-comment { color:#777; font-weight:normal; }\n        .cm-s-gd .cm-string { color:#07a; font-style:italic; }\n        .cm-s-gd .cm-string-2 { color:#bd6b18; } /*?*/\n        .cm-s-gd .cm-meta { color: #000; } /*?*/\n        .cm-s-gd .cm-builtin { color: #9B7536; } /*?*/\n        .cm-s-gd .cm-tag { color: #997643; }\n        .cm-s-gd .cm-attribute { color: #d6bb6d; } /*?*/\n        .cm-s-gd .cm-header { color: #FF6400; }\n        .cm-s-gd .cm-hr { color: #AEAEAE; }\n        .cm-s-gd .cm-link { color:#ad9361; font-style:italic; text-decoration:none; }\n        .cm-s-gd .cm-error { border-bottom: 1px solid red; }\n\n        div.cm-s-gd .CodeMirror-activeline-background { background: #efefff; }\n        div.cm-s-gd span.CodeMirror-matchingbracket { outline:1px solid grey; color: inherit; }\n    }\n}\n:global {\n    /*\n    Hint\n    */\n    .CodeMirror-hints {\n        position: absolute;\n        z-index: 1000;\n        overflow: hidden;\n        list-style: none;\n\n        margin: 0;\n        padding: 2px;\n\n        -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n        -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n        box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n        border-radius: 3px;\n        border: 1px solid silver;\n\n        background: white;\n        font-size: 90%;\n        font-family: monospace;\n\n        max-height: 20em;\n        overflow-y: auto;\n    }\n\n    .CodeMirror-hint {\n        margin: 0;\n        padding: 0 4px;\n        border-radius: 2px;\n        white-space: pre;\n        color: black;\n        cursor: pointer;\n    }\n\n    li.CodeMirror-hint-active {\n        background: #08f;\n        color: white;\n    }\n    .CodeMirror-empty {\n        width: 100%;\n    }\n}\n"]}]),n.locals={container:"_6iasJ",edit:"_3yrPQ","CodeMirror-gutter-wrapper":"_2cSmN","CodeMirror-line":"_2Uzs6","cm-s-gd":"_2sA4x",blink:"_3wqvG"}},885:function(e,n,t){var a=t(886),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},886:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._2shM4 {\n    position: relative;\n    z-index: 1;\n    margin: 0 auto;\n    padding: 5px;\n    border-radius: 2px;\n    background-clip: border-box;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n    ._2shM4 .TR6pj {\n        visibility: hidden;\n    }\n\n\n._2shM4:hover {\n        cursor: pointer;\n    }\n\n\n._2shM4:hover .TR6pj {\n            visibility: visible;\n        }\n\n\n._3CVm8 {\n    box-shadow: 0 3px 6px rgba(0, 0, 255, 0.16), 0 3px 6px rgba(0, 0, 255, 0.23);\n}\n","",{version:3,sources:["StageContent.scss"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,UAAU;IACV,cAAc;IACd,YAAY;IACZ,kBAAkB;IAClB,2BAA2B;IAC3B,yBAAiB;OAAjB,sBAAiB;QAAjB,qBAAiB;YAAjB,iBAAiB;AAYrB;;IAVI;QACI,kBAAkB;IACtB;;;AAEA;QACI,eAAe;IAInB;;;AAHI;YACI,mBAAmB;QACvB;;;AAKR;IACI,4EAA4E;AAChF",file:"StageContent.scss",sourcesContent:[".nodeContent {\n    position: relative;\n    z-index: 1;\n    margin: 0 auto;\n    padding: 5px;\n    border-radius: 2px;\n    background-clip: border-box;\n    user-select: none;\n\n    .operation {\n        visibility: hidden;\n    }\n\n    &:hover {\n        cursor: pointer;\n        .operation {\n            visibility: visible;\n        }\n    }\n}\n\n\n.node-selected {\n    box-shadow: 0 3px 6px rgba(0, 0, 255, 0.16), 0 3px 6px rgba(0, 0, 255, 0.23);\n}\n"]}]),n.locals={nodeContent:"_2shM4",operation:"TR6pj","node-selected":"_3CVm8"}},928:function(e,n,t){var a=t(929),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},929:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,".vx0Uy {\n    transition: .25s ease-out;\n}\n._304lM {\n    box-shadow:-2px 2px 4px 0px rgba(0,0,0,0.06);\n}\n\n._2gDaP {\n    position: relative;\n    margin-bottom: -6px;\n    cursor: row-resize;\n    height: 6px;\n    z-index: 2;\n    border-top: 2px solid transparent\n}\n\n._2gDaP.FMkwU {\n        border-color: var(--color-primary-400)\n    }\n","",{version:3,sources:["Drawer.scss"],names:[],mappings:"AAAA;IACI,yBAAyB;AAC7B;AACA;IACI,4CAA4C;AAChD;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;IAClB,WAAW;IACX,UAAU;IACV;AAIJ;;AAHI;QACI;IACJ",file:"Drawer.scss",sourcesContent:[".drawerContainer {\n    transition: .25s ease-out;\n}\n.drawer {\n    box-shadow:-2px 2px 4px 0px rgba(0,0,0,0.06);\n}\n\n.resize {\n    position: relative;\n    margin-bottom: -6px;\n    cursor: row-resize;\n    height: 6px;\n    z-index: 2;\n    border-top: 2px solid transparent;\n    &.resizing {\n        border-color: var(--color-primary-400)\n    }\n}\n"]}]),n.locals={drawerContainer:"vx0Uy",drawer:"_304lM",resize:"_2gDaP",resizing:"FMkwU"}},930:function(e,n,t){var a=t(931),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},931:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._2bQ6h {\n    width: 147px;\n    padding: 10px 0 0 10px;\n    border-right: 1px solid var(--color-grey-400);\n}\n    ._2bQ6h ._39OUE {\n        height: 45px;\n        padding-left: 20px;\n        cursor: pointer;\n    }\n    ._2bQ6h ._39OUE i {\n            margin-right: 8px;\n        }\n    ._2bQ6h .iarUp {\n        border-top: 1px solid var(--color-grey-400);\n        border-bottom: 1px solid var(--color-grey-400);\n        border-left: 3px solid var(--color-primary-400);\n        margin-right: -1px;\n        padding-left: 17px;\n    }\n","",{version:3,sources:["Tabs.scss"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,sBAAsB;IACtB,6CAA6C;AAgBjD;IAfI;QACI,YAAY;QACZ,kBAAkB;QAClB,eAAe;IAInB;IAHI;YACI,iBAAiB;QACrB;IAEJ;QACI,2CAA2C;QAC3C,8CAA8C;QAC9C,+CAA+C;QAC/C,kBAAkB;QAClB,kBAAkB;IACtB",file:"Tabs.scss",sourcesContent:[".tabs {\n    width: 147px;\n    padding: 10px 0 0 10px;\n    border-right: 1px solid var(--color-grey-400);\n    .tab {\n        height: 45px;\n        padding-left: 20px;\n        cursor: pointer;\n        i {\n            margin-right: 8px;\n        }\n    }\n    .active {\n        border-top: 1px solid var(--color-grey-400);\n        border-bottom: 1px solid var(--color-grey-400);\n        border-left: 3px solid var(--color-primary-400);\n        margin-right: -1px;\n        padding-left: 17px;\n    }\n}\n"]}]),n.locals={tabs:"_2bQ6h",tab:"_39OUE",active:"iarUp"}},932:function(e,n,t){var a=t(933),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},933:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._3SycL i ~ ._1tQtr {\n        margin-left: 4px;\n    }\n    ._3SycL ._1tQtr ~ i {\n        margin-left: 4px;\n    }","",{version:3,sources:["CFGTitle.scss"],names:[],mappings:"AACI;QACI,gBAAgB;IACpB;IACA;QACI,gBAAgB;IACpB",file:"CFGTitle.scss",sourcesContent:[".title {\n    i ~ .titleLabel {\n        margin-left: 4px;\n    }\n    .titleLabel ~ i {\n        margin-left: 4px;\n    }\n}"]}]),n.locals={title:"_3SycL",titleLabel:"_1tQtr"}},964:function(e,n,t){var a=t(965),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},965:function(e,n,t){(e.exports=t(25)(!0)).push([e.i,".ant-select .ant-select-selection--multiple::before {\n        display: none;\n    }","",{version:3,sources:["CFGValueChooser.scss"],names:[],mappings:"AACI;QACI,aAAa;IACjB",file:"CFGValueChooser.scss",sourcesContent:[":global {\n    .ant-select .ant-select-selection--multiple::before {\n        display: none;\n    }\n}"]}])},966:function(e,n,t){var a=t(967),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},967:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._1eF6o {\n    position: relative;\n    height: 32px;\n    width: 30%;\n    margin-right: 10px;\n}\n\n    ._1eF6o ._2LNoW {\n        display: none;\n    }\n\n._1eF6o:hover {\n        background: var(--color-grey-100);\n    }\n\n._1eF6o:hover ._2LNoW {\n            display: block;\n        }\n\n._1eF6o::after {\n        content: '';\n        height: 1px;\n        width: 1000px;\n        background: var(--color-grey-400);\n        position: absolute;\n        bottom: 0;\n    }\n\n._1eF6o ._1oWpX {\n        position: relative;\n        z-index: 2;\n        height: 26px;\n    }\n","",{version:3,sources:["ColumnItem.scss"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,YAAY;IACZ,UAAU;IACV,kBAAkB;AA2BtB;;IAzBI;QACI,aAAa;IACjB;;AAEA;QACI,iCAAiC;IAIrC;;AAHI;YACI,cAAc;QAClB;;AAGJ;QACI,WAAW;QACX,WAAW;QACX,aAAa;QACb,iCAAiC;QACjC,kBAAkB;QAClB,SAAS;IACb;;AAEA;QACI,kBAAkB;QAClB,UAAU;QACV,YAAY;IAChB",file:"ColumnItem.scss",sourcesContent:[".columnItem {\n    position: relative;\n    height: 32px;\n    width: 30%;\n    margin-right: 10px;\n\n    .rename {\n        display: none;\n    }\n\n    &:hover {\n        background: var(--color-grey-100);\n        .rename {\n            display: block;\n        }\n    }\n\n    &::after {\n        content: '';\n        height: 1px;\n        width: 1000px;\n        background: var(--color-grey-400);\n        position: absolute;\n        bottom: 0;\n    }\n\n    .input {\n        position: relative;\n        z-index: 2;\n        height: 26px;\n    }\n}\n"]}]),n.locals={columnItem:"_1eF6o",rename:"_2LNoW",input:"_1oWpX"}},968:function(e,n,t){var a=t(969),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},969:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._1JBj6 {\n    overflow: hidden;\n}\n    ._1JBj6 .xkhCL {\n        border-bottom:1px solid var(--color-grey-400);\n    }\n    ._1JBj6 ._3oUvI {\n        flex-wrap: wrap\n    }\n    ._1JBj6 ._3oUvI > div:first-child {\n            margin-left: -3px;\n        }\n","",{version:3,sources:["CFGColumnSelector.scss"],names:[],mappings:"AAAA;IACI,gBAAgB;AAUpB;IATI;QACI,6CAA6C;IACjD;IACA;QACI;IAIJ;IAHI;YACI,iBAAiB;QACrB",file:"CFGColumnSelector.scss",sourcesContent:[".container {\n    overflow: hidden;\n    .header {\n        border-bottom:1px solid var(--color-grey-400);\n    }\n    .body {\n        flex-wrap: wrap;\n        & > div:first-child {\n            margin-left: -3px;\n        }\n    }\n}\n"]}]),n.locals={container:"_1JBj6",header:"xkhCL",body:"_3oUvI"}},986:function(e,n,t){var a=t(987),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},987:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._12abY .ant-select-selection-selected-value {\n            width: 100%;\n        }\n","",{version:3,sources:["IOInputsSelect.scss"],names:[],mappings:"AAEQ;YACI,WAAW;QACf",file:"IOInputsSelect.scss",sourcesContent:[".select {\n    :global {\n        .ant-select-selection-selected-value {\n            width: 100%;\n        }\n    }\n}\n"]}]),n.locals={select:"_12abY"}},996:function(e,n,t){var a=t(997),r=t(26),o="string"==typeof a?[[e.i,a,""]]:a;(n=e.exports=a.locals||{})._getContent=function(){return o},n._getCss=function(){return""+a},n._insertCss=function(e){return r(o,e)}},997:function(e,n,t){(n=e.exports=t(25)(!0)).push([e.i,"._2xTPL {\n    min-width: 100px;\n}\n    ._2xTPL ._3DL79 {\n        line-height: 32px;\n    }\n._3Y0Xc ._3DPhZ { width: 80px; }\n._3Y0Xc div {\n        line-height: 32px;\n    }\n._1jD3s { line-height: 32px; }","",{version:3,sources:["DatasetMeta.scss"],names:[],mappings:"AAAA;IACI,gBAAgB;AAIpB;IAHI;QACI,iBAAiB;IACrB;AAGA,kBAAa,WAAW,EAAE;AAC1B;QACI,iBAAiB;IACrB;AAEJ,UAAS,iBAAiB,EAAE",file:"DatasetMeta.scss",sourcesContent:[".kvPair {\n    min-width: 100px;\n    .kvPairValue {\n        line-height: 32px;\n    }\n}\n.colGroup {\n    .groupName { width: 80px; }\n    div {\n        line-height: 32px;\n    }\n}\n.sLine { line-height: 32px; }"]}]),n.locals={kvPair:"_2xTPL",kvPairValue:"_3DL79",colGroup:"_3Y0Xc",groupName:"_3DPhZ",sLine:"_1jD3s"}}}]);